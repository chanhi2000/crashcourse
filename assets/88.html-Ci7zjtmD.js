import{_ as h}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as k,a as n,t as m,b as s,w as o,n as i,g as p,d as a,e as l,r as u,o as g}from"./app-U_bew1in.js";const w={},b={id:"frontmatter-title-관련",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-관련"},f={class:"table-of-contents"},y=n("hr",null,null,-1),x=l('<h2 id="project-27-part-one" tabindex="-1"><a class="header-anchor" href="#project-27-part-one"><span>Project 27, part one</span></a></h2><p>So far I’ve been working hard to introduce you to a variety of Apple’s built-in components: <code>UIViewController</code>, <code>UITableView</code>, <code>UISlider</code>, and more – all really important, and all fundamental building blocks that you’ll use when building your own apps.</p><p>Now, though, it’s time for you to learn how to do <em>custom</em> drawing: how to render shapes, colors, text, and images of your choosing, so that you can make images dynamically rather than relying solely on those in your asset catalog.</p><p>Apple’s framework for this is called Core Graphics, and it gives you a large blank canvas to render into whatever takes hold of your imagination. As Michelangelo once said, “every block of stone has a statue inside it and it is the task of the sculptor to discover it.”</p><p>I’m going to teach you the tools you need to create your own artwork, but what you do with those tools is down to you!</p><p><strong>Today you have six topics to work through, and you’ll learn about <code>UIGraphicsImageRenderer</code>, drawing fills and strokes, and insetting a <code>CGRect</code>, while also getting more practice with <code>NSAttributedString</code>, and more.</strong></p><h3 id="setting-up" tabindex="-1"><a class="header-anchor" href="#setting-up"><span>Setting up</span></a></h3>',7),C={class:"hint-container details"},I=n("summary",null,"Setting up",-1),_=n("p",null,"You're probably tired of me saying this: iOS is full of powerful and easy to use programming frameworks. It's true, and you've already met UIKit, SpriteKit, Core Animation, Core Motion, Core Image, Core Location, Grand Central Dispatch and more. But how would you feel if I said that we've yet to use one of the biggest, most powerful and most important frameworks of all?",-1),G=n("p",null,"Well, it's true. And in this technique project we're going to right that wrong. The framework is called Core Graphics, and it's responsible for device-independent 2D drawing – when you want to draw shapes, paths, shadows, colors or so on, you'll want Core Graphics. Being device-independent means you can draw things to the screen or draw them in a PDF without having to change your code.",-1),S=n("p",null,"Create a new Single View App project, name it Project27, then adjust its project settings so that it’s iPad-only. We're going to create a Core Graphics sandbox that's similar to project 15's Core Animation sandbox – a button you can type will trigger Core Graphics drawing in different ways.",-1),T={href:"https://github.com/twostraws/HackingWithSwift",target:"_blank",rel:"noopener noreferrer"},R=n("h3",{id:"creating-the-sandbox",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#creating-the-sandbox"},[n("span",null,"Creating the sandbox")])],-1),j={class:"hint-container details"},D=n("summary",null,"Creating the sandbox",-1),U=n("code",null,"Main.storyboard",-1),A=n("code",null,"[Editor]",-1),z=n("code",null,"[Resolve Auto Layout Issues]",-1),P=n("code",null,"[Reset to Suggested Constraints]",-1),q=n("p",null,[a("We're going to need to reference the image view in code, so please switch to the assistant editor and create an outlet for it called "),n("code",null,"imageView"),a(". While you're there, you should also create an action for the button being tapped, called "),n("code",null,"redrawTapped()"),a(".")],-1),V=n("code",null,"ViewController.swift",-1),N=l(`<figure><img src="https://www.hackingwithswift.com/img/books/hws/27-1.png" alt="Here&#39;s our basic layout: a big  with a  underneath." tabindex="0" loading="lazy"><figcaption>Here&#39;s our basic layout: a big <code>UIImageView</code> with a <code>UIButton</code> underneath.</figcaption></figure><p>We&#39;re going to use a similar code structure to project 15: a property that we increment through, using a switch/case to call different methods each time. In addition, we need <code>viewDidLoad()</code> to call an initial method so that we start by drawing something. Start by adding this property to your view controller:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> currentDrawType <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And now create this empty method – we&#39;ll be filling it shortly:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As with project 15, the button we placed needs to add one to the property, wrapping it back to zero when it reaches a certain point. The property is then used to decide what method to call, although right now we&#39;re only going to have one useful case: <code>drawRectangle()</code>.</p><p>Here&#39;s the initial code for <code>redrawTapped()</code>; we&#39;ll be adding more cases over time:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@IBAction</span> <span class="token keyword">func</span> <span class="token function-definition function">redrawTapped</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> sender<span class="token punctuation">:</span> <span class="token keyword">Any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    currentDrawType <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> currentDrawType <span class="token operator">&gt;</span> <span class="token number">5</span> <span class="token punctuation">{</span></span>
<span class="line">        currentDrawType <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">switch</span> currentDrawType <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The only remaining step to make our sandbox complete is to have <code>viewDidLoad()</code> call the <code>drawRectangle()</code> method so that the screen starts by showing something. Change your <code>viewDidLoad()</code> method to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">viewDidLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Running the app at this point will do very little, because although your user interface works the code effectively does nothing. We&#39;re going to fix that by filling in the <code>drawRectangle()</code> method, then proceed to add more cases to the <code>switch/case</code> block.</p>`,11),B=n("h3",{id:"drawing-into-a-core-graphics-context-with-uigraphicsimagerenderer",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#drawing-into-a-core-graphics-context-with-uigraphicsimagerenderer"},[n("span",null,[a("Drawing into a Core Graphics context with "),n("code",null,"UIGraphicsImageRenderer")])])],-1),L={class:"hint-container details"},W=n("summary",null,"Drawing into a Core Graphics context with UIGraphicsImageRenderer",-1),F=n("p",null,"https://www.hackingwithswift.com/read/2",-1),K=l(`<p>Carl Sagan once said, &quot;if you wish to make an apple pie from scratch, you must first invent the universe.&quot; Filling in the <code>drawRectangle()</code> method doesn&#39;t require you to invent the universe, but it <em>does</em> require a fair amount of Core Graphics learning before you get to the actual drawing part. I will, of course, try to remove as much of it as I can so that the remaining bits are important.</p><p>The most important thing to understand is that, like Core Animation, Core Graphics sits at a lower technical level than UIKit. This means it doesn&#39;t understand classes you know like <code>UIColor</code> and <code>UIBezierPath</code>, so you either need to use their counterparts (<code>CGColor</code> and <code>CGPath</code> respectively), or use helper methods from UIKit that convert between the two.</p><p>Second you need to understand that Core Graphics differentiates between creating a path and drawing a path. That is, you can add lines, squares and other shapes to a path as much as you want to, but none of it will do anything until you actually draw the path. Think of it like a simple state machine: you configure a set of states you want (colors, transforms, and so on), then perform actions. You can even maintain multiple states at a time by pushing and popping in order to backup and restore specific states.</p><p>Finally, you should know that Core Graphics is extremely fast: you can use it for updating drawing in real time, and you&#39;ll be very impressed. Core Graphics can work on a background thread – something that UIKit can&#39;t do – which means you can do complicated drawing without locking up your user interface.</p><p>It&#39;s time to start looking at some code, so it’s time to meet the <code>UIGraphicsImageRenderer</code> class. This was introduced in iOS 10 to allow fast and easy graphics rendering, while also quietly adding support for wide color devices like the iPad Pro. It works with closures, which might seem annoying if you’re still not comfortable with them, but has the advantage that you can build complex drawing instructions by composing functions.</p><p>Now, wait a minute: that class name starts with &quot;UI&quot;, so what makes it anything to do with Core Graphics? Well, it <em>isn’t</em> a Core Graphics class; it’s a UIKit class, but it acts as a gateway to and from Core Graphics for UIKit-based apps like ours. You create a renderer object and start a rendering context, but everything between will be Core Graphics functions or UIKit methods that are designed to work with Core Graphics contexts.</p><p>In Core Graphics, a context is a canvas upon which we can draw, but it also stores information about how we want to draw (e.g., what should our line thickness be?) and information about the device we are drawing to. So, it&#39;s a combination of canvas and metadata all in one, and it&#39;s what you&#39;ll be using for all your drawing. This Core Graphics context is exposed to us when we render with <code>UIGraphicsImageRenderer</code>.</p><p>When you create a renderer, you get to specify how big it should be, whether it should be opaque or not, and what pixel to point scale you want. To kick off rendering you can either call the <code>image()</code> function to get back a <code>UIImage</code> of the results, or call the <code>pngData()</code> and <code>jpegData()</code> methods to get back a <code>Data</code> object in PNG or JPEG format respectively.</p><p>Armed with this knowledge, you can write the first version of <code>drawRectangle()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        <span class="token comment">// awesome drawing code</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In that code, we create a <code>UIGraphicsImageRenderer</code> with the size 512x512, leaving it with default values for scale and opacity – that means it will be the same scale as the device (<em>e.g.</em> 2x for retina) and transparent.</p><p>Creating the renderer doesn’t actually start any rendering – that’s done in the <code>image()</code> method. This accepts a closure as its only parameter, which is code that should do all the drawing. It gets passed a single parameter that I’ve named <code>ctx</code>, which is a reference to a <code>UIGraphicsImageRendererContext</code> to draw to. This is a thin wrapper around another data type called <code>CGContext</code>, which is where the majority of drawing code lives.</p><p>When the rendering has finished it gets placed into the <code>image</code> constant, which in turn gets sent to the image view for display. Our rendering code is empty right now, but it will still result in an empty 512x512 image being created.</p><p>Let’s make things more interesting by having the <code>drawRectangle()</code> method actually draw a rectangle. And not just <em>any</em> rectangle – a <code>stroked</code> rectangle, which is a rectangle with a line around it.</p><p>There are a number of ways of drawing boxes in Core Graphics, but I&#39;ve chosen the easiest: we&#39;ll define a <code>CGRect</code> structure that holds the bounds of our rectangle, we&#39;ll set the context&#39;s fill color to be red and its stroke color to be black, we&#39;ll set the context&#39;s line drawing width to be 10 points, then add a rectangle path to the context and draw it.</p><p>The part that might seem strange is the way we&#39;re adding a path then drawing it. This is because you can actually add multiple paths to your context before drawing, which means Core Graphics batches them all together. Your path can be as simple or as complicated as you want, you still need to set up your Core Graphics state as you want it then draw the path.</p><p>Although the <code>UIGraphicsImageRendererContext</code> does have a handful of methods we can call to do basic drawing, almost all the good stuff lies in its <code>cgContext</code> property that gives us the full power of Core Graphics.</p><p>Let&#39;s take a look at the five new methods you&#39;ll need to use to draw our box:</p><ol><li><code>setFillColor()</code> sets the fill color of our context, which is the color used on the insides of the rectangle we&#39;ll draw.</li><li><code>setStrokeColor()</code> sets the stroke color of our context, which is the color used on the line around the edge of the rectangle we&#39;ll draw.</li><li><code>setLineWidth()</code> adjusts the line width that will be used to stroke our rectangle. Note that the line is drawn centered on the edge of the rectangle, so a value of 10 will draw 5 points inside the rectangle and five points outside.</li><li><code>addRect()</code> adds a <code>CGRect</code> rectangle to the context&#39;s current path to be drawn.</li><li><code>drawPath()</code> draws the context&#39;s current path using the state you have configured.</li></ol><p>All five of those are called on the Core Graphics context that comes from <code>ctx.cgContext</code>, using a parameter that does the actual work. So for setting colors the parameter is the color to set (remember how to convert <code>UIColor</code> values to <code>CGColor</code> values? I hope so!), for setting the line width it&#39;s a number in points, for adding a rectangle path it&#39;s the <code>CGRect</code> of your rectangle, and for drawing it&#39;s a special constant that says whether you want just the fill, just the stroke, or both.</p><p>Time for some code: replace <code>// awesome drawing code</code> with this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> rectangle <span class="token operator">=</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setFillColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>red<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setStrokeColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span>rectangle<span class="token punctuation">)</span></span>
<span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>fillStroke<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>At long last, this project does something useful: when you run it, you&#39;ll see a red box with a black line around it. You can’t really see it just yet, but the black line will be just five points across in its original image because it&#39;s centered on the edge of its path and therefore is cropped. You&#39;ll see this more clearly in a moment.</p>`,23),E=n("h3",{id:"ellipses-and-checkerboards",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ellipses-and-checkerboards"},[n("span",null,"Ellipses and checkerboards")])],-1),M={class:"hint-container details"},O=n("summary",null,"Ellipses and checkerboards",-1),Y=l(`<p>Add a case to your <code>redrawTapped()</code> method to call a new method: <code>drawCircle()</code>. This will… wait for it… draw a circle. So, your <code>switch/case</code> should look like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">switch</span> currentDrawType <span class="token punctuation">{</span></span>
<span class="line"><span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token function">drawRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">    <span class="token keyword">break</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>There are several ways of drawing rectangles using Core Graphics, but the method we used in <code>drawRectangle()</code> is particularly useful because in order to draw a circle we need to change just one line of code. This is because drawing circles (or indeed any elliptical shape) in Core Graphics is done by specifying its rectangular bounds.</p><p>So, where before you had:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span>rectangle<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>…you can now use this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addEllipse</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> rectangle<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>It even has the same parameters! So, the full <code>drawCircle()</code> method is this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawCircle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        <span class="token keyword">let</span> rectangle <span class="token operator">=</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setFillColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>red<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setStrokeColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addEllipse</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> rectangle<span class="token punctuation">)</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>using<span class="token punctuation">:</span> <span class="token punctuation">.</span>fillStroke<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Run the app now and click the button once to make it draw a circle. Notice how the stroke around the edge appears to be clipped at the top, right, bottom and left edges? This is a direct result of what I was saying about stroke positioning: the stroke is centered on the edge of the path, meaning that a 10 point stroke is 5 points inside the path and 5 points outside.</p><figure><img src="https://www.hackingwithswift.com/img/books/hws/27-2.png" alt="Now that we&#39;re drawing a circle, you can see how Core Graphics is clipping our border at the edges." tabindex="0" loading="lazy"><figcaption>Now that we&#39;re drawing a circle, you can see how Core Graphics is clipping our border at the edges.</figcaption></figure><p>The rectangle being used to define our circle is the same size as the whole context, meaning that it goes edge to edge – and thus the stroke gets clipped. To fix the problem, change the rectangle to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> rectangle <span class="token operator">=</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">502</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">502</span><span class="token punctuation">)</span>\`</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That indents the circle by 5 points on all sides, so the stroke will now look uniform around the entire shape.</p><p>While that works fine, there is a better option: <code>CGRect</code> has an <code>insetBy()</code> method that lets us push each edge in by a certain amount. So instead of the above, a much cleaner piece of code is this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> rectangle <span class="token operator">=</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insetBy</span><span class="token punctuation">(</span>dx<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That adds 5 points of inset on each edge, which has the same result.</p><p>A different way of drawing rectangles is just to fill them directly with your target color. Add a &quot;case 2&quot; to your <code>switch/case</code> that calls a method named <code>drawCheckerboard()</code>, and give it this code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawCheckerboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setFillColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token number">0</span> <span class="token operator">..&lt;</span> <span class="token number">8</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">for</span> col <span class="token keyword">in</span> <span class="token number">0</span> <span class="token operator">..&lt;</span> <span class="token number">8</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>row <span class="token operator">+</span> col<span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">                    ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> col <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> row <span class="token operator">*</span> <span class="token number">64</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The only piece of code in there that you won&#39;t recognize is <code>fill()</code>, which skips the add path / draw path work and just fills the rectangle given as its parameter using whatever the current fill color is. You already know about ranges and modulo, so you should be able to see that this method makes every other square black, alternating between rows.</p><p>There are two things to be aware of with that code. First, we&#39;re filling every other square in black, but leaving the other squares alone. As we haven’t specified that our renderer is opaque, this means those places where we haven&#39;t filled anything will be transparent. So, if the view behind was green, you&#39;d get a black and green checkerboard. Second, you can actually make checkerboards using a Core Image filter – check out <code>CICheckerboardGenerator</code> to see how!</p><figure><img src="https://www.hackingwithswift.com/img/books/hws/27-3.png" alt="Drawing a checkerboard with Core Graphics is just a matter of drawing squares with alternating colors." tabindex="0" loading="lazy"><figcaption>Drawing a checkerboard with Core Graphics is just a matter of drawing squares with alternating colors.</figcaption></figure>`,22),H=n("h3",{id:"transforms-and-lines",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#transforms-and-lines"},[n("span",null,"Transforms and lines")])],-1),Z={class:"hint-container details"},J=n("summary",null,"Transforms and lines",-1),X=l(`<p>Add another case to your <code>switch/case</code> block, and make this one call another new method named <code>drawRotatedSquares()</code>. This is going to demonstrate how we can apply transforms to our context before drawing, and how you can stroke a path without filling it.</p><p>To make this happen, you need to know three new Core Graphics methods:</p><ol><li><code>translateBy()</code> translates (moves) the current transformation matrix.</li><li><code>rotate(by:)</code> rotates the current transformation matrix.</li><li><code>strokePath()</code> strokes the path with your specified line width, which is 1 if you don&#39;t set it explicitly.</li></ol><p>The current transformation matrix is very similar to those <code>CGAffineTransform</code> modifications we used in project 15, except its application is a little different in Core Graphics. In UIKit, you rotate drawing around the center of your view, as if a pin was stuck right through the middle. In Core Graphics, you rotate around the top-left corner, so to avoid that we&#39;re going to move the transformation matrix half way into our image first so that we&#39;ve effectively moved the rotation point.</p><p>This also means we need to draw our rotated squares so they are centered on our center: for example, setting their top and left coordinates to be -128 and their width and height to be 256.</p><p>Here&#39;s the code for the method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawRotatedSquares</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">translateBy</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">let</span> rotations <span class="token operator">=</span> <span class="token number">16</span></span>
<span class="line">        <span class="token keyword">let</span> amount <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token class-name">Double</span><span class="token punctuation">(</span>rotations<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">0</span> <span class="token operator">..&lt;</span> rotations <span class="token punctuation">{</span></span>
<span class="line">            ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span><span class="token punctuation">(</span>amount<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addRect</span><span class="token punctuation">(</span><span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setStrokeColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">strokePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Run the app and look at the output: beautiful, rotated, stroked squares, with no extra calculations required. I mean, just stop for a moment and consider the math it would take to calculate the four corners of each of those rectangles. If sine and cosine are distant memories for you, be glad to have the current transformation matrix!</p><p>One thing that I should make clear: modifying the CTM is cumulative, which is what makes the above code work. That is, when you rotate the CTM, that transformation is applied on top of what was there already, rather than to a clean slate. So the code works by rotating the CTM a small amount more every time the loop goes around.</p><p>The last shape drawing I want to show you is how to draw lines, and you&#39;re going to need two new functions: <code>move(to:)</code> and <code>addLine(to:)</code>. These are the Core Graphics equivalents to the <code>UIBezierPath</code> paths we made in project 20 to move the fireworks.</p><p>Add another case to your switch/case block, this time calling <code>drawLines()</code>. I&#39;m going to make this translate and rotate the CTM again, although this time the rotation will always be 90 degrees. This method is going to draw boxes inside boxes, always getting smaller, like a square spiral. It&#39;s going to do this by adding a line to more or less the same point inside a loop, but each time the loop rotates the CTM so the actual point the line ends has moved too. It will also slowly decrease the line length, causing the space between boxes to shrink like a spiral. Here&#39;s the code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawLines</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">translateBy</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">256</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">var</span> first <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line">        <span class="token keyword">var</span> length<span class="token punctuation">:</span> <span class="token class-name">CGFloat</span> <span class="token operator">=</span> <span class="token number">256</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">for</span> <span class="token omit keyword">_</span> <span class="token keyword">in</span> <span class="token number">0</span> <span class="token operator">..&lt;</span> <span class="token number">256</span> <span class="token punctuation">{</span></span>
<span class="line">            ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>by<span class="token punctuation">:</span> <span class="token punctuation">.</span>pi <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">if</span> first <span class="token punctuation">{</span></span>
<span class="line">                ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> length<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                first <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">addLine</span><span class="token punctuation">(</span>to<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> length<span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            length <span class="token operator">*=</span> <span class="token number">0.99</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">setStrokeColor</span><span class="token punctuation">(</span><span class="token class-name">UIColor</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span>cgColor<span class="token punctuation">)</span></span>
<span class="line">        ctx<span class="token punctuation">.</span>cgContext<span class="token punctuation">.</span><span class="token function">strokePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The end result looks like one of the hand-crafted effects from the Twilight Zone, but it shows a little of the power that transforms and lines can bring to your drawing.</p>`,13),$=n("h3",{id:"images-and-text",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#images-and-text"},[n("span",null,"Images and text")])],-1),Q={class:"hint-container details"},nn=n("summary",null,"Images and text",-1),sn=l(`<p>Add one final case to your switch/case statement calling a method <code>drawImagesAndText()</code>, because no discussion of Core Graphics would be useful without telling you how to draw images and text to your context.</p><p>If you have an attributed string in Swift, how can you place it into a graphic? The answer is simpler than you think: attributed strings have a built-in method called <code>draw(with:)</code> that draws the string in a rectangle you specify. Even better, your attributed string styles are used to customize the font and size, the formatting, the line wrapping and more all with that one method.</p><p>Remarkably, the same is true of <code>UIImage</code>: any image can be drawn straight to a context, and it will even take into account the coordinate reversal of Core Graphics.</p><p>To help make the code clearer, here&#39;s a bulleted list of all the things the method needs to do:</p><ol><li>Create a renderer at the correct size.</li><li>Define a paragraph style that aligns text to the center.</li><li>Create an attributes dictionary containing that paragraph style, and also a font.</li><li>Wrap that attributes dictionary and a string into an instance of <code>NSAttributedString</code>.</li><li>Load an image from the project and draw it to the context.</li><li>Update the image view with the finished result.</li></ol><p>Below is that the same process, now coded in Swift. As per usual, the number comments match the list above:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">drawImagesAndText</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1</span></span>
<span class="line">    <span class="token keyword">let</span> renderer <span class="token operator">=</span> <span class="token class-name">UIGraphicsImageRenderer</span><span class="token punctuation">(</span>size<span class="token punctuation">:</span> <span class="token class-name">CGSize</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> img <span class="token operator">=</span> renderer<span class="token punctuation">.</span>image <span class="token punctuation">{</span> ctx <span class="token keyword">in</span></span>
<span class="line">        <span class="token comment">// 2</span></span>
<span class="line">        <span class="token keyword">let</span> paragraphStyle <span class="token operator">=</span> <span class="token class-name">NSMutableParagraphStyle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        paragraphStyle<span class="token punctuation">.</span>alignment <span class="token operator">=</span> <span class="token punctuation">.</span>center</span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 3</span></span>
<span class="line">        <span class="token keyword">let</span> attrs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">NSAttributedString</span><span class="token punctuation">.</span><span class="token class-name">Key</span><span class="token punctuation">:</span> <span class="token keyword">Any</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">            <span class="token punctuation">.</span>font<span class="token punctuation">:</span> <span class="token class-name">UIFont</span><span class="token punctuation">.</span><span class="token function">systemFont</span><span class="token punctuation">(</span>ofSize<span class="token punctuation">:</span> <span class="token number">36</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">.</span>paragraphStyle<span class="token punctuation">:</span> paragraphStyle</span>
<span class="line">        <span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 4</span></span>
<span class="line">        <span class="token keyword">let</span> string <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;The best-laid schemes o&#39;\\nmice an&#39; men gang aft agley&quot;</span></span></span>
<span class="line">        <span class="token keyword">let</span> attributedString <span class="token operator">=</span> <span class="token class-name">NSAttributedString</span><span class="token punctuation">(</span>string<span class="token punctuation">:</span> string<span class="token punctuation">,</span> attributes<span class="token punctuation">:</span> attrs<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 5</span></span>
<span class="line">        attributedString<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> <span class="token class-name">CGRect</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">32</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">448</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">448</span><span class="token punctuation">)</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token punctuation">.</span>usesLineFragmentOrigin<span class="token punctuation">,</span> context<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 5</span></span>
<span class="line">        <span class="token keyword">let</span> mouse <span class="token operator">=</span> <span class="token class-name">UIImage</span><span class="token punctuation">(</span>named<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;mouse&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        mouse<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 6</span></span>
<span class="line">    imageView<span class="token punctuation">.</span>image <span class="token operator">=</span> img</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That completes our project – good job!</p><figure><img src="https://www.hackingwithswift.com/img/books/hws/27-4.png" alt="s and s have built-in methods that let you draw them to a Core Graphics context." tabindex="0" loading="lazy"><figcaption><code>String</code>s and <code>UIImage</code>s have built-in methods that let you draw them to a Core Graphics context.</figcaption></figure>`,9),an=n("hr",null,null,-1);function en(d,tn){const e=u("router-link"),t=u("VPCard"),c=u("VidStack"),r=u("FontIcon");return g(),k("div",null,[n("h1",b,[n("a",v,[n("span",null,m(d.$frontmatter.title)+" 관련",1)])]),n("nav",f,[n("ul",null,[n("li",null,[s(e,{to:"#project-27-part-one"},{default:o(()=>[a("Project 27, part one")]),_:1}),n("ul",null,[n("li",null,[s(e,{to:"#setting-up"},{default:o(()=>[a("Setting up")]),_:1})]),n("li",null,[s(e,{to:"#creating-the-sandbox"},{default:o(()=>[a("Creating the sandbox")]),_:1})]),n("li",null,[s(e,{to:"#drawing-into-a-core-graphics-context-with-uigraphicsimagerenderer"},{default:o(()=>[a("Drawing into a Core Graphics context with UIGraphicsImageRenderer")]),_:1})]),n("li",null,[s(e,{to:"#ellipses-and-checkerboards"},{default:o(()=>[a("Ellipses and checkerboards")]),_:1})]),n("li",null,[s(e,{to:"#transforms-and-lines"},{default:o(()=>[a("Transforms and lines")]),_:1})]),n("li",null,[s(e,{to:"#images-and-text"},{default:o(()=>[a("Images and text")]),_:1})])])])])]),y,s(t,i(p({title:"100 Days of Swift - Day 88",desc:"Project 27, part one",link:"https://www.hackingwithswift.com/100/88",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),x,n("details",C,[I,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Setting up",desc:"Setting up",link:"https://www.hackingwithswift.com/read/27/1/setting-up",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(c,{src:"youtube/O-4-xPOXkj0"}),_,G,S,n("p",null,[a("If you haven't already downloaded the files for this project, please do so now from "),n("a",T,[s(r,{icon:"iconfont icon-github"}),a("GitHub")]),a(", then copy the mouse picture into your project.")])]),R,n("details",j,[D,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Creating the sandbox",desc:"Creating the sandbox",link:"https://www.hackingwithswift.com/read/27/2/creating-the-sandbox",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(c,{src:"youtube/_Z-KrWJrv1c"}),n("p",null,[a("Open "),s(r,{icon:"fas fa-file-lines"}),U,a(" in Interface Builder, then drag out an image view so that it fills the whole space of the view. Set its aspect mode to be Aspect Fit, so that images will be correctly resized according to the device’s aspect ratio. Now place a button near the bottom of the view controller, centered horizontally, then give it the title “Redraw”.")]),n("p",null,[a("We can make Interface Builder do all the constraints for this one: select the main view in the document outline, then go to "),s(r,{icon:"iconfont icon-select"}),A,a(" > "),z,a(" > "),P,a(".")]),q,n("p",null,[a("Switch back to the standard editor, and open up "),s(r,{icon:"fa-brands fa-swift"}),V,a(" because that's our user interface done; the rest is code!")]),N]),B,n("details",L,[W,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Drawing into a Core Graphics context with UIGraphicsImageRenderer",desc:"Drawing into a Core Graphics context with UIGraphicsImageRenderer",link:"https://www.hackingwithswift.com/guide/10/1/what-you-learned",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),F,s(c,{src:"youtube/vzXl0MhVXxY"}),K]),E,n("details",M,[O,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Ellipses and checkerboards",desc:"Ellipses and checkerboards",link:"https://www.hackingwithswift.com/read/27/4/ellipses-and-checkerboards",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(c,{src:"youtube/i0T0uWnaKDg"}),Y]),H,n("details",Z,[J,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Transforms and lines",desc:"Transforms and lines",link:"https://www.hackingwithswift.com/read/27/5/transforms-and-lines",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(c,{src:"youtube/y7NZvkTig40"}),X]),$,n("details",Q,[nn,s(t,i(p({"  title":"100 Days of Swift - Day 88 - Images and text",desc:"Images and text",link:"https://www.hackingwithswift.com/read/27/6/images-and-text",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(c,{src:"youtube/I12-RAh0BxI"}),sn]),an])}const cn=h(w,[["render",en],["__file","88.html.vue"]]),ln=JSON.parse('{"path":"/swift/100-days-of-swift/88.html","title":"Day 88","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Day 88","description":"100 Days of Swift > Day 88","category":["Swift"],"tag":["crashcourse","paul-hudson","swift","hacking-with-swift","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"100 Days of Swift > Day 88"},{"property":"og:description","content":"Day 88"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/swift/100-days-of-swift/88.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/swift/100-days-of-swift/88.html"}],["meta",{"property":"og:site_name","content":"🥁Crashcourse"}],["meta",{"property":"og:title","content":"Day 88"}],["meta",{"property":"og:description","content":"100 Days of Swift > Day 88"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.hackingwithswift.com/img/books/hws/27-1.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"paul-hudson"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"hacking-with-swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day 88\\",\\"image\\":[\\"https://www.hackingwithswift.com/img/books/hws/27-1.png\\",\\"https://www.hackingwithswift.com/img/books/hws/27-2.png\\",\\"https://www.hackingwithswift.com/img/books/hws/27-3.png\\",\\"https://www.hackingwithswift.com/img/books/hws/27-4.png\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Project 27, part one","slug":"project-27-part-one","link":"#project-27-part-one","children":[{"level":3,"title":"Setting up","slug":"setting-up","link":"#setting-up","children":[]},{"level":3,"title":"Creating the sandbox","slug":"creating-the-sandbox","link":"#creating-the-sandbox","children":[]},{"level":3,"title":"Drawing into a Core Graphics context with UIGraphicsImageRenderer","slug":"drawing-into-a-core-graphics-context-with-uigraphicsimagerenderer","link":"#drawing-into-a-core-graphics-context-with-uigraphicsimagerenderer","children":[]},{"level":3,"title":"Ellipses and checkerboards","slug":"ellipses-and-checkerboards","link":"#ellipses-and-checkerboards","children":[]},{"level":3,"title":"Transforms and lines","slug":"transforms-and-lines","link":"#transforms-and-lines","children":[]},{"level":3,"title":"Images and text","slug":"images-and-text","link":"#images-and-text","children":[]}]}],"git":{"createdTime":1705027451000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":11}]},"readingTime":{"minutes":13.91,"words":4174},"filePathRelative":"swift/100-days-of-swift/88.md","localizedDate":"2024년 1월 12일","excerpt":"\\n\\n<hr>\\n"}');export{cn as comp,ln as data};
