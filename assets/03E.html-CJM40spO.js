import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as d,a as n,t as k,b as s,w as p,n as m,g,d as a,e as c,r as o,o as v}from"./app-U_bew1in.js";const h={},b={id:"frontmatter-title-관련",tabindex:"-1"},f={class:"header-anchor",href:"#frontmatter-title-관련"},y={class:"table-of-contents"},_=n("hr",null,null,-1),w=n("hr",null,null,-1),q={href:"https://github.com/pahkey/sbb3/tree/3-05",target:"_blank",rel:"noopener noreferrer"},S=n("code",null,"pahkey/sbb3",-1),R=n("code",null,"3-05",-1),C=n("p",null,"스프링부트는 회원가입과 로그인을 도와주는 스프링 시큐리티(Spring Security)를 사용할수 있다. SBB도 스프링 시큐리티를 사용하여 회원가입과 로그인 기능을 만들 것이다. 그 전에 스프링 시큐리티에 대해서 간단하게 알아보고 필요한 설정도 진행해 보자.",-1),j=n("hr",null,null,-1),x=n("h2",{id:"스프링-시큐리티란",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#스프링-시큐리티란"},[n("span",null,"스프링 시큐리티란?")])],-1),E=n("p",null,"스프링 시큐리티는 스프링 기반 애플리케이션의 인증과 권한을 담당하는 스프링의 하위 프레임워크이다.",-1),H=n("ul",null,[n("li",null,"인증(Authenticate)은 로그인을 의미한다."),n("li",null,"권한(Authorize)은 인증된 사용자가 어떤 것을 할 수 있는지를 의미한다.")],-1),F=n("hr",null,null,-1),z=n("h2",{id:"스프링-시큐리티-설치",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#스프링-시큐리티-설치"},[n("span",null,"스프링 시큐리티 설치")])],-1),A=n("code",null,"build.gradle",-1),B=n("code",null,"/sbb/",-1),M=n("code",null,"build.gradle",-1),O=c(`<div class="language-groovy line-numbers-mode" data-highlighter="prismjs" data-ext="groovy" data-title="groovy"><pre><code><span class="line"><span class="token comment">// (... 생략 ...)</span></span>
<span class="line"></span>
<span class="line">dependencies <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// (... 생략 ...)</span></span>
<span class="line">    implementation <span class="token interpolation-string"><span class="token string">&quot;org.springframework.boot:spring-boot-starter-security&quot;</span></span></span>
<span class="line">    implementation <span class="token interpolation-string"><span class="token string">&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&quot;</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// (... 생략 ...)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),P=n("code",null,"[Refresh Gradle Project]",-1),W=c('<div class="hint-container info"><p class="hint-container-title">thymeleaf-extras-springsecurity6</p><p><code>thymeleaf-extras-springsecurity6</code> 패키지를 사용하기 위해 뒤에 <code>3.1.1.RELEASE</code>과 같은 버전 정보를 추가했다. <code>thymeleaf-extras-springsecurity6</code> 패키지는 스프링부트가 자체적으로 관리하는 패키지이기 때문에 버전 정보가 필요없지만 현재 사용중인 스프링부트 버전인 3.0.0 버전에서는 위와 같은 버전 정보를 입력하지 않으면 오류가 발생한다. 만약 버전 정보를 제거하고 사용하더라도 오류가 없다면 버전 정보 없이 사용하기 바란다.</p></div><hr><h2 id="스프링-시큐리티-설정" tabindex="-1"><a class="header-anchor" href="#스프링-시큐리티-설정"><span>스프링 시큐리티 설정</span></a></h2><p>스프링 시큐리티를 설치하고 로컬서버를 재시작한 후에 SBB의 질문 목록 화면에 접속해 보자. 아마도 다음과 같은 로그인 화면이 나타나서 깜짝 놀랄 것이다.</p><figure><img src="https://wikidocs.net/images/page/162150/O_3-05_1.png" alt="05_1" tabindex="0" loading="lazy"><figcaption>05_1</figcaption></figure><p>스프링 시큐리티는 기본적으로 인증되지 않은 사용자는 서비스를 사용할 수 없게끔 되어 있다. 따라서 인증을 위한 로그인 화면이 나타나는 것이다. 하지만 이러한 기본 기능은 SBB에 그대로 적용하기에는 곤란하므로 시큐리티의 설정을 통해 바로 잡아야 한다.</p><blockquote><p>SBB는 로그인 없이도 게시물을 조회할 수 있어야 한다.</p></blockquote><p>다음과 같이 SecurityConfig.java 파일을 작성하자.</p>',8),T=n("code",null,"/sbb/src/main/java/com/mysite/sbb/",-1),V=n("code",null,"SecurityConfig.java",-1),X=c(`<div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mysite<span class="token punctuation">.</span>sbb</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>builders<span class="token punctuation">.</span></span><span class="token class-name">HttpSecurity</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>web<span class="token punctuation">.</span>configuration<span class="token punctuation">.</span></span><span class="token class-name">EnableWebSecurity</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">SecurityFilterChain</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>util<span class="token punctuation">.</span>matcher<span class="token punctuation">.</span></span><span class="token class-name">AntPathRequestMatcher</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token annotation punctuation">@EnableWebSecurity</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        http</span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span><span class="token punctuation">(</span>authorizeHttpRequests<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> authorizeHttpRequests</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>@Configuration</code>은 스프링의 환경설정 파일임을 의미하는 애너테이션이다. 여기서는 스프링 시큐리티의 설정을 위해 사용되었다. <code>@EnableWebSecurity</code>는 모든 요청 URL이 스프링 시큐리티의 제어를 받도록 만드는 애너테이션이다.</p><blockquote><p><code>@EnableWebSecurity</code> 애너테이션을 사용하면 내부적으로 <code>SpringSecurityFilterChain</code>이 동작하여 URL 필터가 적용된다.</p></blockquote><p>스프링 시큐리티의 세부 설정은 <code>SecurityFilterChain</code> 빈을 생성하여 설정할 수 있다. 다음 문장은 모든 인증되지 않은 요청을 허락한다는 의미이다. 따라서 로그인을 하지 않더라도 모든 페이지에 접근할 수 있다.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line">http</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span><span class="token punctuation">(</span>authorizeHttpRequests<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> authorizeHttpRequests</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>이렇게 스프링 시큐리티 설정 파일을 구성하면 이제 질문 목록, 질문 답변 등의 기능을 이전과 동일하게 사용할 수 있다.</p><hr><h2 id="h2-콘솔" tabindex="-1"><a class="header-anchor" href="#h2-콘솔"><span>H2 콘솔</span></a></h2><p>하지만 스프링 시큐리티를 적용하면 H2 콘솔 로그인시 다음과 같은 403 Forbidden 오류가 발생한다.</p><figure><img src="https://wikidocs.net/images/page/162150/C_3-05_2.png" alt="05_2" tabindex="0" loading="lazy"><figcaption>05_2</figcaption></figure><p>403 Forbidden 오류가 발생하는 이유는 스프링 시큐리티를 적용하면 CSRF 기능이 동작하기 때문이다.</p><div class="hint-container info"><p class="hint-container-title">CSRF란?</p><p>CSRF(cross site request forgery)는 웹 사이트 취약점 공격을 방지를 위해 사용하는 기술이다. 스프링 시큐리티가 CSRF 토큰 값을 세션을 통해 발행하고 웹 페이지에서는 폼 전송시에 해당 토큰을 함께 전송하여 실제 웹 페이지에서 작성된 데이터가 전달되는지를 검증하는 기술이다.</p></div><p>이 오류를 해결하기 전에 질문 등록 화면을 열고 브라우저의 소스보기 기능을 이용하여 질문 등록 화면의 소스를 잠시 확인해 보자.</p><figure><img src="https://wikidocs.net/images/page/162150/C_3-05_3.png" alt="05_3" tabindex="0" loading="lazy"><figcaption>05_3</figcaption></figure><p>그러면 다음과 같이 질문 등록 화면의 소스를 볼 수 있다.</p><figure><img src="https://wikidocs.net/images/page/162150/C_3-05_4.png" alt="05_4" tabindex="0" loading="lazy"><figcaption>05_4</figcaption></figure><p>다음과 같은 input 엘리먼트가 폼(<code>form</code>) 태그 밑에 자동으로 생성된 것을 확인할 수 있다.</p><div class="language-html line-numbers-mode" data-highlighter="prismjs" data-ext="html" data-title="html"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_csrf<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0d609fbc-b102-4b3f-aa97-0ab30c8fcfd4<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>스프링 시큐리티에 의해 위와 같은 CSRF 토큰이 자동으로 생성된다. 즉, 스프링 시큐리티는 이렇게 발행한 CSRF 토큰의 값이 정확한지 검증하는 과정을 거친다. (만약 CSRF 값이 없거나 해커가 임의의 CSRF 값을 강제로 만들어 전송하는 악의적인 URL 요청은 스프링 시큐리티에 의해 블록킹 될 것이다.)</p><p>그런데 H2 콘솔은 이와 같은 CSRF 토큰을 발행하는 기능이 없기 때문에 위와 같은 403 오류가 발생하는 것이다.</p><blockquote><p>H2 콘솔은 스프링과 상관없는 일반 애플리케이션이다.</p></blockquote><p>스프링 시큐리티가 CSRF 처리시 H2 콘솔은 예외로 처리할 수 있도록 다음과 같이 설정 파일을 수정하자.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// (... 생략 ...)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token annotation punctuation">@EnableWebSecurity</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        http</span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span><span class="token punctuation">(</span>authorizeHttpRequests<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> authorizeHttpRequests</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>csrf<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> csrf</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">ignoringRequestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/h2-console/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>/h2-console/</code>로 시작하는 URL은 CSRF 검증을 하지 않는다는 설정을 추가했다. 이렇게 수정하고 다시 H2 콘솔에 접속해 보자. 이제 CSRF 검증이 예외 처리되어 로그인은 수행되지만 다음처럼 화면이 깨져보인다.</p><figure><img src="https://wikidocs.net/images/page/162150/O_3-05_5.png" alt="05_5" tabindex="0" loading="lazy"><figcaption>05_5</figcaption></figure><p>이 오류가 발생하는 원인은 H2 콘솔의 화면이 frame 구조로 작성되었기 때문이다. 스프링 시큐리티는 사이트의 콘텐츠가 다른 사이트에 포함되지 않도록 하기 위해 <code>X-Frame-Options</code> 헤더값을 사용하여 이를 방지한다. (clickjacking 공격을 막기위해 사용함)</p><p>이 문제를 해결하기 위해 다음과 같이 설정 파일을 수정하자.</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mysite<span class="token punctuation">.</span>sbb</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// (... 생략 ...)</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>security<span class="token punctuation">.</span>web<span class="token punctuation">.</span>header<span class="token punctuation">.</span>writers<span class="token punctuation">.</span>frameoptions<span class="token punctuation">.</span></span><span class="token class-name">XFrameOptionsHeaderWriter</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// (... 생략 ...)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token annotation punctuation">@EnableWebSecurity</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Bean</span></span>
<span class="line">    <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span></span>
<span class="line">        http</span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span><span class="token punctuation">(</span>authorizeHttpRequests<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> authorizeHttpRequests</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token punctuation">(</span>csrf<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> csrf</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">ignoringRequestMatchers</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">AntPathRequestMatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/h2-console/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">headers</span><span class="token punctuation">(</span><span class="token punctuation">(</span>headers<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> headers</span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">addHeaderWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">XFrameOptionsHeaderWriter</span><span class="token punctuation">(</span></span>
<span class="line">                    <span class="token class-name">XFrameOptionsHeaderWriter<span class="token punctuation">.</span>XFrameOptionsMode</span><span class="token punctuation">.</span><span class="token constant">SAMEORIGIN</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>위 처럼 URL 요청시 <code>X-Frame-Options</code> 헤더값을 <code>sameorigin</code>으로 설정하여 오류가 발생하지 않도록 했다. <code>X-Frame-Options</code> 헤더의 값으로 sameorigin을 설정하면 frame에 포함된 페이지가 페이지를 제공하는 사이트와 동일한 경우에는 계속 사용할 수 있다.</p><p>이제 다시 H2 콘솔로 로그인하면 정상 동작하는 것을 확인할 수 있을 것이다.</p><hr>`,31);function L(i,N){const e=o("router-link"),l=o("VPCard"),t=o("FontIcon"),u=o("VidStack");return v(),d("div",null,[n("h1",b,[n("a",f,[n("span",null,k(i.$frontmatter.title)+" 관련",1)])]),n("nav",y,[n("ul",null,[n("li",null,[s(e,{to:"#스프링-시큐리티란"},{default:p(()=>[a("스프링 시큐리티란?")]),_:1})]),n("li",null,[s(e,{to:"#스프링-시큐리티-설치"},{default:p(()=>[a("스프링 시큐리티 설치")]),_:1})]),n("li",null,[s(e,{to:"#스프링-시큐리티-설정"},{default:p(()=>[a("스프링 시큐리티 설정")]),_:1})]),n("li",null,[s(e,{to:"#h2-콘솔"},{default:p(()=>[a("H2 콘솔")]),_:1})])])]),_,s(l,m(g({title:"3-05. 스프링 시큐리티",desc:"점프 투 스프링부트 - WikiDocs",link:"https://wikidocs.net/162150",logo:"https://wikidocs.net/static/img/favicon.ico",background:"rgba(255,255,255,0.2)"})),null,16),w,n("blockquote",null,[n("p",null,[n("a",q,[s(t,{icon:"iconfont icon-github"}),a(),S,a(" - "),s(t,{icon:"fas fa-folder-open"}),a(),R])])]),s(u,{src:"youtube/XTlGCOo9Ipo"}),C,j,x,E,H,F,z,n("p",null,[a("스프링 시큐리티 사용을 위해 다음과 같이 "),s(t,{icon:"iconfont icon-engine"}),A,a(" 파일을 수정하자.")]),n("blockquote",null,[n("p",null,[a("파일명: "),s(t,{icon:"fas fa-folder-open"}),B,s(t,{icon:"iconfont icon-engine"}),M])]),O,n("p",null,[a('스프링 시큐리티와 이와 관련된 타임리프 라이브러리를 사용하도록 설정했다. "'),s(t,{icon:"iconfont icon-select"}),P,a('"를 수행하여 필요한 라이브러리를 설치한 후 로컬서버도 재시작 하자.')]),W,n("blockquote",null,[n("p",null,[a("파일명: "),s(t,{icon:"fas fa-folder-open"}),T,s(t,{icon:"fa-brands fa-java"}),V])]),X])}const U=r(h,[["render",L],["__file","03E.html.vue"]]),D=JSON.parse('{"path":"/java/jump-to-spring-boot/03E.html","title":"03E. 스프링 시큐리티","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"03E. 스프링 시큐리티","description":"Jump to Spring Boot > 03E. 스프링 시큐리티","category":["Java","Spring","AWS"],"tag":["crashcourse","java","jdk","jdk8","stream","spring","springframework","springboot","aws","aws-ec2"],"head":[[{"meta":null},{"property":"og:title","content":"Jump to Spring Boot > 03E. 스프링 시큐리티"},{"property":"og:description","content":"03E. 스프링 시큐리티"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/java/jump-to-spring-boot/03E.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/java/jump-to-spring-boot/03E.html"}],["meta",{"property":"og:site_name","content":"🥁Crashcourse"}],["meta",{"property":"og:title","content":"03E. 스프링 시큐리티"}],["meta",{"property":"og:description","content":"Jump to Spring Boot > 03E. 스프링 시큐리티"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://wikidocs.net/images/page/162150/O_3-05_1.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"java"}],["meta",{"property":"article:tag","content":"jdk"}],["meta",{"property":"article:tag","content":"jdk8"}],["meta",{"property":"article:tag","content":"stream"}],["meta",{"property":"article:tag","content":"spring"}],["meta",{"property":"article:tag","content":"springframework"}],["meta",{"property":"article:tag","content":"springboot"}],["meta",{"property":"article:tag","content":"aws"}],["meta",{"property":"article:tag","content":"aws-ec2"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"03E. 스프링 시큐리티\\",\\"image\\":[\\"https://wikidocs.net/images/page/162150/O_3-05_1.png\\",\\"https://wikidocs.net/images/page/162150/C_3-05_2.png\\",\\"https://wikidocs.net/images/page/162150/C_3-05_3.png\\",\\"https://wikidocs.net/images/page/162150/C_3-05_4.png\\",\\"https://wikidocs.net/images/page/162150/O_3-05_5.png\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"스프링 시큐리티란?","slug":"스프링-시큐리티란","link":"#스프링-시큐리티란","children":[]},{"level":2,"title":"스프링 시큐리티 설치","slug":"스프링-시큐리티-설치","link":"#스프링-시큐리티-설치","children":[]},{"level":2,"title":"스프링 시큐리티 설정","slug":"스프링-시큐리티-설정","link":"#스프링-시큐리티-설정","children":[]},{"level":2,"title":"H2 콘솔","slug":"h2-콘솔","link":"#h2-콘솔","children":[]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":9}]},"readingTime":{"minutes":1.53,"words":459},"filePathRelative":"java/jump-to-spring-boot/03E.md","localizedDate":"2023년 12월 27일","excerpt":"\\n\\n<hr>\\n"}');export{U as comp,D as data};
