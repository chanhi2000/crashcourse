import{_ as k}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as m,a as n,t as h,b as a,w as o,n as p,g as l,d as s,e as u,r as c,o as w}from"./app-U_bew1in.js";const v={},g={id:"frontmatter-title-관련",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-관련"},f={class:"table-of-contents"},y=n("hr",null,null,-1),_=u('<h2 id="project-8-part-3" tabindex="-1"><a class="header-anchor" href="#project-8-part-3"><span>Project 8, part 3</span></a></h2><p>Today we’re going to be completing our Moonshot app by adding two more views plus navigation between them, but here is where you’ll start to see what it takes to create custom layouts in SwiftUI – we’ll be using <code>GeometryReader</code> to get the view size exactly the way we want it, for example.</p><p>Along the way, we’re also going to be tackling one of the common problems you’ll face as programmer: when you have two pieces of separate data that need to be merged somehow. For us, that’s our astronaut and mission data, but the concept is transferrable enough as you’ll see.</p><p>At one point in today’s topics I encourage you to stop and play around with the design. I’m sure some folks will skip over this wanting to rush towards the end, but I hope you don’t. As the astronaut John Glenn said, “I suppose the quality in an astronaut more powerful than any other is curiosity – they have to get to some place nobody’s ever been.”</p><p>Be curious – take the time to explore your skills and it will pay off!</p><p><strong>Today you have three topics to work through, in which you’ll work with <code>GeometryReader</code>, <code>ScrollView</code>, and more.</strong></p><h3 id="showing-mission-details-with-scrollview-and-geometryreader" tabindex="-1"><a class="header-anchor" href="#showing-mission-details-with-scrollview-and-geometryreader"><span>Showing mission details with <code>ScrollView</code> and <code>GeometryReader</code></span></a></h3>',7),S={class:"hint-container details"},V=n("summary",null,"Showing mission details with ScrollView and GeometryReader",-1),x=n("p",null,"When the user selects one of the Apollo missions from our main list, we want to show information about the mission: its mission badge, its mission description, and all the astronauts that were on the crew along with their roles. The first two of those aren’t too hard, but the third requires a little more work because we need to match up crew IDs with crew details across our two JSON files.",-1),M=n("code",null,"MissionView.swift",-1),j=n("code",null,"mission",-1),I=n("p",null,[s("In terms of layout, this thing needs to have a scrolling "),n("code",null,"VStack"),s(" with a resizable image for the mission badge, then a text view. We’ll use "),n("code",null,"GeometryReader"),s(" to set the maximum width of the mission image, although through some trial and error I found that the mission badge worked best when it wasn’t full width – somewhere between 50% and 70% width looked better, to avoid it becoming weirdly big on the screen.")],-1),T=n("code",null,"MissionView.swift",-1),A=u(`<div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">MissionView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> mission<span class="token punctuation">:</span> <span class="token class-name">Mission</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">GeometryReader</span> <span class="token punctuation">{</span> geometry <span class="token keyword">in</span></span>
<span class="line">            <span class="token class-name">ScrollView</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">VStack</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token class-name">Image</span><span class="token punctuation">(</span>mission<span class="token punctuation">.</span>image<span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">:</span> geometry<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">*</span> <span class="token number">0.6</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>top<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">                    <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Mission Highlights&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">                        <span class="token class-name">Text</span><span class="token punctuation">(</span>mission<span class="token punctuation">.</span>description<span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bottom<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span>mission<span class="token punctuation">.</span>displayName<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">navigationBarTitleDisplayMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>inline<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>darkBackground<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Placing a <code>VStack</code> inside another <code>VStack</code> allows us to control alignment for one specific part of our view – our main mission image can be centered, while the mission details can be aligned to the leading edge.</p><p>Anyway, with that new view in place the code will no longer build, all because of the previews struct below it – that thing needs a <code>Mission</code> object passed in so it has something to render. Fortunately, our <code>Bundle</code> extension is available here as well:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">MissionView_Previews</span><span class="token punctuation">:</span> <span class="token class-name">PreviewProvider</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">let</span> missions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Mission</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;missions.json&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">MissionView</span><span class="token punctuation">(</span>mission<span class="token punctuation">:</span> missions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Tip: This view will automatically have a dark color scheme because it’s applied to the <code>NavigationView</code> in <code>ContentView</code>, but the <code>MissionView</code> preview doesn’t know that so we need to enable it by hand.</p><p>If you look in the preview you’ll see that’s a good start, but the next part is trickier: we want to show the list of astronauts who took part in the mission below the description. Let’s tackle that next…</p>`,6),C=n("h3",{id:"merging-codable-structs",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#merging-codable-structs"},[n("span",null,[s("Merging "),n("code",null,"Codable"),s(" structs")])])],-1),D={class:"hint-container details"},q=n("summary",null,"Merging Codable structs",-1),N=n("p",null,"Below our mission description we want to show the pictures, names, and roles of each crew member, which means matching up data that came from two different JSON files.",-1),B=n("code",null,"missions.json",-1),P=n("code",null,"astronauts.json",-1),R=u(`<p>So, what we need to do is make our <code>MissionView</code> accept the mission that got tapped, along with our full astronauts dictionary, then have it figure out which astronauts actually took part in the launch.</p><p>Add this nested struct inside <code>MissionView</code> now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">CrewMember</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> role<span class="token punctuation">:</span> <span class="token class-name">String</span></span>
<span class="line">    <span class="token keyword">let</span> astronaut<span class="token punctuation">:</span> <span class="token class-name">Astronaut</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now for the tricky part: we need to add a property to <code>MissionView</code> that stores an array of <code>CrewMember</code> objects – these are the fully resolved role / astronaut pairings. At first that’s as simple as adding another property:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> crew<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">CrewMember</span><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>But then how do we <em>set</em> that property? Well, think about it: if we make this view be handed its mission and all astronauts, we can loop over the mission crew, then for each crew member look in the dictionary to find the one that has a matching ID. When we find one we can convert that and their role into a <code>CrewMember</code> object, but if we don’t it means somehow we have a crew role with an invalid or unknown name.</p><p><strong>That latter case should never happen.</strong> To be clear, if you’ve added some JSON to your project that points to missing data in your app, you’ve made a fundamental mistake – it’s not the kind of thing you should try to write error handling for at runtime, because it should never be allowed to happen in the first place. So, this is a great example of where <code>fatalError()</code> is useful: if we can’t find an astronaut using their ID, we should exit immediately and complain loudly.</p><p>Let’s put all that into code, using a custom initializer for <code>MissionView</code>. Like I said, this will accept the mission it represents along with all the astronauts, and its job is to store the mission away then figure out the array of resolved astronauts.</p><p>Here’s the code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">init</span><span class="token punctuation">(</span>mission<span class="token punctuation">:</span> <span class="token class-name">Mission</span><span class="token punctuation">,</span> astronauts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Astronaut</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">self</span><span class="token punctuation">.</span>mission <span class="token operator">=</span> mission</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">self</span><span class="token punctuation">.</span>crew <span class="token operator">=</span> mission<span class="token punctuation">.</span>crew<span class="token punctuation">.</span>map <span class="token punctuation">{</span> member <span class="token keyword">in</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">let</span> astronaut <span class="token operator">=</span> astronauts<span class="token punctuation">[</span>member<span class="token punctuation">.</span>name<span class="token punctuation">]</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token class-name">CrewMember</span><span class="token punctuation">(</span>role<span class="token punctuation">:</span> member<span class="token punctuation">.</span>role<span class="token punctuation">,</span> astronaut<span class="token punctuation">:</span> astronaut<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">fatalError</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Missing </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">member<span class="token punctuation">.</span>name</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As soon as that code is in, our preview struct will stop working again because it needs more information. So, add a second call to <code>decode()</code> there so it loads all the astronauts, then passes those in too:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">MissionView_Previews</span><span class="token punctuation">:</span> <span class="token class-name">PreviewProvider</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">let</span> missions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Mission</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;missions.json&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">let</span> astronauts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Astronaut</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;astronauts.json&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">MissionView</span><span class="token punctuation">(</span>mission<span class="token punctuation">:</span> missions<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> astronauts<span class="token punctuation">:</span> astronauts<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that we have all our astronaut data, we can show this directly below the mission description using a horizontal scroll view. We’re also going to add a little extra styling to the astronaut pictures to make them look better, using a capsule clip shape and overlay.</p><p>Add this code just after the <code>VStack(alignment: .leading)</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">ScrollView</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span> showsIndicators<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">ForEach</span><span class="token punctuation">(</span>crew<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token punctuation">.</span>role<span class="token punctuation">)</span> <span class="token punctuation">{</span> crewMember <span class="token keyword">in</span></span>
<span class="line">            <span class="token class-name">NavigationLink</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Astronaut details&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span> label<span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token class-name">Image</span><span class="token punctuation">(</span>crewMember<span class="token punctuation">.</span>astronaut<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>width<span class="token punctuation">:</span> <span class="token number">104</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">72</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">clipShape</span><span class="token punctuation">(</span><span class="token class-name">Capsule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">.</span><span class="token function">overlay</span><span class="token punctuation">(</span></span>
<span class="line">                            <span class="token class-name">Capsule</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                                <span class="token punctuation">.</span><span class="token function">strokeBorder</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span> lineWidth<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">                        <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">                    <span class="token class-name">VStack</span><span class="token punctuation">(</span>alignment<span class="token punctuation">:</span> <span class="token punctuation">.</span>leading<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                        <span class="token class-name">Text</span><span class="token punctuation">(</span>crewMember<span class="token punctuation">.</span>astronaut<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>headline<span class="token punctuation">)</span></span>
<span class="line">                        <span class="token class-name">Text</span><span class="token punctuation">(</span>crewMember<span class="token punctuation">.</span>role<span class="token punctuation">)</span></span>
<span class="line">                            <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>secondary<span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">}</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">                <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Why <em>after</em> the <code>VStack</code> rather than inside? Because scroll views work best when they take full advantage of the available screen space, which means they should scroll edge to edge. If we put this inside our <code>VStack</code> it would have the same padding as the rest of our text, which means it would scroll strangely – the crew would get clipped as it hit the leading edge of our <code>VStack</code>, which looks odd.</p><p>We’ll make that <code>NavigationLink</code> do something more useful shortly, but first we need to modify the <code>NavigationLink</code> in <code>ContentView</code> – it pushes to <code>Text(&quot;Detail View&quot;)</code> right now, but please replace it with this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">MissionView</span><span class="token punctuation">(</span>mission<span class="token punctuation">:</span> mission<span class="token punctuation">,</span> astronauts<span class="token punctuation">:</span> astronauts<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now go ahead and run the app in the simulator – it’s starting to become useful!</p><p>Before you move on, try spending a few minutes customizing the way the astronauts are shown – I’ve used a capsule clip shape and overlay, but you could try circles or rounded rectangles, you could use different fonts or larger images, or even add some way of marking who the mission commander was.</p><p>In my project, I think it would be useful to add a little visual separation in our mission view, so that the mission badge, description, and crew are more clearly split up.</p><p>SwiftUI does provide a dedicated <code>Divider</code> view for creating a visual divide in your layout, but it’s not customizable – it’s always just a skinny line. So, to get something a little more useful, I’m going to draw a custom divider to break up our view.</p><p>First, place this directly before the “Mission Highlights” text:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Rectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">frame</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">foregroundColor</span><span class="token punctuation">(</span><span class="token punctuation">.</span>lightBackground<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>vertical<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now place another one of those – the same code – directly after the <code>mission.description</code> text. Much better!</p><p>To finish up this view, I’m going to add a title before our crew, but this needs to be done carefully. You see, although this relates to the scroll view, it needs to have the same padding as the rest of our text. So, the best place for this is inside the <code>VStack</code>, directly after the previous rectangle:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Crew&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">font</span><span class="token punctuation">(</span><span class="token punctuation">.</span>title<span class="token punctuation">.</span><span class="token function">bold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">.</span>bottom<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You don’t need to put it there – if you wanted we could move it outside the <code>VStack</code> then apply padding individually to that text view. However, if you do that make sure you apply the same amount of padding to keep everything neatly aligned.</p>`,28),z=n("h3",{id:"finishing-up-with-one-last-view",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#finishing-up-with-one-last-view"},[n("span",null,"Finishing up with one last view")])],-1),F={class:"hint-container details"},G=n("summary",null,"Finishing up with one last view",-1),U=u(`<p>To finish this program we’re going to make a third and final view to display astronaut details, which will be reached by tapping one of the astronauts in the mission view. This should mostly just be practice for you, but I hope it also shows you the importance of <code>NavigationView</code> – we’re digging deeper into our app’s information, and the presentation of views sliding in and out really drives that home to the user.</p><p>Start by making a new SwiftUI view called <code>AstronautView</code>. This will have a single <code>Astronaut</code> property so it knows what to show, then it will lay that out using a similar <code>ScrollView</code>/<code>VStack</code> combination as we had in <code>MissionView</code>. Give it this code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">AstronautView</span><span class="token punctuation">:</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> astronaut<span class="token punctuation">:</span> <span class="token class-name">Astronaut</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">ScrollView</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">VStack</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">Image</span><span class="token punctuation">(</span>astronaut<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">resizable</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">scaledToFit</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">                <span class="token class-name">Text</span><span class="token punctuation">(</span>astronaut<span class="token punctuation">.</span>description<span class="token punctuation">)</span></span>
<span class="line">                    <span class="token punctuation">.</span><span class="token function">padding</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">background</span><span class="token punctuation">(</span><span class="token punctuation">.</span>darkBackground<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span>astronaut<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">navigationBarTitleDisplayMode</span><span class="token punctuation">(</span><span class="token punctuation">.</span>inline<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Once again we need to update the preview so that it creates its view with some data:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">struct</span> <span class="token class-name">AstronautView_Previews</span><span class="token punctuation">:</span> <span class="token class-name">PreviewProvider</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">let</span> astronauts<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">:</span> <span class="token class-name">Astronaut</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;astronauts.json&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">static</span> <span class="token keyword">var</span> previews<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">AstronautView</span><span class="token punctuation">(</span>astronaut<span class="token punctuation">:</span> astronauts<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;aldrin&quot;</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">.</span><span class="token function">preferredColorScheme</span><span class="token punctuation">(</span><span class="token punctuation">.</span>dark<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now we can present that from the <code>NavigationLink</code> inside <code>MissionView</code>. This points to <code>Text(&quot;Astronaut details&quot;)</code> right now, but we can update it to point to our new <code>AstronautView</code> instead:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">AstronautView</span><span class="token punctuation">(</span>astronaut<span class="token punctuation">:</span> crewMember<span class="token punctuation">.</span>astronaut<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>That was easy, right? But if you run the app now you’ll see how natural it makes our user interface feel – we start at the broadest level of information, showing all our missions, then tap to select one specific mission, then tap to select one specific astronaut. iOS takes care of animating in the new views, but also providing back buttons and swipes to return to previous views.</p>`,8),W=n("p",null,"That’s another complete app built – make sure and share your progress to let others know how you’re getting on!",-1),L=n("hr",null,null,-1);function O(d,E){const t=c("router-link"),e=c("VPCard"),r=c("VidStack"),i=c("FontIcon");return w(),m("div",null,[n("h1",g,[n("a",b,[n("span",null,h(d.$frontmatter.title)+" 관련",1)])]),n("nav",f,[n("ul",null,[n("li",null,[a(t,{to:"#project-8-part-3"},{default:o(()=>[s("Project 8, part 3")]),_:1}),n("ul",null,[n("li",null,[a(t,{to:"#showing-mission-details-with-scrollview-and-geometryreader"},{default:o(()=>[s("Showing mission details with ScrollView and GeometryReader")]),_:1})]),n("li",null,[a(t,{to:"#merging-codable-structs"},{default:o(()=>[s("Merging Codable structs")]),_:1})]),n("li",null,[a(t,{to:"#finishing-up-with-one-last-view"},{default:o(()=>[s("Finishing up with one last view")]),_:1})])])])])]),y,a(e,p(l({title:"100 Days of SwiftUI - Day 41",desc:"Project 8, part 3",link:"https://www.hackingwithswift.com/100/swiftui/41",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),_,n("details",S,[V,a(e,p(l({title:"100 Days of SwiftUI - Day 41 - Showing mission details with ScrollView and GeometryReader",desc:"Showing mission details with ScrollView and GeometryReader",link:"https://hackingwithswift.com/books/ios-swiftui/showing-mission-details-with-scrollview-and-geometryreader",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),a(r,{src:"youtube/__W9ajkzQok"}),x,n("p",null,[s("Let’s start simple and work our way up: make a new SwiftUI view called "),a(i,{icon:"fa-brands fa-swift"}),s(),M,s(". Initially this will just have a "),j,s(" property so that we can show the mission badge and description, but shortly we’ll add more to it.")]),I,n("p",null,[s("Put this code into "),a(i,{icon:"fa-brands fa-swift"}),T,s(" now:")]),A]),C,n("details",D,[q,a(e,p(l({title:"100 Days of SwiftUI - Day 41 - Merging Codable structs",desc:"Merging Codable structs",link:"https://hackingwithswift.com/books/ios-swiftui/merging-codable-structs",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),a(r,{src:"youtube/4CIVfa5dRNE"}),N,n("p",null,[s("If you remember, our JSON data is split across "),a(i,{icon:"fas fa-file-lines"}),s(),B,s(" and "),a(i,{icon:"fas fa-file-lines"}),s(),P,s(". This eliminates duplication in our data, because some astronauts took part in multiple missions, but it also means we need to write some code to join our data together – to resolve “armstrong” to “Neil A. Armstrong”, for example. You see, on one side we have missions that know crew member “armstrong” had the role “Commander”, but has no idea who “armstrong” is, and on the other side we have “Neil A. Armstrong” and a description of him, but no concept that he was the commander on Apollo 11.")]),R]),z,n("details",F,[G,a(e,p(l({title:"100 Days of SwiftUI - Day 41 - Finishing up with one last view",desc:"Finishing up with one last view",link:"https://hackingwithswift.com/books/ios-swiftui/finishing-up-with-one-last-view",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),a(r,{src:"youtube/pb1II8EaIW8"}),U]),W,L])}const K=k(v,[["render",O],["__file","41.html.vue"]]),Y=JSON.parse('{"path":"/swift/100-days-of-swiftui/41.html","title":"Day 41","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Day 41","description":"100 Days of SwiftUI > Day 41","category":["Swift"],"tag":["crashcourse","paul-hudson","swift","swiftui","hacking-with-swift","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"100 Days of SwiftUI > Day 41"},{"property":"og:description","content":"Day 41"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/swift/100-days-of-swiftui/41.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/swift/100-days-of-swiftui/41.html"}],["meta",{"property":"og:site_name","content":"🥁Crashcourse"}],["meta",{"property":"og:title","content":"Day 41"}],["meta",{"property":"og:description","content":"100 Days of SwiftUI > Day 41"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"paul-hudson"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftui"}],["meta",{"property":"article:tag","content":"hacking-with-swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day 41\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Project 8, part 3","slug":"project-8-part-3","link":"#project-8-part-3","children":[{"level":3,"title":"Showing mission details with ScrollView and GeometryReader","slug":"showing-mission-details-with-scrollview-and-geometryreader","link":"#showing-mission-details-with-scrollview-and-geometryreader","children":[]},{"level":3,"title":"Merging Codable structs","slug":"merging-codable-structs","link":"#merging-codable-structs","children":[]},{"level":3,"title":"Finishing up with one last view","slug":"finishing-up-with-one-last-view","link":"#finishing-up-with-one-last-view","children":[]}]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":9}]},"readingTime":{"minutes":7.58,"words":2274},"filePathRelative":"swift/100-days-of-swiftui/41.md","localizedDate":"2023년 12월 27일","excerpt":"\\n\\n<hr>\\n"}');export{K as comp,Y as data};
