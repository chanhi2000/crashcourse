import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,a as s,t as k,b as n,w as e,n as i,g as o,e as l,r,o as g,d as p}from"./app-U_bew1in.js";const m={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},b={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f={class:"table-of-contents"},v=s("hr",null,null,-1),y=l('<h2 id="project-15-part-2" tabindex="-1"><a class="header-anchor" href="#project-15-part-2"><span>Project 15, part 2</span></a></h2><p>Today we‚Äôre going to go back through three of our earlier projects, highlighting accessibility problems and fixing them. This might seem like it might be a bit dull, but I want you to think again about what our goal is here: do we want to build software that benefits everyone?</p><p>I hope the answer is <em>yes</em>. There‚Äôs a New York lawyer called Gregory Mansfield who fights for disability rights, and he once wrote this: ‚ÄúAccessibility is not charity. Accessibility is not generosity. Accessibility is not an amenity. Accessibility is not a gratuity. You don‚Äôt bestow access ‚Äì <em>you ensure it.</em>‚Äù</p><p>As you work through today‚Äôs topics, I hope you‚Äôre pleasantly surprised by a) how easy this stuff really is, and b) how little it affects the rest of your code. And once you realize <em>that</em>, you‚Äôll start to wonder why so many other app developers do such a poor job of making their apps accessible to everyone.</p><p><strong>Today you have four topics to work through, including fixing three projects we made earlier in this course.</strong></p><h3 id="handling-voice-input-in-swiftui" tabindex="-1"><a class="header-anchor" href="#handling-voice-input-in-swiftui"><span>Handling voice input in SwiftUI</span></a></h3>',6),q={class:"hint-container details"},x=s("summary",null,"Handling voice input in SwiftUI",-1),_=l(`<p>Once you&#39;ve made sure your app works well with Voiceover, a great next step is to make sure it handles voice input too ‚Äì that you work well with Apple&#39;s Voice Control technology, which lets users control your app by speaking to it.</p><p>Voice Input lets users activate controls through names or numbers, with the names being generated automatically based on what you present. Here&#39;s a trivial example:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Tap Me&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Button tapped&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Because that has &quot;Tap Me&quot; right there on the screen, it can be activated by saying &quot;Press Tap Me&quot;. That&#39;s neat, but things are often more complicated.</p><p>For example, lets say you had buttons with the names of various presidents, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;John Fitzgerald Kennedy&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Button tapped&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That will work great as &quot;Tap John Fitzgerald Kennedy&quot;, but wouldn&#39;t it be great to also recognize &quot;Tap Kennedy&quot; or perhaps even &quot;Tap JFK&quot;? How about recognizing all three?</p><p>This is where SwiftUI needs a little extra help from us using the <code>accessibilityInputLabels()</code> modifier. This accepts an array of strings that can be attached to our button, so the user can trigger it in a variety of ways. So, to trigger the button with three different phrases we&#39;d use this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;John Fitzgerald Kennedy&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Button tapped&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityInputLabels</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;John Fitzgerald Kennedy&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Kennedy&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;JFK&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The goal is to help the user activate your controls using whatever seems natural to them ‚Äì you can provide as many strings as you want, and iOS will listen for all of them.</p>`,10),F=s("h3",{id:"fixing-guess-the-flag",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fixing-guess-the-flag"},[s("span",null,"Fixing Guess the Flag")])],-1),S={class:"hint-container details"},T=s("summary",null,"Fixing Guess the Flag",-1),I=l(`<p>Way back in project 2 we made Guess the Flag, which showed three flag pictures and asked the users to guess which was which. Well, based on what you now know about VoiceOver, can you spot the fatal flaw in our game?</p><p>That‚Äôs right: SwiftUI‚Äôs default behavior is to read out the image names as their VoiceOver label, which means anyone using VoiceOver can just move over our three flags to have the system announce which one is correct.</p><p>To fix this we need to add text descriptions for each of our flags, describing them in enough detail that they can be guessed correctly by someone who has learned them, but of course without actually giving away the name of the country.</p><p>If you open your copy of this project, you‚Äôll see it was written to use an array of country names, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> countries <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;Estonia&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;France&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Germany&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Ireland&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Italy&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Nigeria&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Poland&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Spain&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;UK&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;Ukraine&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;US&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shuffled</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>So, the easiest way to attach labels there ‚Äì the way that doesn‚Äôt require us to change any of our code ‚Äì is to create a dictionary with country names as keys and accessibility labels as values, like this. Please add this to <code>ContentView</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> labels <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Estonia&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three horizontal stripes. Top stripe blue, middle stripe black, bottom stripe white.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;France&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three vertical stripes. Left stripe blue, middle stripe white, right stripe red.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Germany&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three horizontal stripes. Top stripe black, middle stripe red, bottom stripe gold.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Ireland&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three vertical stripes. Left stripe green, middle stripe white, right stripe orange.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Italy&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three vertical stripes. Left stripe green, middle stripe white, right stripe red.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Nigeria&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three vertical stripes. Left stripe green, middle stripe white, right stripe green.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Poland&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with two horizontal stripes. Top stripe white, bottom stripe red.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Spain&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with three horizontal stripes. Top thin stripe red, middle thick stripe gold with a crest on the left, bottom thin stripe red.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;UK&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with overlapping red and white crosses, both straight and diagonally, on a blue background.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;Ukraine&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with two horizontal stripes. Top stripe blue, bottom stripe yellow.&quot;</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-literal"><span class="token string">&quot;US&quot;</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Flag with many red and white stripes, with white stars on a blue background in the top-left corner.&quot;</span></span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>And now all we need to do is add the <code>accessibilityLabel()</code> modifier to the flag images. I realize that sounds simple, but the code has to do three things:</p><ol><li>Use <code>countries[number]</code> to get the name of the country for the current flag.</li><li>Use that name as the key for <code>labels</code>.</li><li>Provide a string to use as a default if somehow the country name doesn‚Äôt exist in the dictionary. (This should never happen, but there‚Äôs no harm being safe!)</li></ol><p>Putting all that together, put this modifier directly below the rest of the modifiers for the flag images:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityLabel</span><span class="token punctuation">(</span>labels<span class="token punctuation">[</span>countries<span class="token punctuation">[</span>number<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Unknown flag&quot;</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>And now if you run the game again you‚Äôll see it actually <em>is</em> a game, regardless of whether you use VoiceOver or not. This gets right to the core of accessibility: everyone can have fun playing this game now, regardless of their access needs.</p>`,12),j=s("h3",{id:"fixing-word-scramble",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fixing-word-scramble"},[s("span",null,"Fixing Word Scramble")])],-1),U={class:"hint-container details"},V=s("summary",null,"Fixing Word Scramble",-1),D=l(`<p>In project 5 we built Word Scramble, a game where users were given a random eight-letter word and had to produce new words using its letters. This mostly works great with VoiceOver: no parts of the app are <em>inaccessible</em>, although that doesn‚Äôt mean we can‚Äôt do better.</p><p>To see an obvious pain point, try adding a word. You‚Äôll see it slide into the table underneath the prompt, but if you tap into it with VoiceOver you‚Äôll realize it isn‚Äôt read well: the letter count is read as ‚Äúfive circle, image‚Äù, and the text is a separate element.</p><p>There are a few ways of improving this, but probably the best is to make both those items a single group where the children are ignored by VoiceOver, then add a label for the whole group that contains a much more natural description.</p><p>Our current code looks like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Section</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ForEach</span><span class="token punctuation">(</span>usedWords<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> word <span class="token keyword">in</span></span>
<span class="line">        <span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.circle&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token class-name">Text</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>To fix this we need to group the elements inside the <code>HStack</code> together so we can apply our VoiceOver customization:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">Section</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">ForEach</span><span class="token punctuation">(</span>usedWords<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> word <span class="token keyword">in</span></span>
<span class="line">        <span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.circle&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">            <span class="token class-name">Text</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">accessibilityElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">accessibilityLabel</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">, </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> letters&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Alternatively, you could break that text up to have a hint as well as a label, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.circle&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token class-name">Text</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityLabel</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityHint</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> letters&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Regardless of which you choose, if you try the game again you‚Äôll hear it now reads ‚Äúspill, five letters‚Äù, which is much better.</p>`,10),O=s("h3",{id:"fixing-bookworm",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#fixing-bookworm"},[s("span",null,"Fixing Bookworm")])],-1),z={class:"hint-container details"},A=s("summary",null,"Fixing Bookworm",-1),B=l(`<p>In project 11 we built Bookworm, an app that lets users store ratings and descriptions for books they had read, and we also introduced a custom <code>RatingView</code> UI component that showed star ratings from 1 to 5.</p><p>Again, most of the app does well with VoiceOver, but that rating control is a hard fail ‚Äì it uses a lot of individual buttons to add functionality, which doesn&#39;t convey the fact that they are supposed to represent ratings. For example, if I tap one of the gray xxxxstars, VoiceOver reads out to me, ‚Äúfavorite, button, favorite button, favorite button‚Äù, etc ‚Äì it‚Äôs really not useful at all.</p><p>That in itself is a problem, but it‚Äôs <em>extra</em> problematic because our <code>RatingView</code> is designed to be reusable ‚Äì it‚Äôs the kind of thing you can take from this project and use in a dozen other projects, and that just means you end up polluting many apps with poor accessibility.</p><p>We‚Äôre going to tackle this one in an unusual way: first with a simpler set of modifiers that do an okay job, but then by seeing how we can use <code>accessibilityAdjustableAction()</code> to get a more optimal result.</p><p>Our initial approach will use two modifiers, each added to the star buttons. First, we need to add one that provides a meaningful label for each star, like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityLabel</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">number <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string-literal"><span class="token string">&quot;1 star&quot;</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">number</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> stars&quot;</span></span></span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now we can make VoiceOver add a second trait, <code>.isSelected</code>, if the star is already highlighted.</p><p>So, add this final modifier beneath the previous two:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityAddTraits</span><span class="token punctuation">(</span>number <span class="token operator">&gt;</span> rating <span class="token operator">?</span> <span class="token nil constant">nil</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">.</span>isSelected<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>It only took two small changes, but this improved component is much better than what we had before.</p><p>This initial approach works well enough, and it‚Äôs certainly the easiest to take because it builds on all the skills you‚Äôve used elsewhere. However, there‚Äôs a second approach that I want to look at, because I think it yields a far more <em>useful</em> result ‚Äì it works more efficiently for folks relying on VoiceOver and other tools.</p><p>First, remove the two modifiers we just added, and instead add these four to the <code>HStack</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityLabel</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token function">accessibilityValue</span><span class="token punctuation">(</span>rating <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token string-literal"><span class="token string">&quot;1 star&quot;</span></span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">rating</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string"> stars&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">.</span>accessibilityAdjustableAction <span class="token punctuation">{</span> direction <span class="token keyword">in</span></span>
<span class="line">    <span class="token keyword">switch</span> direction <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token punctuation">.</span>increment<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> rating <span class="token operator">&lt;</span> maximumRating <span class="token punctuation">{</span> rating <span class="token operator">+=</span> <span class="token number">1</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token punctuation">.</span>decrement<span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">if</span> rating <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">{</span> rating <span class="token operator">-=</span> <span class="token number">1</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token punctuation">:</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That groups all its children together, applies the label ‚ÄúRating‚Äù, but then adds a value based on the current stars. It also allows that rating value to be adjusted up or down using swipes, which is much better than trying to work through lots of individual images.</p>`,14),P=s("hr",null,null,-1);function H(u,K){const a=r("router-link"),t=r("VPCard"),c=r("VidStack");return g(),h("div",null,[s("h1",w,[s("a",b,[s("span",null,k(u.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),s("nav",f,[s("ul",null,[s("li",null,[n(a,{to:"#project-15-part-2"},{default:e(()=>[p("Project 15, part 2")]),_:1}),s("ul",null,[s("li",null,[n(a,{to:"#handling-voice-input-in-swiftui"},{default:e(()=>[p("Handling voice input in SwiftUI")]),_:1})]),s("li",null,[n(a,{to:"#fixing-guess-the-flag"},{default:e(()=>[p("Fixing Guess the Flag")]),_:1})]),s("li",null,[n(a,{to:"#fixing-word-scramble"},{default:e(()=>[p("Fixing Word Scramble")]),_:1})]),s("li",null,[n(a,{to:"#fixing-bookworm"},{default:e(()=>[p("Fixing Bookworm")]),_:1})])])])])]),v,n(t,i(o({title:"100 Days of SwiftUI - Day 75",desc:"Project 15, part 2",link:"https://www.hackingwithswift.com/100/swiftui/75",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),y,s("details",q,[x,n(t,i(o({title:"100 Days of SwiftUI - Day 75 - Handling voice input in SwiftUI",desc:"Handling voice input in SwiftUI",link:"https://www.hackingwithswift.com/books/ios-swiftui/handling-voice-input-in-swiftuiSwiftUI",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),n(c,{src:"youtube/TOUoyVSRsMo"}),_]),F,s("details",S,[T,n(t,i(o({title:"100 Days of SwiftUI - Day 75 - Fixing Guess the Flag",desc:"Fixing Guess the Flag",link:"https://www.hackingwithswift.com/books/ios-swiftui/fixing-guess-the-flag",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),n(c,{src:"youtube/d-KsimIx9U0"}),I]),j,s("details",U,[V,n(t,i(o({title:"100 Days of SwiftUI - Day 75 - Fixing Word Scramble",desc:"Fixing Word Scramble",link:"https://www.hackingwithswift.com/books/ios-swiftui/fixing-word-scramble",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),n(c,{src:"youtube/PCPyOEAGrIw"}),D]),O,s("details",z,[A,n(t,i(o({title:"100 Days of SwiftUI - Day 75 - Fixing Bookworm",desc:"Fixing Bookworm",link:"https://www.hackingwithswift.com/books/ios-swiftui/fixing-bookworm",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),n(c,{src:"youtube/L52LFKjgqi0"}),B]),P])}const W=d(m,[["render",H],["__file","75.html.vue"]]),G=JSON.parse('{"path":"/swift/100-days-of-swiftui/75.html","title":"Day 75","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Day 75","description":"100 Days of SwiftUI > Day 75","category":["Swift"],"tag":["crashcourse","paul-hudson","swift","swiftui","hacking-with-swift","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"100 Days of SwiftUI > Day 75"},{"property":"og:description","content":"Day 75"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/swift/100-days-of-swiftui/75.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/swift/100-days-of-swiftui/75.html"}],["meta",{"property":"og:site_name","content":"ü•ÅCrashcourse"}],["meta",{"property":"og:title","content":"Day 75"}],["meta",{"property":"og:description","content":"100 Days of SwiftUI > Day 75"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"paul-hudson"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftui"}],["meta",{"property":"article:tag","content":"hacking-with-swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day 75\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Project 15, part 2","slug":"project-15-part-2","link":"#project-15-part-2","children":[{"level":3,"title":"Handling voice input in SwiftUI","slug":"handling-voice-input-in-swiftui","link":"#handling-voice-input-in-swiftui","children":[]},{"level":3,"title":"Fixing Guess the Flag","slug":"fixing-guess-the-flag","link":"#fixing-guess-the-flag","children":[]},{"level":3,"title":"Fixing Word Scramble","slug":"fixing-word-scramble","link":"#fixing-word-scramble","children":[]},{"level":3,"title":"Fixing Bookworm","slug":"fixing-bookworm","link":"#fixing-bookworm","children":[]}]}],"git":{"createdTime":1706172246000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":9}]},"readingTime":{"minutes":6.47,"words":1940},"filePathRelative":"swift/100-days-of-swiftui/75.md","localizedDate":"2024ÎÖÑ 1Ïõî 25Ïùº","excerpt":"\\n\\n<hr>\\n"}');export{W as comp,G as data};
