import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as u,a as e,t as h,b as n,w as o,n as p,g as m,d as s,e as i,r as l,o as f}from"./app-U_bew1in.js";const g={},_={id:"frontmatter-title-관련",tabindex:"-1"},w={class:"header-anchor",href:"#frontmatter-title-관련"},y={class:"table-of-contents"},b=e("hr",null,null,-1),v=e("hr",null,null,-1),k=e("h2",{id:"_1-users-and-groups",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-users-and-groups"},[e("span",null,"1. Users and Groups")])],-1),x=e("p",null,"In any traditional operating system, there are users and groups. They exist solely for access and permissions. When running a process, it will run as the owner of that process whether that is Jane or Bob. File access and ownership is also permission dependent. You wouldn't want Jane to see Bob's documents and vice versa.",-1),T=e("code",null,"/home/username",-1),U=i(`<p>The system uses user ids (UID) to manage users, usernames are the friendly way to associate users with identification, but the system identifies users by their UID. The system also uses groups to manage permissions, groups are just sets of users with permission set by that group, they are identified by the system with their group ID (GID).</p><p>In Linux, you&#39;ll have users in addition to the normal humans that use the system. Sometimes these users are system daemons that continuously run processes to keep the system functioning. One of the most important users is root or superuser, root is the most powerful user on the system, root can access any file and start and terminate any process. For that reason, it can be dangerous to operate as root all the time, you could potentially remove system critical files. Luckily, if root access is needed and a user has root access, they can run a command as root instead with the <code>sudo</code> command. The <code>sudo</code> command (<em>superuser do</em>) is used to run a command with root access, we&#39;ll go more in depth on how a user receives root access in a later lesson.</p><p>Go ahead and try to view a protected file like <code>/etc/shadow</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/shadow</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Notice how you get a permission denied error, look at the permissions with:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">ls</span> <span class="token parameter variable">-la</span> /etc/shadow</span>
<span class="line"><span class="token comment"># -rw-r----- 1 root shadow 1134 Dec 1 11:45 /etc/shadow</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>We haven&#39;t gone through permissions yet, but what&#39;s happening here is that root is the owner of the file and you&#39;ll need root access or be part of the shadow group to read the contents. Now run the command with <code>sudo</code>:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">cat</span> /etc/shadow</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Now you&#39;ll be able to see the contents of the file!</p><hr><h2 id="_2-root" tabindex="-1"><a class="header-anchor" href="#_2-root"><span>2. root</span></a></h2><p>We&#39;ve looked at one way to get superuser access using the <code>sudo</code> command. You can also run commands as the superuser with the su command. This command will &quot;substitute users&quot; and open a root shell if no username is specified. You can use this command to substitute to any user as long as you know the password.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">su</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>There are some downsides to using this method: it&#39;s much easier to make a critical mistake running everything in root, you won&#39;t have records of the commands you use to change system configurations, etc. Basically, if you need to run commands as the superuser, just stick to <code>sudo</code>.</p>`,14),j=e("code",null,"/etc/sudoers",-1),M=e("code",null,"sudo",-1),I=e("code",null,"/etc/sudoers",-1),D=e("hr",null,null,-1),G={id:"_3-etc-passwd",tabindex:"-1"},N={class:"header-anchor",href:"#_3-etc-passwd"},P=e("code",null,"/etc/passwd",-1),R=e("code",null,"/etc/passwd",-1),A=i(`<p>This file shows you a list of users and detailed information about them. For example, the first line in this file most likely looks like this:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/passwd</span>
<span class="line"><span class="token comment"># ...</span></span>
<span class="line"><span class="token comment"># root:x:0:0:root:/root:/bin/bash</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Each line displays user information for one user, most commonly you&#39;ll see the root user as the first line. There are many fields separated by colons that tell you additional information about the user, let&#39;s look at them all:</p>`,3),C=e("li",null,"Username",-1),H=e("code",null,"/etc/shadow",-1),L=e("code",null,"/etc/shadow",-1),J=e("code",null,"x",-1),Y=e("code",null,"/etc/shadow",-1),E=e("code",null,"*",-1),S=e("li",null,"The user ID - as you can see root has the UID of 0",-1),V=e("li",null,"The group ID",-1),q=e("li",null,"GECOS field - This is used to generally leave comments about the user or account such as their real name or phone number, it is comma delimited.",-1),B=e("li",null,"User's home directory",-1),F=e("li",null,"User's shell - you'll probably see a lot of user's defaulting to bash for their shell",-1),W=e("code",null,"/etc/passwd",-1),O=e("code",null,"/etc/passwd",-1),z=e("code",null,"vipw",-1),K=e("code",null,"useradd",-1),Z=e("code",null,"userdel",-1),$=e("code",null,"/etc/passwd",-1),Q=e("hr",null,null,-1),X={id:"_4-etc-shadow",tabindex:"-1"},ee={class:"header-anchor",href:"#_4-etc-shadow"},se=e("code",null,"/etc/shadow",-1),ne=e("code",null,"/etc/shadow",-1),ae=i(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">cat</span> /etc/shadow</span>
<span class="line"><span class="token comment"># root:MyEPTEa$6Nonsense:15000:0:99999:7:::</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),te=e("code",null,"/etc/passwd",-1),oe=e("ol",null,[e("li",null,"Username"),e("li",null,"Encrypted password"),e("li",null,"Date of last password changed - expressed as the number of days since Jan 1, 1970. If there is a 0 that means the user should change their password the next time they login"),e("li",null,"Minimum password age - Days that a user will have to wait before being able to change their password again"),e("li",null,"Maximum password age - Maximum number of days before a user has to change their password"),e("li",null,"Password warning period - Number of days before a password is going to expire"),e("li",null,"Password inactivity period - Number of days after a password has expired to allow login with their password"),e("li",null,"Account expiration date - date that user will not be able to login"),e("li",null,"Reserved field for future use")],-1),ie=e("code",null,"/etc/shadow",-1),le=e("code",null,"/etc/shadow",-1),re=e("hr",null,null,-1),de=e("h2",{id:"_5-etc-group",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_5-etc-group"},[e("span",null,[s("5. "),e("code",null,"/etc/group")])])],-1),ce=e("code",null,"/etc/group",-1),ue=i(`<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/group</span>
<span class="line"><span class="token comment"># root:*:0:pete</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),he=e("code",null,"/etc/password",-1),pe=e("code",null,"/etc/group",-1),me=i(`<ol><li>Group name</li><li>Group password - there isn&#39;t a need to set a group password, using an elevated privilege like sudo is standard. A &quot;*&quot; will be put in place as the default value.</li><li>Group ID (GID)</li><li>List of users - you can manually specify users you want in a specific group</li></ol><p>Run the command <code>groups</code>. What do you see?</p><hr><h2 id="_6-user-management-tools" tabindex="-1"><a class="header-anchor" href="#_6-user-management-tools"><span>6. User Management Tools</span></a></h2><p>Most enterprise environments are using management systems to manage users, accounts and passwords. However, on a single machine computer there are useful commands to run to manage users.</p><h3 id="adding-users" tabindex="-1"><a class="header-anchor" href="#adding-users"><span>Adding Users</span></a></h3><p>You can use the adduser or the useradd command. The adduser command contains more helpful features such as making a home directory and more. There are configuration files for adding new users that can be customized depending on what you want to allocate to a default user.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">useradd</span> bob</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,8),fe=e("code",null,"/etc/passwd",-1),ge=e("code",null,"/etc/shadow",-1),_e=i(`<h3 id="removing-users" tabindex="-1"><a class="header-anchor" href="#removing-users"><span>Removing Users</span></a></h3><p>To remove a user, you can use the userdel command.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">userdel</span> bob</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This basically does its best to undo the file changes by useradd.</p><h3 id="changing-passwords" tabindex="-1"><a class="header-anchor" href="#changing-passwords"><span>Changing Passwords</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">passwd</span> bob</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>This will allow you to change the password of yourself or another user (if you are root).</p><p>Create a new user then change their password and login as the new user.</p><hr>`,9);function we(r,ye){const t=l("router-link"),a=l("FontIcon"),d=l("VPCard");return f(),u("div",null,[e("h1",_,[e("a",w,[e("span",null,h(r.$frontmatter.title)+" 관련",1)])]),e("nav",y,[e("ul",null,[e("li",null,[n(t,{to:"#_1-users-and-groups"},{default:o(()=>[s("1. Users and Groups")]),_:1})]),e("li",null,[n(t,{to:"#_2-root"},{default:o(()=>[s("2. root")]),_:1})]),e("li",null,[n(t,{to:"#_3-etc-passwd"},{default:o(()=>[s("3. "),n(a,{icon:"fas fa-file-lines"}),s("/etc/passwd")]),_:1})]),e("li",null,[n(t,{to:"#_4-etc-shadow"},{default:o(()=>[s("4. "),n(a,{icon:"fas fa-file-lines"}),s("/etc/shadow")]),_:1})]),e("li",null,[n(t,{to:"#_5-etc-group"},{default:o(()=>[s("5. /etc/group")]),_:1})]),e("li",null,[n(t,{to:"#_6-user-management-tools"},{default:o(()=>[s("6. User Management Tools")]),_:1}),e("ul",null,[e("li",null,[n(t,{to:"#adding-users"},{default:o(()=>[s("Adding Users")]),_:1})]),e("li",null,[n(t,{to:"#removing-users"},{default:o(()=>[s("Removing Users")]),_:1})]),e("li",null,[n(t,{to:"#changing-passwords"},{default:o(()=>[s("Changing Passwords")]),_:1})])])])])]),b,n(d,p(m({title:"User Management",desc:"Learn about user roles and management.",link:"https://linuxjourney.com/lesson/users-and-groups",logo:"https://linuxjourney.com/assets/user-management-11b3136e7e9f551e6efa2929fbef7b3f4693dd8e9d33f8db709c3415b6815dca.png",background:"rgba(24,188,156,0.2)"})),null,16),v,k,x,e("p",null,[s("Each user has their own home directory where their user specific files get stored, this is usually located in "),n(a,{icon:"fas fa-folder-open"}),T,s(", but can vary in different distributions.")]),U,e("p",null,[s("Now that you know what commands to run as the superuser, the question is how do you know who has access to do that? The system doesn't let every single Joe Schmoe run commands as the superuser, so how does it know? There is a file called the "),n(a,{icon:"fas fa-file-lines"}),j,s(" file, this file lists users who can run "),M,s(". You can edit this file with the visudo command.")]),e("p",null,[s("Open up the "),n(a,{icon:"fas fa-file-lines"}),I,s(" file and see what superuser permissions other users on the machine have.")]),D,e("h2",G,[e("a",N,[e("span",null,[s("3. "),n(a,{icon:"fas fa-file-lines"}),P])])]),e("p",null,[s("Remember that usernames aren't really identifications for users. The system uses a user ID (UID) to identify a user. To find out what users are mapped to what ID, look at the "),n(a,{icon:"fas fa-file-lines"}),R,s(" file.")]),A,e("ol",null,[C,e("li",null,[s("User's password - the password is not really stored in this file, it's usually stored in the "),n(a,{icon:"fas fa-file-lines"}),H,s(" file. We'll discuss more in the next lesson about "),n(a,{icon:"fas fa-file-lines"}),L,s(', but for now, know that it contains encrypted user passwords. You can see many different symbols that are in this field, if you see an "'),J,s('" that means the password is stored in the '),n(a,{icon:"fas fa-file-lines"}),Y,s(' file, a "'),E,s(`" means the user doesn't have login access and if there is a blank field that means the user doesn't have a password.`)]),S,V,q,B,F]),e("p",null,[s("Normally in a user's setting page, you would expect you see just human users. However, you'll notice "),n(a,{icon:"fas fa-file-lines"}),W,s(" contains other users. Remember that users are really only on the system to run processes with different permissions. Sometimes we want to run processes with pre-determined permissions. For example, the daemon user is used for daemon processes.")]),e("p",null,[s("Also should note that you can edit the "),n(a,{icon:"fas fa-file-lines"}),O,s(" file by hand if you want to add users and modify information with the "),z,s(" tool, however things like these are best left to the tools we will discuss in a later lesson such as "),K,s(" and "),Z,s(".")]),e("p",null,[s("Look at your "),n(a,{icon:"fas fa-file-lines"}),$,s(" file, take a look at some of the users and note the access they have.")]),Q,e("h2",X,[e("a",ee,[e("span",null,[s("4. "),n(a,{icon:"fas fa-file-lines"}),se])])]),e("p",null,[s("The "),n(a,{icon:"fas fa-file-lines"}),ne,s(" file is used to store information about user authentication. It requires superuser read permissions.")]),ae,e("p",null,[s("You'll notice that it looks very similar to the contents of "),n(a,{icon:"fas fa-file-lines"}),te,s(", however in the password field you'll see an encrypted password. The fields are separated by colons as followed:")]),oe,e("p",null,[s("In most distributions today, user authentication doesn't rely on just the "),n(a,{icon:"fas fa-file-lines"}),ie,s(" file, there are other mechanisms in place such as PAM (Pluggable Authentication Modules) that replace authentication.")]),e("p",null,[s("Take a look at the "),n(a,{icon:"fas fa-file-lines"}),le,s(" file")]),re,de,e("p",null,[s("Another file that is used in user management is the "),n(a,{icon:"fas fa-file-lines"}),ce,s(" file. This file allows for different groups with different permissions.")]),ue,e("p",null,[s("Very similar to the "),n(a,{icon:"fas fa-file-lines"}),he,s(" field, the "),n(a,{icon:"fas fa-file-lines"}),pe,s(" fields are as follows:")]),me,e("p",null,[s("You'll see that the above command creates an entry in "),n(a,{icon:"fas fa-file-lines"}),fe,s(" for bob, sets up default groups and adds an entry to the "),n(a,{icon:"fas fa-file-lines"}),ge,s(" file.")]),_e])}const ke=c(g,[["render",we],["__file","01e-user-management.html.vue"]]),xe=JSON.parse('{"path":"/devops/linux-journey/01-grasshopper/01e-user-management.html","title":"GrassHopper > 01e. User Management","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"GrassHopper > 01e. User Management","description":"Linux Journey > GrassHopper > 01e. User Management","category":["Linux"],"tag":["crashcourse","linux","os","networking"],"head":[[{"meta":null},{"property":"og:title","content":"Linux Journey > GrassHopper > 01e. User Management"},{"property":"og:description","content":"01e. User Management"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/devops/linux-journey/01-grasshopper/01e-user-management.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/devops/linux-journey/01-grasshopper/01e-user-management.html"}],["meta",{"property":"og:site_name","content":"🥁Crashcourse"}],["meta",{"property":"og:title","content":"GrassHopper > 01e. User Management"}],["meta",{"property":"og:description","content":"Linux Journey > GrassHopper > 01e. User Management"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"linux"}],["meta",{"property":"article:tag","content":"os"}],["meta",{"property":"article:tag","content":"networking"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"GrassHopper > 01e. User Management\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. Users and Groups","slug":"_1-users-and-groups","link":"#_1-users-and-groups","children":[]},{"level":2,"title":"2. root","slug":"_2-root","link":"#_2-root","children":[]},{"level":2,"title":"3. /etc/passwd","slug":"_3-etc-passwd","link":"#_3-etc-passwd","children":[]},{"level":2,"title":"4. /etc/shadow","slug":"_4-etc-shadow","link":"#_4-etc-shadow","children":[]},{"level":2,"title":"5. /etc/group","slug":"_5-etc-group","link":"#_5-etc-group","children":[]},{"level":2,"title":"6. User Management Tools","slug":"_6-user-management-tools","link":"#_6-user-management-tools","children":[{"level":3,"title":"Adding Users","slug":"adding-users","link":"#adding-users","children":[]},{"level":3,"title":"Removing Users","slug":"removing-users","link":"#removing-users","children":[]},{"level":3,"title":"Changing Passwords","slug":"changing-passwords","link":"#changing-passwords","children":[]}]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":8}]},"readingTime":{"minutes":5.72,"words":1716},"filePathRelative":"devops/linux-journey/01-grasshopper/01e-user-management.md","localizedDate":"2023년 12월 27일","excerpt":"\\n\\n<hr>\\n"}');export{ke as comp,xe as data};
