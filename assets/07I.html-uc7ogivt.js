import{_ as m}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,a as e,t as k,b as t,n as b,g,d as n,w as o,e as i,r as c,o as v}from"./app-U_bew1in.js";const y={},D={id:"frontmatter-title-관련",tabindex:"-1"},_={class:"header-anchor",href:"#frontmatter-title-관련"},f=e("nav",{class:"table-of-contents"},[e("ul")],-1),w=e("hr",null,null,-1),z=e("p",null,[e("code",null,"ADD"),n("는 파일을 이미지에 추가합니다.")],-1),x=e("code",null,"Dockerfile",-1),A=i(`<div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">ADD</span> hello-entrypoint.sh /entrypoint.sh</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> hello-dir /hello-dir</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> zlib-1.2.8.tar.gz /</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> hello.zip /</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> http://example.com/hello.txt /hello.txt</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> *.txt /root/</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ADD &lt;복사할 파일 경로&gt; &lt;이미지에서 파일이 위치할 경로&gt;</code> 형식입니다.</p>`,2),I=i("<li><code>&lt;복사할 파일 경로&gt;</code>는 컨텍스트 아래를 기준으로 하며 컨텍스트 바깥의 파일, 디렉터리나 절대 경로는 사용할 수 없습니다. <ul><li>예) <code>ADD ../hello.txt /home/hello</code> (X)</li><li>예) <code>ADD /home/hello/hello.txt /home/hello</code> (X)</li></ul></li><li><code>&lt;복사할 파일 경로&gt;</code>는 파일뿐만 아니라 디렉터리도 설정할 수 있으며, 디렉터리를 지정하면 디렉터리의 모든 파일을 복사합니다. 또한, 와일드카드를 사용하여 특정 파일만 복사할 수 있습니다. <ul><li>예) <code>ADD *.txt /root/</code></li></ul></li>",2),R=e("code",null,"<복사할 파일 경로>",-1),U=e("code",null,"<이미지에서 파일이 위치할 경로>",-1),N=e("code",null,"/",-1),F=e("code",null,"ADD http://example.com/hello.txt /home/hello/",-1),O=e("code",null,"/home/hello/",-1),T=e("code",null,"hello.txt",-1),C=i("<li>로컬에 있는 압축 파일(<code>tar.gz</code>, <code>tar.bz2</code>, <code>tar.xz</code>)은 압축을 해제하고 <code>tar</code>를 풀어서 추가됩니다. 단, 인터넷에 있는 파일 URL은 압축만 해제한 뒤 <code>tar</code> 파일이 그대로 추가됩니다. <ul><li>예) <code>ADD hello.tar.gz /</code> (압축을 해제하고 tar를 풀어서 추가합니다.)</li><li>예) <code>ADD http://zlib.net/zlib-1.2.8.tar.gz /</code> (gzip 압축만 해제한 뒤 <code>tar</code> 파일을 추가합니다. 단 파일 내용은 tar이지만 파일 이름은 <code>zlib-1.2.8.tar.gz</code>처럼 <code>.gz</code>가 붙어있습니다.)</li></ul></li><li><code>&lt;이미지에서 파일이 위치할 경로&gt;</code>는 항상 절대 경로로 설정해야 합니다. 그리고 마지막이 /로 끝나면 디렉터리가 생성되고 파일은 그 아래에 복사됩니다.</li>",2),j=e("code",null,"ADD ./ /hello",-1),S=e("code",null,".dockerignore",-1),L=e("div",{class:"language-docker line-numbers-mode","data-highlighter":"prismjs","data-ext":"docker","data-title":"docker"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"FROM"),n(" ubuntu:latest")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" apt update")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" apt install -y curl")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" curl http://zlib.net/zlib-1.2.8.tar.gz | tar -xz")])]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),M=e("div",{class:"language-docker line-numbers-mode","data-highlighter":"prismjs","data-ext":"docker","data-title":"docker"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"FROM"),n(" ubuntu:latest")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" apt update")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" apt install -y wget")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" wget http://zlib.net/zlib-1.2.8.tar.gz -O - | tar -xz")])]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),P=e("div",{class:"language-docker line-numbers-mode","data-highlighter":"prismjs","data-ext":"docker","data-title":"docker"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"FROM"),n(" centos:latest")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" yum install -y curl tar")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" curl http://zlib.net/zlib-1.2.8.tar.gz | tar -xz")])]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),V=e("div",{class:"language-docker line-numbers-mode","data-highlighter":"prismjs","data-ext":"docker","data-title":"docker"},[e("pre",null,[e("code",null,[e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"FROM"),n(" centos:latest")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" yum install -y wget tar")])]),n(`
`),e("span",{class:"line"},[e("span",{class:"token instruction"},[e("span",{class:"token keyword"},"RUN"),n(" wget http://zlib.net/zlib-1.2.8.tar.gz -O - | tar -xz")])]),n(`
`),e("span",{class:"line"})])]),e("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[e("div",{class:"line-number"}),e("div",{class:"line-number"}),e("div",{class:"line-number"})])],-1),Z=i(`<div class="hint-container info"><p class="hint-container-title">인터넷의 파일 URL을 압축 해제하여 추가하기</p><p>앞에서 설명한 것처럼 <code>ADD</code>는 파일 URL을 압축만 해제하고 <code>tar</code>는 해제하지 않습니다. 이때는 <code>RUN</code>으로 <code>curl</code>이나 <code>wget</code>으로 파일을 받은 뒤 압축을 해제하면 됩니다.</p><p>다음은 tar, <code>tar.gz</code>, <code>tar.bz2</code>, <code>tar.xz</code> 파일의 압축을 해제하는 방법입니다.</p><ul><li><code>ubuntu:latest</code>는 <code>bzip2</code>가 설치되어 있고, xz는 설치되어 있지 않습니다. <code>xz</code>는 <code>apt-get</code>으로 <code>xz-utils</code> 패키지를 설치합니다.</li><li><code>centos:latest</code>는 <code>xz</code>가 설치되어 있고, <code>bz2</code>는 설치되어 있지 않습니다. <code>bz2</code>는 <code>yum</code>으로 <code>bzip2</code> 패키지를 설치합니다.</li></ul><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">RUN</span> curl http://example.com/hello.tar | tar -x</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> curl http://example.com/hello.tar.gz | tar -xz</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> curl http://example.com/hello.tar.bz2 | tar -xj</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> curl http://example.com/hello.tar.xz | tar -xJ</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><code>ADD</code>로 추가되는 파일은 소유자(UID) 0, 그룹(GID) 0으로 설정되고 권한은 기존 파일의 권한을 따릅니다. URL로 추가하면 권한은 600으로 설정됩니다.</p><div class="hint-container note"><p class="hint-container-title">참고</p><p>UID 0, GID 0은 root 계정입니다.</p></div><hr>`,4);function B(r,E){const d=c("VPCard"),p=c("SiteInfo"),s=c("FontIcon"),u=c("CodeTabs");return v(),h("div",null,[e("h1",D,[e("a",_,[e("span",null,k(r.$frontmatter.title)+" 관련",1)])]),t(d,b(g({title:"목차",desc:"언제나 최신 Docker",link:"/docker/always-up-to-date-docker/README.md",logo:"https://pyrasis.com/assets/images/pyrasis.png",background:"rgba(31,41,55,0.2)"})),null,16),f,w,t(p,{name:"7장 - 9. ADD",desc:"언제나 최신 Docker",url:"https://pyrasis.com/jHLsAlwaysUpToDateDocker/Unit07/09",logo:"https://pyrasis.com/assets/images/pyrasis.png",preview:"https://pyrasis.com/assets/images/profile1.png"}),z,e("blockquote",null,[e("p",null,[n("."),t(s,{icon:"fa-brands fa-docker"}),x])]),A,e("ul",null,[I,e("li",null,[R,n("에 인터넷에 있는 파일의 URL을 설정할 수 있습니다. "),e("ul",null,[e("li",null,[U,n("의 마지막에 "),N,n("가 있으면 디렉터리가 생성되고 파일은 그 아래에 복사됩니다. "),F,n(" 와 같이 설정하면 "),t(s,{icon:"fas fa-folder-open"}),O,t(s,{icon:"fas fa-file-lines"}),T,n("</>에 파일이 복사됩니다.")])])]),C,e("li",null,[j,n("와 같이 현재 디렉터리를 추가할 때 "),t(s,{icon:"fa-brands fa-docker"}),S,n(" 파일에 설정한 파일과 디렉터리는 제외됩니다.")])]),t(u,{id:"91",data:[{id:'<FontIcon icon="fa-brands fa-ubuntu"/>우분투, <FontIcon icon="iconfont icon-curl"/>curl'},{id:'<FontIcon icon="fa-brands fa-ubuntu"/>우분투, <FontIcon icon="iconfont icon-wget"/>wget'},{id:'<FontIcon icon="fa-brands fa-centos"/>CentOS, <FontIcon icon="iconfont icon-curl"/>curl'},{id:'<FontIcon icon="fa-brands fa-centos"/>CentOS, <FontIcon icon="iconfont icon-wget"/>wget'}],active:0,"tab-id":"dockerfile"},{title0:o(({value:a,isActive:l})=>[t(s,{icon:"fa-brands fa-ubuntu"}),n("우분투, "),t(s,{icon:"iconfont icon-curl"}),n("curl")]),title1:o(({value:a,isActive:l})=>[t(s,{icon:"fa-brands fa-ubuntu"}),n("우분투, "),t(s,{icon:"iconfont icon-wget"}),n("wget")]),title2:o(({value:a,isActive:l})=>[t(s,{icon:"fa-brands fa-centos"}),n("CentOS, "),t(s,{icon:"iconfont icon-curl"}),n("curl")]),title3:o(({value:a,isActive:l})=>[t(s,{icon:"fa-brands fa-centos"}),n("CentOS, "),t(s,{icon:"iconfont icon-wget"}),n("wget")]),tab0:o(({value:a,isActive:l})=>[L]),tab1:o(({value:a,isActive:l})=>[M]),tab2:o(({value:a,isActive:l})=>[P]),tab3:o(({value:a,isActive:l})=>[V]),_:1}),Z])}const J=m(y,[["render",B],["__file","07I.html.vue"]]),X=JSON.parse('{"path":"/docker/always-up-to-date-docker/07I.html","title":"07I. ADD","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"07I. ADD","description":"언제나 최신 Docker > 07I. ADD","category":["DevOps","Docker"],"tag":["crashcourse","pyrasis.com","docker","devops"],"head":[[{"meta":null},{"property":"og:title","content":"언제나 최신 Docker > 07I. ADD"},{"property":"og:description","content":"07I. ADD"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/docker/always-up-to-date-docker/07I.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/docker/always-up-to-date-docker/07I.html"}],["meta",{"property":"og:site_name","content":"🥁Crashcourse"}],["meta",{"property":"og:title","content":"07I. ADD"}],["meta",{"property":"og:description","content":"언제나 최신 Docker > 07I. ADD"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"pyrasis.com"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"devops"}],["meta",{"property":"article:published_time","content":"2022-10-03T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"07I. ADD\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-10-03T00:00:00.000Z\\",\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]],"date":"2022-10-03T00:00:00.000Z","isOriginal":false},"headers":[],"git":{"createdTime":1716977950000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":3}]},"readingTime":{"minutes":1.41,"words":422},"filePathRelative":"docker/always-up-to-date-docker/07I.md","localizedDate":"2022년 10월 3일","excerpt":"\\n"}');export{J as comp,X as data};
