import{_ as u}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,a as n,t as k,b as s,w as o,n as i,g as p,e as l,d as a,r,o as w}from"./app-U_bew1in.js";const m={},g={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},f={class:"table-of-contents"},b=n("hr",null,null,-1),y=l('<h2 id="project-5-part-2" tabindex="-1"><a class="header-anchor" href="#project-5-part-2"><span>Project 5, part 2</span></a></h2><p>Now that you understand the techniques necessary for this project, today we‚Äôll be implementing our game. Yes, there will be a fair chunk of practice here, and yes, hopefully this will be an easy project for you. But that shouldn‚Äôt stop you from tackling it with gusto ‚Äì give it your best shot!</p><p>Try to keep in mind some famous words from the American writer and lecturer Dale Carnegie:</p><blockquote><p>‚ÄúDon‚Äôt be afraid to give your best to what seemingly are small jobs. Every time you conquer one it makes you strong ‚Äì if you do the little jobs well, the big ones will tend to care of themselves.‚Äù</p></blockquote><p>Working with lists, arrays, text fields and more should definitely be little jobs for you by now, but one of the goals of this course is to give you a truly rock solid foundations in those fundamentals, backed up by a knowledge of what greater things are also possible.</p><p>In the future I want you to be able to look at a sketch of an app idea and know exactly how to build it before you‚Äôve even written a line of code, because ultimately it can be broken down into a series of little jobs.</p><p>And if you <em>still</em> find it too easy, relax: tomorrow is the challenge day!</p><p><strong>Today you have three topics to work through, and you‚Äôll put into practice everything you learned about <code>List</code>, <code>UITextChecker</code>, and more.</strong></p><h3 id="adding-to-a-list-of-words" tabindex="-1"><a class="header-anchor" href="#adding-to-a-list-of-words"><span>Adding to a list of words</span></a></h3>',9),x={class:"hint-container details"},S=n("summary",null,"Adding to a list of words",-1),W=l(`<p>The user interface for this app will be made up of three main SwiftUI views: a <code>NavigationView</code> showing the word they are spelling from, a <code>TextField</code> where they can enter one answer, and a <code>List</code> showing all the words they have entered previously.</p><p>For now, every time users enter a word into the text field, we‚Äôll automatically add it to the list of used words. Later, though, we‚Äôll add some validation to make sure the word hasn‚Äôt been used before, can actually be produced from the root word they‚Äôve been given, and is a real word and not just some random letters.</p><p>Let‚Äôs start with the basics: we need an array of words they have already used, a root word for them to spell other words from, and a string we can bind to a text field. So, add these three properties to <code>ContentView</code> now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> usedWords <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> rootWord <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> newWord <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As for the body of the view, we‚Äôre going to start off as simple as possible: a <code>NavigationView</code> with <code>rootWord</code> for its title, then a couple of sections inside a list:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> body<span class="token punctuation">:</span> <span class="token keyword">some</span> <span class="token class-name">View</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">NavigationView</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">List</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Section</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">TextField</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Enter your word&quot;</span></span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> $newWord<span class="token punctuation">)</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            <span class="token class-name">Section</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token class-name">ForEach</span><span class="token punctuation">(</span>usedWords<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> word <span class="token keyword">in</span></span>
<span class="line">                    <span class="token class-name">Text</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">navigationTitle</span><span class="token punctuation">(</span>rootWord<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Note: Using <code>id: \\.self</code> would cause problems if there were lots of duplicates in <code>usedWords</code>, but soon enough we‚Äôll be disallowing that so it‚Äôs not a problem.</p><p>Now, our text view has a problem: although we can type into the text box, we can‚Äôt submit anything from there ‚Äì there‚Äôs no way of adding our entry to the list of used words.</p><p>To fix that we‚Äôre going to write a new method called <code>addNewWord()</code> that will:</p><ol><li>Lowercase <code>newWord</code> and remove any whitespace</li><li>Check that it has at least 1 character otherwise exit</li><li>Insert that word at position 0 in the <code>usedWords</code> array</li><li>Set <code>newWord</code> back to be an empty string</li></ol><p>Later on we‚Äôll add some extra validation between steps 2 and 3 to make sure the word is allowable, but for now this method is straightforward:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">addNewWord</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// lowercase and trim the word, to make sure we don&#39;t add duplicate words with case differences</span></span>
<span class="line">    <span class="token keyword">let</span> answer <span class="token operator">=</span> newWord<span class="token punctuation">.</span><span class="token function">lowercased</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trimmingCharacters</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token punctuation">.</span>whitespacesAndNewlines<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// exit if the remaining string is empty</span></span>
<span class="line">    <span class="token keyword">guard</span> answer<span class="token punctuation">.</span>count <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// extra validation to come</span></span>
<span class="line"></span>
<span class="line">    usedWords<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>answer<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    newWord <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We want to call <code>addNewWord()</code> when the user presses return on the keyboard, and in SwiftUI we can do that by adding an <code>onSubmit()</code> modifier somewhere in our view hierarchy ‚Äì it could be directly on the button, but it can be anywhere else in the view because it will be triggered when any text is submitted.</p><p><code>onSubmit()</code> needs to be given a function that accepts no parameters and returns nothing, which exactly matches the <code>addNewWord()</code> method we just wrote. So, we can pass that in directly by adding this modifier below <code>navigationTitle()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">onSubmit</span><span class="token punctuation">(</span>addNewWord<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Run the app now and you‚Äôll see that things are starting to come together already: we can now type words into the text field, press return, and see them appear in the list.</p><p>Inside <code>addNewWord()</code> we used <code>usedWords.insert(answer, at: 0)</code> for a reason: if we had used <code>append(answer)</code> the new words would have appeared at the end of the list where they would probably be off screen, but by inserting words at the start of the array they automatically appear at the top of the list ‚Äì much better.</p><p>Before we put a title up in the navigation view, I‚Äôm going to make two small changes to our layout.</p><p>First, when we call <code>addNewWord()</code> it lowercases the word the user entered, which is helpful because it means the user can‚Äôt add ‚Äúcar‚Äù, ‚ÄúCar‚Äù, and ‚ÄúCAR‚Äù. However, it looks odd in practice: the text field automatically capitalizes the first letter of whatever the user types, so when they submit ‚ÄúCar‚Äù what they see in the list is ‚Äúcar‚Äù.</p><p>To fix this, we can disable capitalization for the text field with another modifier: <code>textInputAutocapitalization()</code>. Please add this to the text field now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">textInputAutocapitalization</span><span class="token punctuation">(</span><span class="token punctuation">.</span>never<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The second thing we‚Äôll change, just because we can, is to use Apple‚Äôs SF Symbols icons to show the length of each word next to the text. SF Symbols provides numbers in circles from 0 through 50, all named using the format ‚Äúx.circle.fill‚Äù ‚Äì so 1.circle.fill, 20.circle.fill.</p><p>In this program we‚Äôll be showing eight-letter words to users, so if they rearrange all those letters to make a new word the longest it will be is also eight letters. As a result, we can use those SF Symbols number circles just fine ‚Äì we know that all possible word lengths are covered.</p><p>So, we can wrap our word text in a <code>HStack</code>, and place an SF Symbol next to it using Image(systemName:)\` like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token class-name">ForEach</span><span class="token punctuation">(</span>usedWords<span class="token punctuation">,</span> id<span class="token punctuation">:</span> <span class="token punctuation">\\</span><span class="token punctuation">.</span><span class="token keyword">self</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> word <span class="token keyword">in</span></span>
<span class="line">    <span class="token class-name">HStack</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Image</span><span class="token punctuation">(</span>systemName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">word<span class="token punctuation">.</span>count</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">.circle&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token class-name">Text</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you run the app now you‚Äôll see you can type words in the text field, press return, then see them appear in the list with their length icon to the side. Nice!</p><p>Now, if you wanted to we could add one sneaky little extra tweak in here. When we submit our text field right now, the text just appears in the list immediately, but we could animate that by modifying the <code>insert()</code> call inside <code>addNewWord()</code> to this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">withAnimation <span class="token punctuation">{</span></span>
<span class="line">    usedWords<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>answer<span class="token punctuation">,</span> at<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We haven‚Äôt looked at animations just yet, and we‚Äôre going to look at them much more shortly, but that change alone will make our new words slide in much more nicely ‚Äì I think it‚Äôs a big improvement!</p>`,29),_=n("h3",{id:"running-code-when-our-app-launches",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#running-code-when-our-app-launches"},[n("span",null,"Running code when our app launches")])],-1),I={class:"hint-container details"},j=n("summary",null,"Running code when our app launches",-1),q=l(`<p>When Xcode builds an iOS project, it puts your compiled program, your asset catalog, and any other assets into a single directory called a <em>bundle</em>, then gives that bundle the name YourAppName.app. This ‚Äú.app‚Äù extension is automatically recognized by iOS and Apple‚Äôs other platforms, which is why if you double-click something like Notes.app on macOS it knows to launch the program inside the bundle.</p><p>In our game, we‚Äôre going to include a file called ‚Äústart.txt‚Äù, which includes over 10,000 eight-letter words that will be randomly selected for the player to work with. This was included in the files for this project that you should have downloaded from GitHub, so please drag start.txt into your project now.</p><p>We already defined a property called <code>rootWord</code>, which will contain the word we want the player to spell from. What we need to do now is write a new method called <code>startGame()</code> that will:</p><ol><li>Find start.txt in our bundle</li><li>Load it into a string</li><li>Split that string into array of strings, with each element being one word</li><li>Pick one random word from there to be assigned to <code>rootWord</code>, or use a sensible default if the array is empty.</li></ol><p>Each of those four tasks corresponds to one line of code, but there‚Äôs a twist: what if we can‚Äôt locate start.txt in our app bundle, or if we can <em>locate</em> it but we can‚Äôt <em>load</em> it? In that case we have a serious problem, because our app is really broken ‚Äì either we forgot to include the file somehow (in which case our game won‚Äôt work), or we included it but for some reason iOS refused to let us read it (in which case our game won‚Äôt work, and our app is broken).</p><p>Regardless of what caused it, this is a situation that never ought to happen, and Swift gives us a function called <code>fatalError()</code> that lets us respond to unresolvable problems really clearly. When we call <code>fatalError()</code> it will ‚Äì unconditionally and always ‚Äì cause our app to crash. It will just die. Not ‚Äúmight die‚Äù or ‚Äúmaybe die‚Äù: it will always just terminate straight away.</p><p>I realize that sounds bad, but what it lets us do is important: for problems like this one, such as if we forget to include a file in our project, there is no point trying to make our app struggle on in a broken state. It‚Äôs much better to terminate immediately and give us a clear explanation of what went wrong so we can correct the problem, and that‚Äôs exactly what <code>fatalError()</code> does.</p><p>Anyway, let‚Äôs take a look at the code ‚Äì I‚Äôve added comments matching the numbers above:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">startGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 1. Find the URL for start.txt in our app bundle</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token keyword">let</span> startWordsURL <span class="token operator">=</span> <span class="token class-name">Bundle</span><span class="token punctuation">.</span>main<span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>forResource<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;start&quot;</span></span><span class="token punctuation">,</span> withExtension<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;txt&quot;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 2. Load start.txt into a string</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">let</span> startWords <span class="token operator">=</span> <span class="token keyword">try</span><span class="token operator">?</span> <span class="token class-name">String</span><span class="token punctuation">(</span>contentsOf<span class="token punctuation">:</span> startWordsURL<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 3. Split the string up into an array of strings, splitting on line breaks</span></span>
<span class="line">            <span class="token keyword">let</span> allWords <span class="token operator">=</span> startWords<span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span>separatedBy<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;\\n&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 4. Pick one random word, or use &quot;silkworm&quot; as a sensible default</span></span>
<span class="line">            rootWord <span class="token operator">=</span> allWords<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token string-literal"><span class="token string">&quot;silkworm&quot;</span></span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// If we are here everything has worked, so we can exit</span></span>
<span class="line">            <span class="token keyword">return</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// If were are *here* then there was a problem ‚Äì trigger a crash and report the error</span></span>
<span class="line">    <span class="token function">fatalError</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;Could not load start.txt from bundle.&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that we have a method to load everything for the game, we need to actually call that thing when our view is shown. SwiftUI gives us a dedicated view modifier for running a closure when a view is shown, so we can use that to call <code>startGame()</code> and get things moving ‚Äì add this modifier after <code>onSubmit()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">onAppear</span><span class="token punctuation">(</span>perform<span class="token punctuation">:</span> startGame<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>If you run the game now you should see a random eight-letter word at the top of the navigation view. It doesn‚Äôt really <em>mean</em> anything yet, because players can still enter whatever words they want. Let‚Äôs fix that next‚Ä¶</p>`,12),T=n("h3",{id:"validating-words-with-uitextchecker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#validating-words-with-uitextchecker"},[n("span",null,[a("Validating words with "),n("code",null,"UITextChecker")])])],-1),N={class:"hint-container details"},A=n("summary",null,"Validating words with UITextChecker",-1),U=l(`<p>Now that our game is all set up, the last part of this project is to make sure the user can‚Äôt enter invalid words. We‚Äôre going to implement this as four small methods, each of which perform exactly one check: is the word original (it hasn‚Äôt been used already), is the word possible (they aren‚Äôt trying to spell ‚Äúcar‚Äù from ‚Äúsilkworm‚Äù), and is the word real (it‚Äôs an actual English word).</p><p>If you were paying attention you‚Äôll have noticed that was only <em>three</em> methods ‚Äì that‚Äôs because the fourth method will be there to make showing error messages easier.</p><p>Anyway, let‚Äôs start with the first method: this will accept a string as its only parameter, and return true or false depending on whether the word has been used before or not. We already have a <code>usedWords</code> array, so we can pass the word into its <code>contains()</code> method and send the result back like this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">isOriginal</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">!</span>usedWords<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>word<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>That‚Äôs one method down!</p><p>The next one is slightly trickier: how can we check whether a random word can be made out of the letters from another random word?</p><p>There are a couple of ways we could tackle this, but the easiest one is this: if we create a variable copy of the root word, we can then loop over each letter of the user‚Äôs input word to see if that letter exists in our copy. If it does, we remove it from the copy (so it can‚Äôt be used twice), then continue. If we make it to the end of the user‚Äôs word successfully then the word is good, otherwise there‚Äôs a mistake and we return false.</p><p>So, here‚Äôs our second method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">isPossible</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> tempWord <span class="token operator">=</span> rootWord</span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> letter <span class="token keyword">in</span> word <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token keyword">let</span> pos <span class="token operator">=</span> tempWord<span class="token punctuation">.</span><span class="token function">firstIndex</span><span class="token punctuation">(</span>of<span class="token punctuation">:</span> letter<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            tempWord<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>at<span class="token punctuation">:</span> pos<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token boolean">false</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The final method is harder, because we need to use <code>UITextChecker</code> from UIKit. In order to bridge Swift strings to Objective-C strings safely, we need to create an instance of <code>NSRange</code> using the UTF-16 count of our Swift string. This isn‚Äôt nice, I know, but I‚Äôm afraid it‚Äôs unavoidable until Apple cleans up these APIs.</p><p>So, our last method will make an instance of <code>UITextChecker</code>, which is responsible for scanning strings for misspelled words. We‚Äôll then create an <code>NSRange</code> to scan the entire length of our string, then call <code>rangeOfMisspelledWord()</code> on our text checker so that it looks for wrong words. When that finishes we‚Äôll get back <em>another</em> <code>NSRange</code> telling us where the misspelled word was found, but if the word was OK the location for that range will be the special value <code>NSNotFound</code>.</p><p>So, here‚Äôs our final method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">isReal</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Bool</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> checker <span class="token operator">=</span> <span class="token class-name">UITextChecker</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token class-name">NSRange</span><span class="token punctuation">(</span>location<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> length<span class="token punctuation">:</span> word<span class="token punctuation">.</span>utf16<span class="token punctuation">.</span>count<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">let</span> misspelledRange <span class="token operator">=</span> checker<span class="token punctuation">.</span><span class="token function">rangeOfMisspelledWord</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> word<span class="token punctuation">,</span> range<span class="token punctuation">:</span> range<span class="token punctuation">,</span> startingAt<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> wrap<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> language<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;en&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> misspelledRange<span class="token punctuation">.</span>location <span class="token operator">==</span> <span class="token class-name">NSNotFound</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Before we can use those three, I want to add some code to make showing error alerts easier. First, we need some properties to control our alerts:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> errorTitle <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> errorMessage <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;&quot;</span></span></span>
<span class="line"><span class="token attribute atrule">@State</span> <span class="token keyword">private</span> <span class="token keyword">var</span> showingError <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now we can add a method that sets the title and message based on the parameters it receives, then flips the <code>showingError</code> Boolean to true:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">wordError</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    errorTitle <span class="token operator">=</span> title</span>
<span class="line">    errorMessage <span class="token operator">=</span> message</span>
<span class="line">    showingError <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We can then pass those directly on to SwiftUI by adding an <code>alert()</code> modifier below <code>.onAppear()</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span>errorTitle<span class="token punctuation">,</span> isPresented<span class="token punctuation">:</span> $showingError<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">&quot;OK&quot;</span></span><span class="token punctuation">,</span> role<span class="token punctuation">:</span> <span class="token punctuation">.</span>cancel<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span> message<span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Text</span><span class="token punctuation">(</span>errorMessage<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>We‚Äôve done that several times now, so hopefully it‚Äôs becoming second nature!</p><p>At long last it‚Äôs time to finish our game: replace the <code>// extra validation to come</code> comment in <code>addNewWord()</code> with this:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">guard</span> <span class="token function">isOriginal</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> answer<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">wordError</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Word used already&quot;</span></span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Be more original&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">guard</span> <span class="token function">isPossible</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> answer<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">wordError</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Word not possible&quot;</span></span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;You can&#39;t spell that word from &#39;</span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">rootWord</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&#39;!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">guard</span> <span class="token function">isReal</span><span class="token punctuation">(</span>word<span class="token punctuation">:</span> answer<span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">wordError</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Word not recognized&quot;</span></span><span class="token punctuation">,</span> message<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;You can&#39;t just make them up, you know!&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you run the app now you should find that it will refuse to let you use words if they fail our tests ‚Äì trying a duplicate word won‚Äôt work, words that can‚Äôt be spelled from the root word won‚Äôt work, and gibberish words won‚Äôt work either.</p><p>That‚Äôs another app done ‚Äì good job!</p>`,24),R=n("hr",null,null,-1);function C(d,D){const e=r("router-link"),t=r("VPCard"),c=r("VidStack");return w(),h("div",null,[n("h1",g,[n("a",v,[n("span",null,k(d.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n("nav",f,[n("ul",null,[n("li",null,[s(e,{to:"#project-5-part-2"},{default:o(()=>[a("Project 5, part 2")]),_:1}),n("ul",null,[n("li",null,[s(e,{to:"#adding-to-a-list-of-words"},{default:o(()=>[a("Adding to a list of words")]),_:1})]),n("li",null,[s(e,{to:"#running-code-when-our-app-launches"},{default:o(()=>[a("Running code when our app launches")]),_:1})]),n("li",null,[s(e,{to:"#validating-words-with-uitextchecker"},{default:o(()=>[a("Validating words with UITextChecker")]),_:1})])])])])]),b,s(t,i(p({title:"100 Days of SwiftUI - Day 30",desc:"Project 5, part 2",link:"https://www.hackingwithswift.com/100/swiftui/30",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),y,n("details",x,[S,s(t,i(p({title:"100 Days of SwiftUI - Day 30 - Adding to a list of words",desc:"Adding to a list of words",link:"https://hackingwithswift.com/books/ios-swiftui/adding-to-a-list-of-words",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),s(c,{src:"youtube/2lnPCkU7_Tg"}),W]),_,n("details",I,[j,s(t,i(p({title:"100 Days of SwiftUI - Day 30 - Running code when our app launches",desc:"Running code when our app launches",link:"https://hackingwithswift.com/books/ios-swiftui/running-code-when-our-app-launches",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),s(c,{src:"youtube/MvN4dnD41YA"}),q]),T,n("details",N,[A,s(t,i(p({title:"100 Days of SwiftUI - Day 30 - Validating words with UITextChecker",desc:"Validating words with UITextChecker",link:"https://hackingwithswift.com/books/ios-swiftui/validating-words-with-uitextchecker",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(54,94,226,0.2)"})),null,16),s(c,{src:"youtube/Z0TzefG4wdw"}),U]),R])}const P=u(m,[["render",C],["__file","30.html.vue"]]),F=JSON.parse('{"path":"/swift/100-days-of-swiftui/30.html","title":"Day 30","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Day 30","description":"100 Days of SwiftUI > Day 30","category":["Swift"],"tag":["crashcourse","paul-hudson","swift","swiftui","hacking-with-swift","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"100 Days of SwiftUI > Day 30"},{"property":"og:description","content":"Day 30"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/swift/100-days-of-swiftui/30.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/swift/100-days-of-swiftui/30.html"}],["meta",{"property":"og:site_name","content":"ü•ÅCrashcourse"}],["meta",{"property":"og:title","content":"Day 30"}],["meta",{"property":"og:description","content":"100 Days of SwiftUI > Day 30"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"paul-hudson"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"swiftui"}],["meta",{"property":"article:tag","content":"hacking-with-swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day 30\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Project 5, part 2","slug":"project-5-part-2","link":"#project-5-part-2","children":[{"level":3,"title":"Adding to a list of words","slug":"adding-to-a-list-of-words","link":"#adding-to-a-list-of-words","children":[]},{"level":3,"title":"Running code when our app launches","slug":"running-code-when-our-app-launches","link":"#running-code-when-our-app-launches","children":[]},{"level":3,"title":"Validating words with UITextChecker","slug":"validating-words-with-uitextchecker","link":"#validating-words-with-uitextchecker","children":[]}]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":8}]},"readingTime":{"minutes":9.64,"words":2893},"filePathRelative":"swift/100-days-of-swiftui/30.md","localizedDate":"2023ÎÖÑ 12Ïõî 27Ïùº","excerpt":"\\n\\n<hr>\\n"}');export{P as comp,F as data};
