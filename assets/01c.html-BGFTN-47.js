import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a as s,t as r,b as a,w as e,e as d,r as o,o as u,d as t}from"./app-U_bew1in.js";const k={},m={id:"frontmatter-title-á„€á…ªá†«á„…á…§á†«",tabindex:"-1"},h={class:"header-anchor",href:"#frontmatter-title-á„€á…ªá†«á„…á…§á†«"},b={class:"table-of-contents"},v=d(`<hr><h2 id="auto-trace" tabindex="-1"><a class="header-anchor" href="#auto-trace"><span>Auto Trace</span></a></h2><h3 id="á„€á…¢á„‹á…­" tabindex="-1"><a class="header-anchor" href="#á„€á…¢á„‹á…­"><span>ê°œìš”</span></a></h3><p>SQL ìˆ˜í–‰ ì‹œ ì‹¤ì œ ì¼ëŸ‰ ì¸¡ì • ë° íŠœë‹í•˜ëŠ”ë° ìœ ìš©í•œ ì •ë³´ë“¤ì„ ë§ì´ í¬í•¨í•˜ëŠ” ë„êµ¬</p><h3 id="autotrace-á„‹á…©á†¸á„‰á…§á†«" tabindex="-1"><a class="header-anchor" href="#autotrace-á„‹á…©á†¸á„‰á…§á†«"><span>AutoTrace ì˜µì…˜</span></a></h3><blockquote><p>ì•„ë˜ì™€ ê°™ì€ ì˜µì…˜ì— ë”°ë¼ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¶œë ¥í•´ ë³¼ ìˆ˜ ìˆìŒ</p></blockquote><ol><li><code>set autotrace on</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰ ê³„íš ë° ì‹¤í–‰í†µê³„ë¥¼ ì¶œë ¥</li><li><code>set autotrace on explain</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰ ê³„íšì„ ì¶œë ¥</li><li><code>set autotrace on statistics</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰í†µê³„ë¥¼ ì¶œë ¥</li><li><code>set autotrace traceonly</code>: SQLì„ ì‹¤í–‰í•˜ì§€ë§Œ ê·¸ ê²°ê³¼ëŠ” ì¶œë ¥í•˜ì§€ ì•Šê³ , ì‹¤í–‰ê³„íšê³¼ ì‹¤í–‰í†µê³„ë§Œì„ ì¶œë ¥</li><li><code>set autotrace traceonly explain</code>: SQLì„ ì‹¤í–‰í•˜ì§€ì•Šê³  ì‹¤í–‰ê³„íšë§Œì„ ì¶œë ¥</li><li><code>set autotrace traceonly statistics</code>: SQLì„ ì‹¤í–‰í•˜ì§€ë§Œ ê·¸ ê²°ê³¼ëŠ” ì¶œë ¥í•˜ì§€ ì•Šê³ , ì‹¤í–‰í†µê³„ë§Œì„ ì¶œë ¥</li></ol><blockquote><p>1~3 ìˆ˜í–‰ ê²°ê³¼ë¥¼ ì¶œë ¥ í•´ì•¼ í•˜ë¯€ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤ì œ ìˆ˜í–‰ 4,6 ì‹¤í–‰ í†µê³„ë¥¼ ë³´ì—¬ì¤˜ì•¼ í•˜ë¯€ë¡œ ì¿¼ë¦¬ë¥¼ ì‹¤ì œ ìˆ˜í–‰ 5 ë²ˆì€ ì‹¤í–‰ ê³„íšë§Œ ì¶œë ¥í•˜ë©´ ë˜ë¯€ë¡œ ì‹¤ì œ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ</p></blockquote><h3 id="autotrace-á„‘á…µá†¯á„‹á…­á„€á…¯á†«á„’á…¡á†«" tabindex="-1"><a class="header-anchor" href="#autotrace-á„‘á…µá†¯á„‹á…­á„€á…¯á†«á„’á…¡á†«"><span>AutoTrace í•„ìš”ê¶Œí•œ</span></a></h3><ul><li>Autotrace ê¸°ëŠ¥ì„ ì‹¤í–‰ê³„íš í™•ì¸ ìš©ë„ë¡œ ì‚¬ìš©í•œë‹¤ë©´ Plan_Tableë§Œ ìƒì„± ë˜ì–´ ìˆìœ¼ë©´ ê°€ëŠ¥</li><li>ì‹¤í–‰í†µê³„ ê¹Œì§€ í™•ì¸ í•˜ë ¤ë©´ <code>v_$sesstat</code>, <code>v_$statname</code>, <code>v_$mystat</code> ë·°ì— ëŒ€í•œ ì½ê¸° ê¶Œí•œì´ í•„ìš”</li><li><code>dba</code>, <code>select_catalog_role</code> ë“±ì˜ ë¡¤ì„ ë¶€ì—¬ë°›ì§€ ì•Šì€ ì‚¬ìš©ìì˜ ê²½ìš° ë³„ë„ì˜ ê¶Œí•œ ì„¤ì •ì´ í•„ìš”</li><li><code>plustrace</code> ë¡¤ì„ ìƒì„±í•˜ê³  ë¡¤ì„ ë¶€ì—¬í•˜ëŠ” ê²ƒì´ í¸ë¦¬</li></ul><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">SQL<span class="token operator">&gt;</span> @?/sqlplus/admin/plustrace.sql</span>
<span class="line">SQL<span class="token operator">&gt;</span> grant plustrace to scott<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="dbms-xplan" tabindex="-1"><a class="header-anchor" href="#dbms-xplan"><span><code>DBMS_XPLAN</code></span></a></h3><ul><li><code>DBMS_XPLAN.DISPLAY</code></li><li><code>DBMS_XPLAN.DISPLAY_CURSOR</code></li></ul><h4 id="á„‹á…¨á„Œá…¦1-á„‹á…¨á„‰á…¡á†¼-á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«" tabindex="-1"><a class="header-anchor" href="#á„‹á…¨á„Œá…¦1-á„‹á…¨á„‰á…¡á†¼-á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«"><span>ì˜ˆì œ1: ì˜ˆìƒ ì‹¤í–‰ê³„íš í™•ì¸</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">explain</span> <span class="token keyword">plan</span> <span class="token keyword">for</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> EMP <span class="token keyword">WHERE</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span></span>
<span class="line"><span class="token operator">AND</span> empno<span class="token operator">=</span><span class="token number">7900</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span><span class="token punctuation">(</span>dbms_xplan<span class="token punctuation">.</span>display<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="á„‹á…¨á„Œá…¦2-á„‹á…¨á„‰á…¡á†¼-á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«-sql-id" tabindex="-1"><a class="header-anchor" href="#á„‹á…¨á„Œá…¦2-á„‹á…¨á„‰á…¡á†¼-á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«-sql-id"><span>ì˜ˆì œ2: ì˜ˆìƒ ì‹¤í–‰ê³„íš í™•ì¸ (<code>sql_id</code>)</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> </span>
<span class="line">  <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span><span class="token punctuation">(</span>DBMS_XPLAN<span class="token punctuation">.</span>DISPLAY<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">&#39;BASIC&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> </span>
<span class="line">  <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span><span class="token punctuation">(</span>DBMS_XPLAN<span class="token punctuation">.</span>DISPLAY<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">&#39;ADVANCED&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">-- í•„ìˆ˜í™•ì¸</span></span>
<span class="line"><span class="token keyword">SHOW</span> PARAMETER statistics_level<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> </span>
<span class="line">  <span class="token keyword">FROM</span> v$parameter </span>
<span class="line"> <span class="token keyword">WHERE</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span></span>
<span class="line"> <span class="token operator">AND</span> name <span class="token operator">LIKE</span> <span class="token string">&#39;%statistics_level%&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="á„‹á…¨á„Œá…¦3-á„‰á…µá†¯á„Œá…¦á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«" tabindex="-1"><a class="header-anchor" href="#á„‹á…¨á„Œá…¦3-á„‰á…µá†¯á„Œá…¦á„‰á…µá†¯á„’á…¢á†¼á„€á…¨á„’á…¬á†¨-á„’á…ªá†¨á„‹á…µá†«"><span>ì˜ˆì œ3: ì‹¤ì œì‹¤í–‰ê³„íš í™•ì¸</span></a></h4><div class="language-sql line-numbers-mode" data-highlighter="prismjs" data-ext="sql" data-title="sql"><pre><code><span class="line"><span class="token keyword">SET</span> SERVEROUTPUT <span class="token keyword">OFF</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">ALTER</span> <span class="token keyword">SESSION</span> <span class="token keyword">SET</span> statistics_level <span class="token operator">=</span> <span class="token string">&#39;ALL&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token comment">/*+ GATHER_PLAN_STATISTICS */</span><span class="token comment">/* HNJ */</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> EMP <span class="token keyword">WHERE</span> <span class="token number">1</span><span class="token operator">=</span><span class="token number">1</span> <span class="token operator">AND</span> empno <span class="token operator">=</span> <span class="token number">7900</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">-- sql_id í™•ì¸</span></span>
<span class="line"><span class="token keyword">SELECT</span> SUBSTR<span class="token punctuation">(</span>SQL_TEXT<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> SQL_TEXT<span class="token punctuation">,</span> SQL_ID<span class="token punctuation">,</span> CHILD_NUMBER</span>
<span class="line">  <span class="token keyword">FROM</span> V$<span class="token keyword">SQL</span></span>
<span class="line"> <span class="token keyword">WHERE</span> SQL_TEXT <span class="token operator">LIKE</span> <span class="token string">&#39;%HNJ%&#39;</span></span>
<span class="line">   <span class="token operator">AND</span> SQL_TEXT <span class="token operator">NOT</span> <span class="token operator">LIKE</span> <span class="token string">&#39;%V$SQL%&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">SELECT</span> <span class="token operator">*</span> </span>
<span class="line">  <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span><span class="token punctuation">(</span>DBMS_XPLAN<span class="token punctuation">.</span>DISPLAY_CURSOR<span class="token punctuation">(</span><span class="token string">&#39;a1n5k59v630kb&#39;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#39;ALLSTATS LAST&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="á„á…¡á†·á„€á…©" tabindex="-1"><a class="header-anchor" href="#á„á…¡á†·á„€á…©"><span>ì°¸ê³ </span></a></h2><ul><li><a href="http://blog.naver.com/PostView.nhn?blogId=sophie_yeom&amp;logNo=220891529668" target="_blank" rel="noopener noreferrer">SQL ì‹¤í–‰ê³„íš</a></li></ul><hr>`,23);function g(l,L){const n=o("router-link"),p=o("TagLinks");return u(),i("div",null,[s("h1",m,[s("a",h,[s("span",null,r(l.$frontmatter.title)+" ê´€ë ¨",1)])]),s("nav",b,[s("ul",null,[s("li",null,[a(n,{to:"#auto-trace"},{default:e(()=>[t("Auto Trace")]),_:1}),s("ul",null,[s("li",null,[a(n,{to:"#á„€á…¢á„‹á…­"},{default:e(()=>[t("ê°œìš”")]),_:1})]),s("li",null,[a(n,{to:"#autotrace-á„‹á…©á†¸á„‰á…§á†«"},{default:e(()=>[t("AutoTrace ì˜µì…˜")]),_:1})]),s("li",null,[a(n,{to:"#autotrace-á„‘á…µá†¯á„‹á…­á„€á…¯á†«á„’á…¡á†«"},{default:e(()=>[t("AutoTrace í•„ìš”ê¶Œí•œ")]),_:1})]),s("li",null,[a(n,{to:"#dbms-xplan"},{default:e(()=>[t("DBMS_XPLAN")]),_:1})])])]),s("li",null,[a(n,{to:"#á„á…¡á†·á„€á…©"},{default:e(()=>[t("ì°¸ê³ ")]),_:1})])])]),v,a(p)])}const _=c(k,[["render",g],["__file","01c.html.vue"]]),T=JSON.parse('{"path":"/misc/oracle-sql-db-tuning/01c.html","title":"01C","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"01C","description":"ğŸ™†â€â™‚ï¸DB Server ì„±ëŠ¥ í–¥ìƒ, ë¶„ì„ ë° íŠœë‹ ì „ë¬¸ê°€ í–¥ìƒê³¼ì • > 01C","category":["Oracle DB"],"tag":["crashcourse","oracle","oracle-db","oracle-sql"],"head":[[{"meta":null},{"property":"og:title","content":"ğŸ™†â€â™‚ï¸DB Server ì„±ëŠ¥ í–¥ìƒ, ë¶„ì„ ë° íŠœë‹ ì „ë¬¸ê°€ í–¥ìƒê³¼ì • > 01C"},{"property":"og:description","content":"01C"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/assets/misc/oracle-sql-db-tuning/01c.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/misc/oracle-sql-db-tuning/01c.html"}],["meta",{"property":"og:site_name","content":"ğŸ¥Crashcourse"}],["meta",{"property":"og:title","content":"01C"}],["meta",{"property":"og:description","content":"ğŸ™†â€â™‚ï¸DB Server ì„±ëŠ¥ í–¥ìƒ, ë¶„ì„ ë° íŠœë‹ ì „ë¬¸ê°€ í–¥ìƒê³¼ì • > 01C"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"oracle"}],["meta",{"property":"article:tag","content":"oracle-db"}],["meta",{"property":"article:tag","content":"oracle-sql"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"01C\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Auto Trace","slug":"auto-trace","link":"#auto-trace","children":[{"level":3,"title":"ê°œìš”","slug":"á„€á…¢á„‹á…­","link":"#á„€á…¢á„‹á…­","children":[]},{"level":3,"title":"AutoTrace ì˜µì…˜","slug":"autotrace-á„‹á…©á†¸á„‰á…§á†«","link":"#autotrace-á„‹á…©á†¸á„‰á…§á†«","children":[]},{"level":3,"title":"AutoTrace í•„ìš”ê¶Œí•œ","slug":"autotrace-á„‘á…µá†¯á„‹á…­á„€á…¯á†«á„’á…¡á†«","link":"#autotrace-á„‘á…µá†¯á„‹á…­á„€á…¯á†«á„’á…¡á†«","children":[]},{"level":3,"title":"DBMS_XPLAN","slug":"dbms-xplan","link":"#dbms-xplan","children":[]}]},{"level":2,"title":"ì°¸ê³ ","slug":"á„á…¡á†·á„€á…©","link":"#á„á…¡á†·á„€á…©","children":[]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":5}]},"readingTime":{"minutes":0.74,"words":222},"filePathRelative":"misc/oracle-sql-db-tuning/01c.md","localizedDate":"2023ë…„ 12ì›” 27ì¼","excerpt":"\\n\\n<hr>\\n<h2>Auto Trace</h2>\\n<h3>ê°œìš”</h3>\\n<p>SQL ìˆ˜í–‰ ì‹œ ì‹¤ì œ ì¼ëŸ‰ ì¸¡ì • ë° íŠœë‹í•˜ëŠ”ë° ìœ ìš©í•œ ì •ë³´ë“¤ì„ ë§ì´ í¬í•¨í•˜ëŠ” ë„êµ¬</p>\\n<h3>AutoTrace ì˜µì…˜</h3>\\n<blockquote>\\n<p>ì•„ë˜ì™€ ê°™ì€ ì˜µì…˜ì— ë”°ë¼ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì¶œë ¥í•´ ë³¼ ìˆ˜ ìˆìŒ</p>\\n</blockquote>\\n<ol>\\n<li><code>set autotrace on</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰ ê³„íš ë° ì‹¤í–‰í†µê³„ë¥¼ ì¶œë ¥</li>\\n<li><code>set autotrace on explain</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰ ê³„íšì„ ì¶œë ¥</li>\\n<li><code>set autotrace on statistics</code>: SQLì„ ì‹¤í–‰í•˜ê³  ê·¸ê²°ê³¼ì™€ í•¨ê»˜ ì‹¤í–‰í†µê³„ë¥¼ ì¶œë ¥</li>\\n<li><code>set autotrace traceonly</code>: SQLì„ ì‹¤í–‰í•˜ì§€ë§Œ ê·¸ ê²°ê³¼ëŠ” ì¶œë ¥í•˜ì§€ ì•Šê³ , ì‹¤í–‰ê³„íšê³¼ ì‹¤í–‰í†µê³„ë§Œì„ ì¶œë ¥</li>\\n<li><code>set autotrace traceonly explain</code>: SQLì„ ì‹¤í–‰í•˜ì§€ì•Šê³  ì‹¤í–‰ê³„íšë§Œì„ ì¶œë ¥</li>\\n<li><code>set autotrace traceonly statistics</code>: SQLì„ ì‹¤í–‰í•˜ì§€ë§Œ ê·¸ ê²°ê³¼ëŠ” ì¶œë ¥í•˜ì§€ ì•Šê³ , ì‹¤í–‰í†µê³„ë§Œì„ ì¶œë ¥</li>\\n</ol>"}');export{_ as comp,T as data};
