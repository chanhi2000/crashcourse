import{_ as d}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as h,a as n,t as k,b as s,w as o,n as i,g as p,e as c,d as a,r,o as m}from"./app-U_bew1in.js";const g={},w={id:"frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´",tabindex:"-1"},v={class:"header-anchor",href:"#frontmatter-title-·ÑÄ·Ö™·Ü´·ÑÖ·Öß·Ü´"},y={class:"table-of-contents"},b=n("hr",null,null,-1),f=c('<h2 id="project-17-part-one" tabindex="-1"><a class="header-anchor" href="#project-17-part-one"><span>Project 17, part one</span></a></h2><p>Way back in day 8 of this course I gave you a quote from Fred Brooks, who wrote the seminal book <em>The Mythical Man-Month</em>. Well, today I want to channel him once more, because in that book he provided a timeless piece of advice for all software developers: ‚ÄúPlan to throw the first one away.‚Äù</p><p>You see, sometimes we only know whether a solution is optimal, or if it will even work, after we‚Äôve had a first pass at implementing it. As has been said many times before, in theory theory and practice are the same thing, but in practice they aren‚Äôt ‚Äì it‚Äôs one thing to have an idea in your head, but quite another to actually bring it to life with Swift.</p><p>While you might think throwing away code sounds bad, in this project you‚Äôll start to realize just how fast we can get functionality up and running ‚Äì in about 20 minutes we‚Äôll go from an empty Xcode project to a working game, all thanks to SpriteKit.</p><p>Of course you‚Äôll also be learning some important new techniques long the way ‚Äì it‚Äôs a busy day!</p><p><strong>Today you have four topics to work through, and you‚Äôll learn about pixel-perfect collision detection, <code>Timer</code>, <code>linearDamping</code>, and more.</strong></p><h3 id="setting-up" tabindex="-1"><a class="header-anchor" href="#setting-up"><span>Setting up</span></a></h3>',7),_={class:"hint-container details"},S=n("summary",null,"Setting up",-1),x=n("p",null,[a(`In this game project we'll seek to answer the question, "how fast can you make a fun game in SpriteKit?" Spoiler warning: the answer is very fast. And that's even when you ignore learning about `),n("code",null,"Timer"),a(", advancing particle systems, linear and angular damping, and per-pixel collision detection.")],-1),T=n("p",null,"The game we're going to produce is a very simple survival game: our player will have to pilot a spaceship safely through a field of space junk. The longer they stay alive the higher their score will be, but they need to keep moving otherwise certain death awaits!",-1),D=n("p",null,"Remarkably, we're going to make this project in just over 100 lines of code. To begin, create a new SpriteKit project in Xcode named Project17. Configure it to work only on landscape iPads, then download the files for this project and copy the Content folder into your project.",-1),j=n("p",null,"Now for the most important ‚Äì and most boring - part: please clean Xcode‚Äôs template project so that it‚Äôs back to showing a large empty screen. Don‚Äôt forget to change the anchor point and size of the scene!",-1),B=n("p",null,"All done? Start the clock ‚Äì let's see how long it takes to make this game!",-1),P=n("h3",{id:"space-the-final-frontier",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#space-the-final-frontier"},[n("span",null,"Space: the final frontier")])],-1),N={class:"hint-container details"},q=n("summary",null,"Space: the final frontier",-1),K=c(`<p>To begin with we&#39;re going to place a handful of things that are required to make our game work: a star field (not a static background picture this time), the player image, plus a score label. Those three things will use an <code>SKEmitterNode</code>, an <code>SKSpriteNode</code> and an <code>SKLabelNode</code> respectively, so let&#39;s declare them as properties now:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">var</span> starfield<span class="token punctuation">:</span> <span class="token class-name">SKEmitterNode</span><span class="token operator">!</span></span>
<span class="line"><span class="token keyword">var</span> player<span class="token punctuation">:</span> <span class="token class-name">SKSpriteNode</span><span class="token operator">!</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">var</span> scoreLabel<span class="token punctuation">:</span> <span class="token class-name">SKLabelNode</span><span class="token operator">!</span></span>
<span class="line"><span class="token keyword">var</span> score <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">didSet</span> <span class="token punctuation">{</span></span>
<span class="line">        scoreLabel<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">&quot;Score: </span><span class="token interpolation-punctuation punctuation">\\(</span><span class="token interpolation">score</span><span class="token interpolation-punctuation punctuation">)</span><span class="token string">&quot;</span></span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As per usual, we&#39;re using a property observer to update the score label as needed.</p><p>In order to get those properties set up with meaningful values, we&#39;re going to put a lot of code into <code>didMove(to:)</code> so that everything is created and positioned up front.</p><p>I&#39;m not going to bore you by going through every line of code ‚Äì three quarters of it you should know by heart at this point! ‚Äì but I do want to point out a few interesting things.</p><p>First, the star field particle emitter is positioned at X:1024 Y:384, which is the right edge of the screen and half way up. If you created particles like this normally it would look strange, because most of the screen wouldn&#39;t start with particles and they would just stream in from the right. But by using the <code>advanceSimulationTime()</code> method of the emitter we‚Äôre going to ask SpriteKit to simulate 10 seconds passing in the emitter, thus updating all the particles as if they were created 10 seconds ago. This will have the effect of filling our screen with star particles.</p><p>Second, because the spaceship is an irregular shape and the objects in space are also irregular, we&#39;re going to use per-pixel collision detection. This means collisions happen not based on rectangles and circles but based on actual pixels from one object touching actual pixels in another.</p><p>Now, SpriteKit does a really great job of optimizing this so that it looks like it&#39;s using actual pixels when in fact it just uses a very close approximation, but you should still only use it when it&#39;s needed. If something can be created as a rectangle or a circle you should do so because it&#39;s much faster.</p><p>Third, we&#39;re going to set the contact test bit mask for our player to be 1. This will match the category bit mask we will set for space debris later on, and it means that we&#39;ll be notified when the player collides with debris.</p><p>Fourth, I&#39;m going to set the gravity of our physics world to be empty, because this is space and there isn&#39;t any gravity. Well, that&#39;s not strictly true because there is a small amount of gravity everywhere in space, but certainly nothing we can simulate effectively in this game!</p><p>Here&#39;s the new <code>didMove(to:)</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">didMove</span><span class="token punctuation">(</span>to view<span class="token punctuation">:</span> <span class="token class-name">SKView</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    backgroundColor <span class="token operator">=</span> <span class="token punctuation">.</span>black</span>
<span class="line"></span>
<span class="line">    starfield <span class="token operator">=</span> <span class="token class-name">SKEmitterNode</span><span class="token punctuation">(</span>fileNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;starfield&quot;</span></span><span class="token punctuation">)</span><span class="token operator">!</span></span>
<span class="line">    starfield<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">1024</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">384</span><span class="token punctuation">)</span></span>
<span class="line">    starfield<span class="token punctuation">.</span><span class="token function">advanceSimulationTime</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>starfield<span class="token punctuation">)</span></span>
<span class="line">    starfield<span class="token punctuation">.</span>zPosition <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    player <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;player&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">384</span><span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>physicsBody <span class="token operator">=</span> <span class="token class-name">SKPhysicsBody</span><span class="token punctuation">(</span>texture<span class="token punctuation">:</span> player<span class="token punctuation">.</span>texture<span class="token operator">!</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> player<span class="token punctuation">.</span>size<span class="token punctuation">)</span></span>
<span class="line">    player<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>contactTestBitMask <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>player<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    scoreLabel <span class="token operator">=</span> <span class="token class-name">SKLabelNode</span><span class="token punctuation">(</span>fontNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;Chalkduster&quot;</span></span><span class="token punctuation">)</span></span>
<span class="line">    scoreLabel<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span></span>
<span class="line">    scoreLabel<span class="token punctuation">.</span>horizontalAlignmentMode <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token keyword">left</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>scoreLabel<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    score <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line">    physicsWorld<span class="token punctuation">.</span>gravity <span class="token operator">=</span> <span class="token class-name">CGVector</span><span class="token punctuation">(</span>dx<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    physicsWorld<span class="token punctuation">.</span>contactDelegate <span class="token operator">=</span> <span class="token keyword">self</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Did you see how easy it is to make per-pixel collision detection work? You just need to create the <code>SKPhysicsBody</code> by passing in a texture and size, and for us we just want to use the player&#39;s current texture and size. That&#39;s it!</p><p>The last line of code in that method sets our current game scene to be the contact delegate of the physics world, so you&#39;ll need to conform to the <code>SKPhysicsContactDelegate</code> protocol.</p><figure><img src="https://www.hackingwithswift.com/img/books/hws/17-1.png" alt="Our basic game has the user piloting a space rocket through space." tabindex="0" loading="lazy"><figcaption>Our basic game has the user piloting a space rocket through space.</figcaption></figure>`,15),C=n("h3",{id:"bring-on-the-enemies-lineardamping-angulardamping",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#bring-on-the-enemies-lineardamping-angulardamping"},[n("span",null,[a("Bring on the enemies: "),n("code",null,"linearDamping"),a(", "),n("code",null,"angularDamping")])])],-1),I={class:"hint-container details"},M=n("summary",null,"Bring on the enemies: linearDamping, angularDamping",-1),E=c(`<p>The point of our game is for the spaceship to survive while random &quot;space debris&quot; gets thrown at it. I&#39;ve included three items of various shapes in this example, but you can add more easily enough. As long as the player stays alive their score ticks upwards, so clearly it&#39;s going to take some quick movement to get the highest score.</p><p>To add enemies and time to the game, we need to declare three new properties:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">let</span> possibleEnemies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">&quot;ball&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;hammer&quot;</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">&quot;tv&quot;</span></span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">var</span> isGameOver <span class="token operator">=</span> <span class="token boolean">false</span></span>
<span class="line"><span class="token keyword">var</span> gameTimer<span class="token punctuation">:</span> <span class="token class-name">Timer</span><span class="token operator">?</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The <code>possibleEnemies</code> array contains the names of the three images that can be used as space debris in the game: a ball, a hammer and a TV. The <code>isGameOver</code> is a simple boolean that will be set to true when we should stop increasing the player&#39;s score.</p><p>The third property is a new type, called <code>Timer</code>. This is responsible for running code after a period of time has passed, either once or repeatedly.</p><p>When you create an <code>Timer</code> you specify five parameters: how many seconds you want the delay to be, what object should be told when the timer fires, what method should be called on that object when the timer fires, any context you want to provide, and whether the time should repeat.</p><p>We need to create a new enemy on a regular basis, so the first thing to do is create a scheduled timer. I&#39;m going to give it a timer interval of 0.35 seconds, so it will create about three enemies a second. Put this code into <code>didMove(to:)</code>:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line">gameTimer <span class="token operator">=</span> <span class="token class-name">Timer</span><span class="token punctuation">.</span><span class="token function">scheduledTimer</span><span class="token punctuation">(</span>timeInterval<span class="token punctuation">:</span> <span class="token number">0.35</span><span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">,</span> selector<span class="token punctuation">:</span> <span class="token other-directive property">#selector</span><span class="token punctuation">(</span>createEnemy<span class="token punctuation">)</span><span class="token punctuation">,</span> userInfo<span class="token punctuation">:</span> <span class="token nil constant">nil</span><span class="token punctuation">,</span> repeats<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Tip: The <code>scheduledTimer()</code> timer not only creates a timer, but also starts it immediately.</p><p>Creating an enemy needs to use techniques that you&#39;ve mostly seen already: it will shuffle the possibleEnemies array, create a sprite node using the first item in that array, position it off the right edge and with a random vertical position, then add it to the scene.</p><p>That part is old. The new part is the way we&#39;re going to create the physics body of the debris: we&#39;re going to use per-pixel collision again, tell it to collide with the player, make it move to the left at a fast speed, and give it some angular velocity. But we&#39;re also going to set to 0 its <code>linearDamping</code> and <code>angularDamping</code> properties, which means its movement and rotation will never slow down over time. Perfect for a frictionless space environment!</p><p>Add this <code>createEnemy()</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token attribute atrule">@objc</span> <span class="token keyword">func</span> <span class="token function-definition function">createEnemy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> enemy <span class="token operator">=</span> possibleEnemies<span class="token punctuation">.</span><span class="token function">randomElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">let</span> sprite <span class="token operator">=</span> <span class="token class-name">SKSpriteNode</span><span class="token punctuation">(</span>imageNamed<span class="token punctuation">:</span> enemy<span class="token punctuation">)</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token class-name">CGPoint</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token number">1200</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token class-name">Int</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token operator">...</span><span class="token number">736</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>sprite<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody <span class="token operator">=</span> <span class="token class-name">SKPhysicsBody</span><span class="token punctuation">(</span>texture<span class="token punctuation">:</span> sprite<span class="token punctuation">.</span>texture<span class="token operator">!</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> sprite<span class="token punctuation">.</span>size<span class="token punctuation">)</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>categoryBitMask <span class="token operator">=</span> <span class="token number">1</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>velocity <span class="token operator">=</span> <span class="token class-name">CGVector</span><span class="token punctuation">(</span>dx<span class="token punctuation">:</span> <span class="token operator">-</span><span class="token number">500</span><span class="token punctuation">,</span> dy<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>angularVelocity <span class="token operator">=</span> <span class="token number">5</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>linearDamping <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line">    sprite<span class="token punctuation">.</span>physicsBody<span class="token operator">?</span><span class="token punctuation">.</span>angularDamping <span class="token operator">=</span> <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now that lots of debris will appear, we need to make sure we remove their nodes once they are invisible. In this game, that means removing nodes from the scene once they are effectively useless because they have passed the player. This will be done using a check in the <code>update()</code> method: if any node is beyond X position -300, we&#39;ll consider it dead.</p><p>The <code>update()</code> method is also a good place to make our score increment all the time. All we need to do is check whether <code>isGameOver</code> is still false, and add one to the score if so. Here&#39;s the code for the <code>update()</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">update</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> currentTime<span class="token punctuation">:</span> <span class="token class-name">TimeInterval</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">for</span> node <span class="token keyword">in</span> children <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> node<span class="token punctuation">.</span>position<span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token operator">-</span><span class="token number">300</span> <span class="token punctuation">{</span></span>
<span class="line">            node<span class="token punctuation">.</span><span class="token function">removeFromParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token operator">!</span>isGameOver <span class="token punctuation">{</span></span>
<span class="line">        score <span class="token operator">+=</span> <span class="token number">1</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://www.hackingwithswift.com/img/books/hws/17-2.png" alt="Random deadly objects are thrown at the player, who scores points simply by staying alive." tabindex="0" loading="lazy"><figcaption>Random deadly objects are thrown at the player, who scores points simply by staying alive.</figcaption></figure>`,17),z=n("h3",{id:"making-contact-didbegin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#making-contact-didbegin"},[n("span",null,[a("Making contact: "),n("code",null,"didBegin()")])])],-1),G={class:"hint-container details"},V=n("summary",null,"Making contact: didBegin()",-1),O=c(`<p>Check your clock, because remarkably we‚Äôre just two methods away from finishing this game! Predictably, the two methods are critically important: one to move the player around the screen, and one to handle collisions between the player and the space debris.</p><p>Handling player movement is as simple as implementing the <code>touchesMoved()</code> method. We will, like always, need to use the <code>location(in:)</code> method to figure out where on the screen the user touched. But this time we&#39;re going to clamp the player&#39;s Y position, which in plain English means that we&#39;re going to stop them going above or below a certain point, keeping them firmly in the game area.</p><p>I&#39;ll be clamping the player&#39;s position so they can&#39;t overlap the score label, and I&#39;ll apply the same restriction on top so that the player has a symmetrical channel to fly through. This is a cinch to do, so here&#39;s the <code>touchesMoved()</code> method:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">override</span> <span class="token keyword">func</span> <span class="token function-definition function">touchesMoved</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> touches<span class="token punctuation">:</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span><span class="token class-name">UITouch</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> with event<span class="token punctuation">:</span> <span class="token class-name">UIEvent</span><span class="token operator">?</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">guard</span> <span class="token keyword">let</span> touch <span class="token operator">=</span> touches<span class="token punctuation">.</span>first <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">var</span> location <span class="token operator">=</span> touch<span class="token punctuation">.</span><span class="token function">location</span><span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> location<span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">100</span> <span class="token punctuation">{</span></span>
<span class="line">        location<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">100</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> location<span class="token punctuation">.</span>y <span class="token operator">&gt;</span> <span class="token number">668</span> <span class="token punctuation">{</span></span>
<span class="line">        location<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">668</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    player<span class="token punctuation">.</span>position <span class="token operator">=</span> location</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Our last task is to end the game when the player hits any piece of space debris. This is all code you know already: we&#39;re going to create a particle emitter, position it where the player is (or was!), and add the explosion to the scene while removing the player. In this game we&#39;re also going to set <code>isGameOver</code> to be true so that the <code>update()</code> method stops adding to their score. Here&#39;s all the code:</p><div class="language-swift line-numbers-mode" data-highlighter="prismjs" data-ext="swift" data-title="swift"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function-definition function">didBegin</span><span class="token punctuation">(</span><span class="token omit keyword">_</span> contact<span class="token punctuation">:</span> <span class="token class-name">SKPhysicsContact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> explosion <span class="token operator">=</span> <span class="token class-name">SKEmitterNode</span><span class="token punctuation">(</span>fileNamed<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">&quot;explosion&quot;</span></span><span class="token punctuation">)</span><span class="token operator">!</span></span>
<span class="line">    explosion<span class="token punctuation">.</span>position <span class="token operator">=</span> player<span class="token punctuation">.</span>position</span>
<span class="line">    <span class="token function">addChild</span><span class="token punctuation">(</span>explosion<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    player<span class="token punctuation">.</span><span class="token function">removeFromParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    isGameOver <span class="token operator">=</span> <span class="token boolean">true</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),A=n("hr",null,null,-1);function L(u,R){const e=r("router-link"),t=r("VPCard"),l=r("VidStack");return m(),h("div",null,[n("h1",w,[n("a",v,[n("span",null,k(u.$frontmatter.title)+" Í¥ÄÎ†®",1)])]),n("nav",y,[n("ul",null,[n("li",null,[s(e,{to:"#project-17-part-one"},{default:o(()=>[a("Project 17, part one")]),_:1}),n("ul",null,[n("li",null,[s(e,{to:"#setting-up"},{default:o(()=>[a("Setting up")]),_:1})]),n("li",null,[s(e,{to:"#space-the-final-frontier"},{default:o(()=>[a("Space: the final frontier")]),_:1})]),n("li",null,[s(e,{to:"#bring-on-the-enemies-lineardamping-angulardamping"},{default:o(()=>[a("Bring on the enemies: linearDamping, angularDamping")]),_:1})]),n("li",null,[s(e,{to:"#making-contact-didbegin"},{default:o(()=>[a("Making contact: didBegin()")]),_:1})])])])])]),b,s(t,i(p({title:"100 Days of Swift - Day 62",desc:"Project 17, part one",link:"https://www.hackingwithswift.com/100/62",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),f,n("details",_,[S,s(t,i(p({title:"100 Days of Swift - Day 62 - Setting up",desc:"Setting up",link:"https://www.hackingwithswift.com/read/17/1/setting-up",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(l,{src:"youtube/d9ZOHDEc120"}),x,T,D,j,B]),P,n("details",N,[q,s(t,i(p({title:"100 Days of Swift - Day 62 - Space: the final frontier",desc:"Space: the final frontier",link:"https://www.hackingwithswift.com/read/17/2/space-the-final-frontier",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(l,{src:"youtube/wT8EGUiUGPc"}),K]),C,n("details",I,[M,s(t,i(p({title:"100 Days of Swift - Day 62 - Bring on the enemies: linearDamping, angularDamping",desc:"Bring on the enemies: linearDamping, angularDamping",link:"https://www.hackingwithswift.com/read/17/3/bring-on-the-enemies-lineardamping-angulardamping",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(l,{src:"youtube/NIRrPs2fpPw"}),E]),z,n("details",G,[V,s(t,i(p({title:"100 Days of Swift - Day 62 - Making contact: didBegin()",desc:"Making contact: didBegin()",link:"https://www.hackingwithswift.com/read/17/4/making-contact-didbegin",logo:"https://www.hackingwithswift.com/favicon.svg",background:"rgba(213,52,58,0.2)"})),null,16),s(l,{src:"youtube/KNEHC4bN2x4"}),O]),A])}const F=d(g,[["render",L],["__file","62.html.vue"]]),X=JSON.parse('{"path":"/swift/100-days-of-swift/62.html","title":"Day 62","lang":"ko-KR","frontmatter":{"lang":"ko-KR","title":"Day 62","description":"100 Days of Swift > Day 62","category":["Swift"],"tag":["crashcourse","paul-hudson","swift","hacking-with-swift","xcode","appstore"],"head":[[{"meta":null},{"property":"og:title","content":"100 Days of Swift > Day 62"},{"property":"og:description","content":"Day 62"},{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/swift/100-days-of-swift/62.html"}],["meta",{"property":"og:url","content":"https://chanhi2000.github.io/crashcourse/crashcourse/swift/100-days-of-swift/62.html"}],["meta",{"property":"og:site_name","content":"ü•ÅCrashcourse"}],["meta",{"property":"og:title","content":"Day 62"}],["meta",{"property":"og:description","content":"100 Days of Swift > Day 62"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://www.hackingwithswift.com/img/books/hws/17-1.png"}],["meta",{"property":"og:locale","content":"ko-KR"}],["meta",{"property":"og:updated_time","content":"2024-10-03T01:20:13.000Z"}],["meta",{"property":"article:tag","content":"crashcourse"}],["meta",{"property":"article:tag","content":"paul-hudson"}],["meta",{"property":"article:tag","content":"swift"}],["meta",{"property":"article:tag","content":"hacking-with-swift"}],["meta",{"property":"article:tag","content":"xcode"}],["meta",{"property":"article:tag","content":"appstore"}],["meta",{"property":"article:modified_time","content":"2024-10-03T01:20:13.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Day 62\\",\\"image\\":[\\"https://www.hackingwithswift.com/img/books/hws/17-1.png\\",\\"https://www.hackingwithswift.com/img/books/hws/17-2.png\\"],\\"dateModified\\":\\"2024-10-03T01:20:13.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Project 17, part one","slug":"project-17-part-one","link":"#project-17-part-one","children":[{"level":3,"title":"Setting up","slug":"setting-up","link":"#setting-up","children":[]},{"level":3,"title":"Space: the final frontier","slug":"space-the-final-frontier","link":"#space-the-final-frontier","children":[]},{"level":3,"title":"Bring on the enemies: linearDamping, angularDamping","slug":"bring-on-the-enemies-lineardamping-angulardamping","link":"#bring-on-the-enemies-lineardamping-angulardamping","children":[]},{"level":3,"title":"Making contact: didBegin()","slug":"making-contact-didbegin","link":"#making-contact-didbegin","children":[]}]}],"git":{"createdTime":1703642364000,"updatedTime":1727918413000,"contributors":[{"name":"chanhi2000","email":"chanhi2000@gmail.com","commits":10}]},"readingTime":{"minutes":7.46,"words":2239},"filePathRelative":"swift/100-days-of-swift/62.md","localizedDate":"2023ÎÖÑ 12Ïõî 27Ïùº","excerpt":"\\n\\n<hr>\\n"}');export{F as comp,X as data};
