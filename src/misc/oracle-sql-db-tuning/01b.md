---
lang: ko-KR
title: 01B
description: ğŸ™†â€â™‚ï¸DB Server ì„±ëŠ¥ í–¥ìƒ, ë¶„ì„ ë° íŠœë‹ ì „ë¬¸ê°€ í–¥ìƒê³¼ì • > 01B
category:
  - Oracle DB
tag: 
  - crashcourse
  - oracle
  - oracle-db
  - oracle-sql
head:
  - - meta:
    - property: og:title
      content: ğŸ™†â€â™‚ï¸DB Server ì„±ëŠ¥ í–¥ìƒ, ë¶„ì„ ë° íŠœë‹ ì „ë¬¸ê°€ í–¥ìƒê³¼ì • > 01B
    - property: og:description
      content: 01B
    - property: og:url
      content: https://chanhi2000.github.io/crashcourse/misc/oracle-sql-db-tuning/01b.html
---

# {{ $frontmatter.title }} ê´€ë ¨

[[toc]]

---

## ê¸°ë³¸ Architecture

::: info ì˜¤ë¼í´ì€ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì´ë¥¼ ì•¡ì„¸ìŠ¤í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì‚¬ì´ì— ë©”ëª¨ë¦¬ ìºì‹œ ì˜ì—­(SGA)ì´ ìˆë‹¤.

![0F][0F]

- ë””ìŠ¤í¬ I/O ì— ë¹„í•´ ë©”ëª¨ë¦¬ ìºì‹œ I/O ëŠ” ë§¤ìš° ë¹ ë¥´ë‹¤.
- ë§ì€ í”„ë¡œì„¸ìŠ¤ê°€ ë™ì‹œì— ë°ì´í„°ë¥¼ ì•¡ì„¸ìŠ¤ í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ì ë°ì´í„°ë¥¼ ë³´í˜¸í•˜ëŠ” Lock ê³¼ ê³µìœ  ë©”ëª¨ë¦¬ ì˜ì—­ì¸ SGA ì— ìœ„ì¹˜í•œ ë°ì´í„° êµ¬ì¡° ì•¡ì„¸ìŠ¤ë¥¼ ì§ë ¬í™” í•˜ê¸° ìœ„í•œ Latchë„ í•„ìš”.
- ì˜¤ë¼í´ì€ ë¸”ë¡ ë‹¨ìœ„ë¡œ I/O í•˜ë©°, DBWR/CKPT ê°€ ì£¼ê¸°ì ìœ¼ë¡œ ìºì‹œ-ë°ì´í„°íŒŒì¼ ë™ê¸°í™” ìˆ˜í–‰.

:::

- `Database`: ë””ìŠ¤í¬ì— ì €ì¥ëœ ë°ì´í„° ì§‘í•©(Datafile, Redo Log File, Control File...)
- `Instance`: SGA(_System Global Area_) + Process
  - `Server Process`: ì‚¬ìš©ì ëª…ë ¹ ì²˜ë¦¬
    - Dedicated Server Process: í´ë¼ì´ì–¸íŠ¸ë¥¼ ìœ„í•œ ì „ìš© í”„ë¡œì„¸ìŠ¤, ì‚¬ìš©ìì—ê²Œ í•„ìš”í•œ ì„œë¹„ìŠ¤ ì œê³µ (SQL íŒŒì‹±, ìµœì í™”, ì‹¤í–‰, ë¸”ë¡ ì½ê¸°, ì½ì€ ë°ì´í„° ì •ë ¬, ë„¤íŠ¸ì›Œí¬ ì „ì†¡)
    - ìŠ¤ìŠ¤ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ëŠ” ì¼ì„ ë§Œë‚˜ë©´ OS, I/O ì„œë¸Œì‹œìŠ¤í…œ, Background Process ë“±ì— ì‹ í˜¸ë¥¼ ë³´ë‚´ ëŒ€ì‹  ì¼ì„ ì²˜ë¦¬í•˜ë„ë¡ ìš”ì²­
  - `Background Process` : ë’¤ì—ì„œ ì—­í•  ìˆ˜í–‰

![ì˜¤ë¼í´ ì ‘ì†í•  ì‹œ ë‚´ë¶€ ì²˜ë¦¬ ê³¼ì •][0G]

- ë¦¬ìŠ¤ë„ˆì— ì—°ê²° ìš”ì²­ ì‹œ ì„œë²„í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ìš°ê³ (Fork) ë©”ëª¨ë¦¬(PGA)ë¥¼ í• ë‹¹ í•œë‹¤.
  - ë¹„ìš©ì´ í° ì‘ì—… ì´ë¯€ë¡œ ì„±ëŠ¥ì„ ìœ„í•´ Connection Pool ì„ í†µí•´ __ì¬ì‚¬ìš©__ í•„ìˆ˜

![Connection Pool][0H]

![RAC][0I]

- í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—‘ì„¸ìŠ¤ í•˜ëŠ” ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤ë¡œ êµ¬ì„±
- ê³¼ê±° ê³µìœ  ë””ìŠ¤í¬ ë°©ì‹, í˜„ì¬ ê³µìœ  ìºì‹œ ë°©ì‹
- ê¸€ë¡œë²Œ ìºì‹œ ê°œë… : ë¡œì»¬ ìºì‹œì— ì—†ëŠ” ë°ì´í„° ë¸”ë¡ì„ ì›ê²© ë…¸ë“œì—ì„œ ì „ì†¡ ë°›ìŒ
- ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ì˜ Dirty ë²„í¼ë„ Interconnect ë¥¼ í†µí•´ ì£¼ê³  ë°›ìœ¼ë©° ê°±ì‹  ìˆ˜í–‰, OPS ëŠ” ë””ìŠ¤í¬ë¡œ ì“°ê¸° ì‘ì—… ì„ í–‰ í•„ìš” (Ping)

![SQL Trace - ì •í™•í•œ ì´í•´ í•„ìš”(query, current)][0J]

| í•­ëª© | ì„¤ëª… |
| :---: | :--- |
| `count` | ìˆ˜í–‰ íšŸìˆ˜ |
| `cpu` | CPU ì‹œê°„(ì´ˆ) |
| `elapsed` | ìˆ˜í–‰ ì‹œê°„(ì´ˆ) |
| `disk` | Physical(Disk) Read Block Count / physical reads |
| `query` | Consistent Read Block Count / consistent gets |
| `current` | Current(Dirty) Read Block Count / db block gets |
| `rows` | Record Count |

> ì»¬ëŸ¼ ì˜ë¯¸

---

## DB ë²„í¼ ìºì‹œ

ë©”ëª¨ë¦¬ ìºì‹œ ì˜ì—­(SGA) ì¤‘ ì‚¬ìš©ì ë°ì´í„°ê°€ ê±°ì³ ê°€ëŠ” ë¶€ë¶„

### ë¸”ë¡ ë‹¨ìœ„ I/O

::: warning ì„¤ëª…

ì˜¤ë¼í´ì—ì„œ I/OëŠ” ë¸”ë¡(Block) ë‹¨ìœ„ë¡œ ì´ë¤„ì§

:::

- single block read / multi block read (`Full Scan`, `DBWR`)
- í•˜ë‚˜ ë ˆì½”ë“œì˜ í•˜ë‚˜ ì»¬ëŸ¼ë§Œ ì½ì–´ë„ ì†í•œ ë¸”ë¡ ì „ì²´ë¥¼ ì½ìŒ
- ë¸”ë¡ ê°œìˆ˜
  - SQL ì„±ëŠ¥ì„ ì¢Œìš°í•˜ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ì„±ëŠ¥ ì§€í‘œ
  - ì˜µí‹°ë§ˆì´ì €ì˜ íŒë‹¨ì— ê°€ì¥ í° ì˜í–¥ì„ ë¯¸ì¹¨ (`INDEX SCAN` / `FULL TABLE SCAN`)  

### ë²„í¼ ìºì‹œ êµ¬ì¡°

![ë°”ë‘‘íŒì²˜ëŸ¼ ìƒê¸´ ë²„í¼ ìºì‹œì—ì„œ ì½ê³ ì í•˜ëŠ” ë¸”ë¡ì„ ì–´ë–»ê²Œ ì°¾ëŠ”ê°€? (í•´ì‹œ í…Œì´ë¸”)][0K]

- í•´ì‹œ í…Œì´ë¸”(í•´ì‹œ ë§µ)ì€ SGA ë‚´ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ìë£Œêµ¬ì¡°.
  - ì£¼ì†Œë¡ê³¼ ìœ ì‚¬ - ì„±ì”¨ê°€ ê°™ì€ ê³ ê°ì€ ê°™ì€ í˜ì´ì§€(í•´ì‹œ ë²„í‚·)ì— ì •ë ¬ ì—†ì´ ê´€ë¦¬
  - í•´ì‹œ ë²„í‚· ë‚´ì—ì„œ ìŠ¤ìº” ë°©ì‹ ì‚¬ìš© (ì„±ëŠ¥ì„ ìœ„í•´ ê° ë²„í‚· ë‚´ ì—”íŠ¸ë¦¬ ê°œìˆ˜ ì¼ì • ìˆ˜ì¤€ ìœ ì§€ í•„ìš”)
  - ë²„í¼ ìºì‹œë„ í•´ì‹œ í…Œì´ë¸” êµ¬ì¡°ë¡œ ê´€ë¦¬ ë¨ - í•´ì‹œ í‚¤ ê°’ : DBA(Data Block Address)
    - í•´ì‹œ í•¨ìˆ˜ì— DBA ì…ë ¥í•´ ë¦¬í„´ ë°›ì€ í•´ì‹œ ê°’ì´ ê°™ì€ ë¸”ë¡ë“¤ì„ ê°™ì€ í•´ì‹œ ë²„í‚·ì— ì—°ê²° ë¦¬ìŠ¤íŠ¸(í•´ì‹œ ì²´ì¸)ë¡œ êµ¬ì¡°í™”
    - í•„ìš”í•œ ë¸”ë¡ ì£¼ì†Œë¥¼ í•´ì‹œ ë²„í‚·ì—ì„œ ìŠ¤ìº” í›„ ìˆìœ¼ë©´ ì½ê³ , ì—†ìœ¼ë©´ ë””ìŠ¤í¬ì—ì„œ ì½ì–´ í•´ì‹œ ì²´ì¸ì— ì—°ê²° í›„ ì½ìŒ
- ë²„í¼ í—¤ë”ë§Œ í•´ì‹œ ì²´ì¸ì— ì—°ê²° ë¨, ë°ì´í„° ê°’ì€ í¬ì¸í„°ë¥¼ ì´ìš©í•´ ë²„í¼ ë¸”ë¡ì„ ì°¾ì•„ ì–»ê²Œ ë¨

![í•´ì‹œí•¨ìˆ˜ ì˜ˆì œ : MOD][0L]

### ìºì‹œ ë²„í¼ ì²´ì¸

- ê° í•´ì‹œ ì²´ì¸ì€ Latch ì— ì˜í•´ ë³´í˜¸ ë¨
  - DB ë²„í¼ ìºì‹œëŠ” ê³µìœ  ë©”ëª¨ë¦¬ ì˜ì—­ì— ì¡´ì¬ í•˜ë¯€ë¡œ ë™ì‹œ ì•¡ì„¸ìŠ¤ ê°€ëŠ¥ í•˜ë©°, ì•¡ì„¸ìŠ¤ ì§ë ¬í™”(Serialization) ë©”ì»¤ë‹ˆì¦˜ í•„ìš” (*i.e*. Latch)
  - Latch ë¥¼ íšë“í•œ í”„ë¡œì„¸ìŠ¤ë§Œ ê·¸ Latch ì— ì˜í•´ ë³´í˜¸ë˜ëŠ” ìë£Œêµ¬ì¡° ì§„ì… í—ˆìš©
  - Cache Buffers Chains: í•´ì‹œ ì²´ì¸ì— ë²„í¼ ë¸”ë¡ì„ ìŠ¤ìº”/ì—°ê²°/í•´ì œ ì‘ì—… ë³´í˜¸, í•˜ë‚˜ì˜ Latch ê°€ ì—¬ëŸ¬ í•´ì‹œ ì²´ì¸ì„ ë™ì‹œ ë³´í˜¸

| DBë²„ì „ | Latch ê°¯ìˆ˜ |
| :---: | :---: |
| 9i | 241 ê°œ |
| 10g | 394 ê°œ |
| 11g | 496 ê°œ |
> DB ë²„ì „ ë³„ Latch ê°¯ìˆ˜

| êµ¬ë¶„ | íŒŒë¼ë¯¸í„° | ì±… | ì‹¤ì œ(11g) |
| :---: | :---: | :---: | :---: |
| í•´ì‹œ ë²„í‚· ê°œìˆ˜ | `_db_block_hash_buckets` | 2,097,152 | 8,388,608 |
| ë˜ì¹˜ ê°œìˆ˜ | `_db_block_hash_latches` | 65,536 | 262,144 |
| ë˜ì¹˜ ë‹¹ í•´ì‹œ ë²„í‚· ìˆ˜ | - | 32 | 32 |
| ë¸”ë¡ ë²„í¼ ê°œìˆ˜ | `_db_block_buffers` | 836,684 | 3,084,990 |
| í•´ì‹œ ë²„í‚· ê°œìˆ˜ / ë¸”ë¡ ë²„í¼ ê°œìˆ˜ | - | 2.5 | 2.7 |
> í•´ì‹œ ë²„í‚·, ë¸”ë¡ ë²„í¼, ë˜ì¹˜ ê°¯ìˆ˜

- í•˜ë‚˜ì˜ í•´ì‹œ ì²´ì¸ì— í•˜ë‚˜ì˜ ë²„í¼ë§Œ ë‹¬ë¦¬ëŠ” ê²ƒì´ ëª©í‘œ ì„ - í•´ì‹œ ì²´ì¸ ìŠ¤ìº” ë¹„ìš© ìµœì†Œí™”
- ë¸”ë¡ ë²„í¼ ëŒ€ë¹„ í•´ì‹œ ë²„í‚· ê°œìˆ˜ê°€ ì¶©ë¶„íˆ ë§ì•„ì•¼ í•¨ - 2.5ë°° ?

- 9i ë¶€í„° ì½ê¸° ì „ìš© ì‘ì—… ì‹œ cache buffers chains Latch ë¥¼ Share ëª¨ë“œ íšë“ ê°€ëŠ¥
  - SELECT (X), í•„ìš”í•œ ë¸”ë¡ì„ ì°¾ê¸° ìœ„í•œ í•´ì‹œ ì²´ì¸ ìŠ¤ìº” (O)
- ë²„í¼ í—¤ë”ì— Pin ì„¤ì • ì‹œ cache buffers chains Latch ì‚¬ìš©
  - Share ëª¨ë“œ íšë“ í›„, ì²´ì¸ êµ¬ì¡° ë³€ê²½ í˜¹ì€ ë²„í¼ í—¤ë”ì— Pin ì„¤ì • ì‹œ Exclusive ëª¨ë“œë¡œ ë³€

### ìºì‹œ ë²„í¼ LRU ì²´ì¸

![LRU(Least Recently Used) ì•Œê³ ë¦¬ì¦˜][0M]

- ì‚¬ìš© ë¹ˆë„ ë†’ì€ ë¸”ë¡ë“¤ ìœ„ì£¼ë¡œ ë²„í¼ ìºì‹œê°€ êµ¬ì„± ë˜ë„ë¡ í•¨
- ëª¨ë“  ë²„í¼ ë¸”ë¡ í—¤ë”ë¥¼ LRU ì²´ì¸ì— ì—°ê²°
  - ì‚¬ìš© ë¹ˆë„ ìˆœìœ¼ë¡œ ìœ„ì¹˜ ì´ë™
  - Free ë²„í¼ í•„ìš”ì‹œ ì•¡ì„¸ìŠ¤ ë¹ˆë„ê°€ ë‚®ì€ ë¸”ë¡ì„ ìš°ì„  ë°€ì–´ëƒ„ (ìì£¼ ì•¡ì„¸ìŠ¤ ë˜ëŠ” ë¸”ë¡ì´ ìºì‹œì— ë” ì˜¤ë˜ ë‚¨ê²Œ ë¨)
  - cache buffers lru chain Latch ë¡œ ë³´í˜¸
- ëª¨ë“  ë²„í¼ ë¸”ë¡ì€ ë‘˜ì¤‘ í•˜ë‚˜ì˜ LRU ë¦¬ìŠ¤íŠ¸ì— ì†í•¨
  - Dirty ë¦¬ìŠ¤íŠ¸ : ìºì‹œ ë‚´ ë³€ê²½ ë¨, ì•„ì§ ë””ìŠ¤í¬ì— ë°˜ì˜ ì•ˆëœ ë¸”ë¡ ê´€ë¦¬ (LRUW ë¦¬ìŠ¤íŠ¸)
    - ë³€ê²½ ì‹œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì ì‹œ ë‚˜ì˜´
  - LRU ë¦¬ìŠ¤íŠ¸ : Dirty ë¦¬ìŠ¤íŠ¸ ì™¸ ë‚˜ë¨¸ì§€ ë¸”ë¡ ê´€ë¦¬
    - ë³€ê²½ ì‹œ Dirty ë¦¬ìŠ¤íŠ¸ë¡œ ì´ë™
- ëª¨ë“  ë²„í¼ ë¸”ë¡ì€ ì…‹ì¤‘ í•˜ë‚˜ì˜ ìƒíƒœì„
  - Free ë²„í¼ : ë¹ˆ ìƒíƒœ í˜¹ì€ ë°ì´í„° íŒŒì¼ê³¼ ë™ê¸°í™” ëœ ìƒíƒœ, ì–¸ì œë“  ë®ì–´ ì“¸ ìˆ˜ ìˆìŒ,
    - ë³€ê²½ ì‹œ Dirty ë²„í¼ ë¨
  - Dirty ë²„í¼ : ë³€ê²½ ë˜ì–´ ë°ì´í„° íŒŒì¼ê³¼ ë™ê¸°í™” í•„ìš” ìƒíƒœ, ë™ê¸°í™” ë˜ë©´ Free ë²„í¼ ë¨
  - Pinned ë²„í¼ : ì½ê¸°/ì“°ê¸° ì‘ì—… ì¤‘ì¸ ë²„í¼ ë¸”ë¡

---

## ë²„í¼ Lock

### ë²„í¼ Lockì´ë€?

- í•˜ë‚˜ì˜ cache buffers chains Latch ì— ì—¬ëŸ¬(32) í•´ì‹œ ì²´ì¸ì´ ë³´í˜¸ ë˜ê³  ìˆìŒ (Latch ê²½í•©)
  - ë™ì‹œì— ë²„í¼ ë¸”ë¡ ì ‘ê·¼ í•  ê²½ìš° ì •í•©ì„± ë¬¸ì œ ë°œìƒ ê°€ëŠ¥ (ì§ë ¬í™” í•„ìš”)
  - ë²„í¼ ë¸”ë¡ì„ ì°¾ìœ¼ë©´ ë²„í¼ Lock ì„¤ì • í›„ Latch í•´ì œ (ì½ê¸°: Share ëª¨ë“œ, ë³€ê²½: Exclusive ëª¨ë“œ)
    - `SELECT` ë¬¸ ë„ ë¸”ë¡ í´ë¦°ì•„ì›ƒ í•„ìš” ì‹œ Exclusive ëª¨ë“œ ì„¤ì •
    - ì´ë¯¸ Exclusive ëª¨ë“œë¡œ ì ìœ  ëœ ìƒíƒœë¼ë©´ ë²„í¼ í—¤ë”ì˜ Lock ëŒ€ê¸°ì ëª©ë¡(Waiter List) ë“±ë¡ í›„ Latch í•´ì œ - buffer busy waits, ì„ í–‰ ë²„í¼ Lock í•´ì œì‹œ ë²„í¼ Lock íšë“
  - ë²„í¼ ë¸”ë¡ Lock í•´ì œ ì‹œ Latch ë‹¤ì‹œ íšë“ (í•œê°œ ë¸”ë¡ ì½ê¸°ê°€ ì´ë ‡ê²Œ ê³ ë¹„ìš©)

::: tip í•œë²ˆ ë˜ì¹˜ íšë“ ì½ê¸°

ë¸”ë¡ ì½ì„ ë•Œ ëŒ€ë¶€ë¶„ ë‘ë²ˆ ë˜ì¹˜ íšë“ (ì°¾ê³  Pin ì„¤ì •, ë‹¤ì“°ê³  Pin í•´ì œ), í•˜ì§€ë§Œ ëª‡ëª‡ ì˜¤í¼ë ˆì´ì…˜ì€ í•œë²ˆë§Œ ë˜ì¹˜ íšë“ - consistent gets - examination

:::

### ë²„í¼ í•¸ë“¤

- ë²„í¼ Lock ì€ ë²„í¼ ì‚¬ìš©ì¤‘ì„ í‘œì‹œ (ë²„í¼ í—¤ë”ì— Pin ì„¤ì • / Pinned ë²„í¼)
  - ë³€ê²½ ì‹œ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ë§Œ Pin ê°€ëŠ¥, ì½ê¸°ëŠ” ë™ì‹œì— Pin ê°€ëŠ¥
  - ë²„í¼ í•¸ë“¤(Buffer Handle)ì„ ë²„í¼ í—¤ë”ì— ìˆëŠ” ì†Œìœ ì ëª©ë¡(Holder List)ì— ì—°ê²° ì‹œì¼œ Pin ì„¤ì •
- cache buffer handles ë˜ì¹˜
  - ê° í”„ë¡œì„¸ìŠ¤ ë§ˆë‹¤ `_db_handles_cached(5)` ê°œìˆ˜ ë§Œí¼ ë²„í¼ í•¸ë“¤ ë¯¸ë¦¬ í• ë‹¹
  - ë¯¸ë¦¬ í• ë‹¹ëœ ê°¯ìˆ˜ ì´ìƒì˜ ë²„í¼ í•¸ë“¤ ì–»ì„ ë•Œ í•„ìš”
  - ì‹œìŠ¤í…œ ì „ì²´ ë²„í¼ í•¸ë“¤ ê°œìˆ˜ : `_db_handles` = `processes` * `_db_handles_cached`

### ë²„í¼ Lockì˜ í•„ìš”ì„±

- í•œê°œ ë ˆì½”ë“œ ê°±ì‹ ë„ ë¸”ë¡ ë‹¨ìœ„ë¡œ I/Oë¥¼ ìˆ˜í–‰
- ì •í•©ì„± ìœ ì§€ë¥¼ ìœ„í•´ ë¸”ë¡ ìì²´ë¡œì˜ ì§„ì…ì„ ì§ë ¬í™” í•´ì•¼ í•¨
  - ë¸”ë¡ ë‚´ 10ê°œ ë ˆì½”ë“œë¥¼ ì½ëŠ” ìˆœê°„ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì— ì˜í•´ ë³€ê²½ì´ ë°œìƒ í•˜ë©´ ì˜ëª»ëœ ê²°ê³¼ë¥¼ ì–»ê²Œ ë¨
  - ë¡œìš° ë‹¨ìœ„ Lock ì„¤ì • ë„ ë ˆì½”ë“œ ì†ì„± ë³€ê²½ ì´ë¯€ë¡œ ë™ì‹œ ìˆ˜í–‰ì€ ë¬¸ì œê°€ ë¨
  - ë¸”ë¡ í—¤ë” ë³€ê²½(ë¸”ë¡ SCN, ITL ìŠ¬ë¡¯ ë“±)ë„ ë™ì‹œ ìˆ˜í–‰ì€ ë¬¸ì œê°€ ë¨ (Lost Update ë°œìƒ)

::: warning Consistent ëª¨ë“œ ì½ê¸°

ì¿¼ë¦¬ SCN ê³¼ ë¸”ë¡ SCN ì„ ë¹„êµí•´ ì½ì–´ë„ ë˜ëŠ” ë¸”ë¡ì¸ì§€ í™•ì¸ í•˜ë©´ì„œ ì½ê¸° (ë¸”ë¡ ì½ëŠ” ë„ì¤‘ ë¸”ë¡ ë‚´ìš© ë³€ê²½ ëŒ€ì‘ ë¶ˆê°€)

:::

::: tip Pin ëœ ë²„í¼ ë¸”ë¡

- `alter system flush buffer_cache;` ì—ë„ ë°€ë ¤ ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
- `alter system set events 'immediate trace name flush_cache';` (9i)

:::

### ë²„í¼ Pinning

- ë²„í¼ë¥¼ ì½ê³  ë‚˜ì„œ ë²„í¼ Pinì„ ì¦‰ê° í•´ì œí•˜ì§€ ì•Šê³  ë°ì´í„°ë² ì´ìŠ¤ Callì´ ì§„í–‰ë˜ëŠ” ë™ì•ˆ ìœ ì§€í•˜ëŠ” ê¸°ëŠ¥
  - ë˜ì¹˜ íšë“ ì—†ì´ ë²„í¼ë¥¼ ì½ìœ¼ë¯€ë¡œ ë…¼ë¦¬ ì½ê¸° íšŸìˆ˜ê°€ ê°ì†Œ ë¨
- ë²„í¼ Pinning ë°œìƒ ì§€ì 
  - ì¸ë±ìŠ¤ë¥¼ ìŠ¤ìº”í•˜ë©´ì„œ í…Œì´ë¸”ì„ ì•¡ì„¸ìŠ¤í•  ë•Œì˜ ì¸ë±ìŠ¤ ë¦¬í”„ ë¸”ë¡ (ì „í†µì )
  - ì¸ë±ìŠ¤ë¡œë¶€í„° ì•¡ì„¸ìŠ¤ë˜ëŠ” í•˜ë‚˜ì˜ í…Œì´ë¸” ë¸”ë¡ (8i)
  - NL ì¡°ì¸ ì‹œ Inner í…Œì´ë¸”ì„ Lookup í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ì¸ë±ìŠ¤ ë£¨íŠ¸ ë¸”ë¡ (9i)
  - Index Skip Scan ì‹œ ë¸Œëœì¹˜ ë¸”ë¡ (9i)
  - NL ì¡°ì¸ ì‹œ Inner í…Œì´ë¸”ì˜ ë£¨íŠ¸ ì™¸ ë‹¤ë¥¸ ì¸ë±ìŠ¤ ë¸”ë¡ (11g)
  - DML ìˆ˜í–‰ ì‹œ Undo ë¸”ë¡

| ë¸”ë¡ ì•¡ì„¸ìŠ¤ ë°©ë²• | ì¦ê°€ ìˆ˜ì¹˜ |
| :--- | :--- |
| ë˜ì¹˜ íšë“ í›„ | `session logical reads` |
| ë²„í¼ Pinning í›„ | `buffer is pinned count` |

> ë¸”ë¡ ì•¡ì„¸ìŠ¤ ë°©ë²• ë³„ ì¦ê°€ ìˆ˜ì¹˜

- ë²„í¼ Pinning ì€ í•˜ë‚˜ì˜ ë°ì´í„°ë² ì´ìŠ¤ Call (Parse, Execute, Fetch) ë‚´ì—ì„œë§Œ ìœ íš¨
- ë²„í¼ Pinning ì„ í†µí•œ ë¸”ë¡ I/O ê°ì†Œíš¨ê³¼ëŠ” SQL íŠœë‹ì˜ ì¤‘ìš” ë¶€ë¶„
  - Reorg ë¥¼ í†µí•œ ì¸ë±ìŠ¤ í´ëŸ¬ìŠ¤í„°ë§ íŒ©í„° (ë²„í¼ Pinning) ê°œì„  ê°€ëŠ¥

---

## Redo

| Redo êµ¬ë¶„ | ì†ì„± |
| :---: | :--- |
| Online | Redo ë¡œê·¸ ë²„í¼ì— ë²„í¼ë§ëœ ë¡œê·¸ ì—”íŠ¸ë¦¬ë¥¼ ê¸°ë¡í•˜ëŠ” íŒŒì¼, ìµœì†Œ ë‘ ê°œ êµ¬ì„±, ë¼ìš´ë“œ ë¡œë¹ˆ ë¡œê·¸ ìŠ¤ìœ„ì¹­ ë°œìƒ |
| Archived | Online Redo ë¡œê·¸ íŒŒì¼ì´ ì¬ì‚¬ìš© ë˜ê¸° ì „ ë‹¤ë¥¸ ìœ„ì¹˜ë¡œì˜ ë°±ì—…ë³¸ |

> ë°ì´í„°/ì»¨íŠ¸ë¡¤ íŒŒì¼ì˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì„ í•˜ë‚˜ì˜ Redo ë¡œê·¸ ì—”íŠ¸ë¦¬ë¡œì„œ Redo ë¡œê·¸ì— ê¸°ë¡

::: info Redo ëª©ì 

1. Database Recovery
2. Cache Recovery (Instance Recovery)
3. Fast Commit

:::

- Media Fail ë°œìƒ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ë³µêµ¬ ìœ„í•´ Archived Redo ë¡œê·¸ ì‚¬ìš©
- ì¸ìŠ¤í„´ìŠ¤ ë¹„ì •ìƒ ì¢…ë£Œ ì‹œ íœ˜ë°œì„±ì˜ ë²„í¼ ìºì‹œ ë°ì´í„° ë³µêµ¬ ìœ„í•´ Redo ë¡œê·¸ ì‚¬ìš©
  - ì¸ìŠ¤í„´ìŠ¤ ì¬ê¸°ë™ ì‹œ Online Redo ë¡œê·¸ì˜ ë§ˆì§€ë§‰ Checkpoint ì´í›„ íŠ¸ëœì­ì…˜ì˜ Roll Forward (ë²„í¼ ìºì‹œì—ë§Œ ì¡´ì¬í–ˆë˜ ë³€ê²½ ì‚¬í•­ì´ Commit ì—¬ë¶€ì™€ ê´€ê³„ ì—†ì´ ë³µêµ¬ ë¨)
  - Undo ë°ì´í„°ë¥¼ ì´ìš©í•´ Commit ì•ˆëœ íŠ¸ëœì­ì…˜ì„ Rollback (Transaction Recovery)
  - ë°ì´í„° íŒŒì¼ì—ëŠ” Commit ëœ ë³€ê²½ ì‚¬í•­ë§Œ ì¡´ì¬
- Fast Commit ì„ ìœ„í•´ Redo ë¡œê·¸ ì‚¬ìš© 
  - ë©”ëª¨ë¦¬ì˜ ë²„í¼ ë¸”ë¡ì´ ì•„ì§ ë””ìŠ¤í¬ì— ê¸°ë¡ë˜ì§€ ì•Šì•˜ì§€ë§Œ Redo ë¡œê·¸ë¥¼ ë¯¿ê³  ë¹ ë¥´ê²Œ ì»¤ë°‹ ì™„ë£Œ
    - ë³€ê²½ ì‚¬í•­ì€ Redo ë¡œê·¸ì—ëŠ” ë°”ë¡œ ê¸°ë¡í•˜ê³ , ë²„í¼ ë¸”ë¡ì˜ ë©”ëª¨ë¦¬-ë””ìŠ¤í¬ ë™ê¸°í™”ëŠ” ë‚˜ì¤‘ì— ì¼ê´„ ìˆ˜í–‰
    - ë²„í¼ ë¸”ë¡ì˜ ë””ìŠ¤í¬ì— ê¸°ë¡ì€ Random ì•¡ì„¸ìŠ¤(ëŠë¦¼), Redo ë¡œê·¸ ê¸°ë¡ì€ Append ì•¡ì„¸ìŠ¤ (ë¹ ë¦„)

::: warning Delayed ë¸”ë¡ í´ë¦°ì•„ì›ƒ

- ë¡œìš° Lock ì´ ë²„í¼ ë¸”ë¡ ë‚´ ë ˆì½”ë“œ ì†ì„±ìœ¼ë¡œ êµ¬í˜„ ë˜ì–´ ìˆì–´, Commit ì‹œ ë°”ë¡œ ë¡œìš° Lock í•´ì œ ë¶ˆê°€ëŠ¥
- Commit ì‹œì ì—ëŠ” Undo ì„¸ê·¸ë¨¼íŠ¸ í—¤ë”ì˜ íŠ¸ëœì­ì…˜ í…Œì´ë¸”ì—ë§Œ Commit ì •ë³´ ê¸°ë¡, ë¸”ë¡ í´ë¦°ì•„ì›ƒ(Commit ì •ë³´ ê¸°ë¡, ë¡œìš° Lock í•´ì œ)ì€ ë‚˜ì¤‘ì— ìˆ˜í–‰

:::

- Redo ë ˆì½”ë“œëŠ” Redo ë¡œê·¸ ë²„í¼ â†’ Redo ë¡œê·¸ íŒŒì¼ ê¸°ë¡ ë¨
  - 3ì´ˆë§ˆë‹¤ DBWR ë¡œë¶€í„° ì‹ í˜¸ ë°›ì„ ë•Œ (DBWR ì€ Dirty ë²„í¼ë¥¼ ë°ì´í„° íŒŒì¼ì— ê¸°ë¡í•˜ê¸° ì „ LGWR ì— ì‹ í˜¸ ë³´ëƒ„) - Write Ahead Logging (DBWR ê°€ Dirty ë¸”ë¡ì„ ë””ìŠ¤í¬ì— ê¸°ë¡í•˜ê¸° ì „, LGWR ëŠ” í•´ë‹¹ Redo ì—”íŠ¸ë¦¬ë¥¼ ëª¨ë‘ Redo ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ í•´ì•¼ í•œë‹¤.)
  - ë¡œê·¸ ë²„í¼ì˜ 1/3ì´ ì°¨ê±°ë‚˜, Redo ë ˆì½”ë“œëŸ‰ì´ 1MB ë„˜ì„ ë•Œ
  - ì‚¬ìš©ì Commit/Rollback - Log Force at Commit (ìµœì†Œ Commit ì‹œì ì—ëŠ” Redo ì •ë³´ê°€ ë””ìŠ¤í¬ì— ì €ì¥ ë˜ì–´ì•¼ í•œë‹¤.) 

![Fast Commit ë©”ì»¤ë‹ˆì¦˜][0N]

- ì‚¬ìš©ì Commit
- LGWR ê°€ Commit ë ˆì½”ë“œ Redo ë¡œê·¸ ë²„í¼ ê¸°ë¡
- íŠ¸ëœì­ì…˜ ë¡œê·¸ ì—”íŠ¸ë¦¬ì™€ í•¨ê»˜ Redo ë¡œê·¸ íŒŒì¼ ê¸°ë¡ (ì´í›„ ë³µêµ¬ ê°€ëŠ¥)
- ì‚¬ìš©ì í”„ë¡œì„¸ìŠ¤ì— Success Code ë¦¬í„´

::: tip log file sync

LGWR í”„ë¡œì„¸ìŠ¤ê°€ ë¡œê·¸ ë²„í¼ ë‚´ìš©ì„ Redo ë¡œê·¸ íŒŒì¼ì— ê¸°ë¡ í•˜ëŠ” ë™ì•ˆ ì„œë²„ í”„ë¡œì„¸ìŠ¤ê°€ ëŒ€ê¸°í•˜ëŠ” í˜„ìƒ

:::

---

## Undo

- Undo ì„¸ê·¸ë¨¼íŠ¸ëŠ” ì¼ë°˜ ì„¸ê·¸ë¨¼íŠ¸ì™€ ë‹¤ë¥´ì§€ ì•Šë‹¤. (Extend ë‹¨ìœ„ í™•ì¥, ë²„í¼ ìºì‹œ ìºì‹±, ë³€ê²½ì‚¬í•­ Redo ë¡œê¹…)
- íŠ¸ëœì­ì…˜ ë³„ë¡œ Undo ì„¸ê·¸ë¨¼íŠ¸ê°€ í• ë‹¹ ë˜ê³  ë³€ê²½ ì‚¬í•­ì´ Undo ë ˆì½”ë“œ ë‹¨ìœ„ë¡œ ê¸°ë¡ ë¨ (ë³µìˆ˜ íŠ¸ëœì­ì…˜ì´ í•œ Undo ì„¸ê·¸ë¨¼íŠ¸ ê³µìœ  ê°€ëŠ¥)

| êµ¬ë¶„ | ì„¤ëª… |
| :---: | :--- |
| `Rollback` | 8i ê¹Œì§€, Rollback ì„¸ê·¸ë¨¼íŠ¸ ìˆ˜ë™ ê´€ë¦¬ |
| `Undo` | 9i ë¶€í„°, AUM(Automatic Undo Management) ë„ì… |

::: info AUM

- 1 Undo ì„¸ê·¸ë¨¼íŠ¸, 1 íŠ¸ëœì­ì…˜ ëª©í‘œë¡œ ìë™ ê´€ë¦¬
- Undo ì„¸ê·¸ë¨¼íŠ¸ ë¶€ì¡± ì‹œ ê°€ì¥ ì ê²Œ ì‚¬ìš©ë˜ëŠ” Undo ì„¸ê·¸ë¨¼íŠ¸ í• ë‹¹
- Undo ì„¸ê·¸ë¨¼íŠ¸ í™•ì¥ ë¶ˆê°€ ì‹œ ë‹¤ë¥¸ Undo ì„¸ê·¸ë¨¼íŠ¸ë¡œ ë¶€í„° Free Undo Space íšŒìˆ˜ (Dynamic Extent Transfer)
- Undo Tablespace ë‚´ Free Undo Space ê°€ ì†Œì§„ ë˜ë©´ ì—ëŸ¬ ë°œìƒ

:::

### Undo ëª©ì 

- Transaction Rollback
  - íŠ¸ëœì­ì…˜ Rollback ì‹œ Undo ë°ì´í„° ì‚¬ìš©
- Transaction Recovery
  - Instance Recovery ì‹œ Roll Forward í›„ Commit ì•ˆëœ íŠ¸ëœì­ì…˜ Rollback ì‹œ Undo ë°ì´í„° ì‚¬ìš©
- Read Consistency
  - ì½ê¸° ì¼ê´€ì„±ì„ ìœ„í•´ Undo ë°ì´í„° ì‚¬ìš© (ë‹¤ë¥¸ DBëŠ” Lock ì„ í†µí•´ ì½ê¸° ì¼ê´€ì„± êµ¬í˜„) 

### Undo ì„¸ê·¸ë¨¼íŠ¸ íŠ¸ëœì­ì…˜ í…Œì´ë¸” ìŠ¬ë¡¯

Undo ì„¸ê·¸ë¨¼íŠ¸ ì¤‘ ì²« ìµìŠ¤í…íŠ¸, ì²« ë¸”ë¡ì˜ Undo ì„¸ê·¸ë¨¼íŠ¸ í—¤ë”ì— íŠ¸ëœì­ì…˜ í…Œì´ë¸” ìŠ¬ë¡¯ì´ ìœ„ì¹˜

![0O][0O]

- íŠ¸ëœì­ì…˜ í…Œì´ë¸” ìŠ¬ë¡¯ ê¸°ë¡ ì‚¬í•­
  - íŠ¸ëœì­ì…˜ ID: USN(Undo Segment Number)# + Slot# + Wrap#
  - íŠ¸ëœì­ì…˜ ìƒíƒœ ì •ë³´ (Transaction Status)
  - ì»¤ë°‹ SCN (íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ ëœ ê²½ìš°)
  - Last UBA (Undo Block Address)
  - ê¸°íƒ€
- íŠ¸ëœì­ì…˜ í…Œì´ë¸” ìŠ¬ë¡¯(Slot) í• ë‹¹ ë° Active í‘œì‹œ í›„ íŠ¸ëœì­ì…˜ ì‹œì‘ ê°€ëŠ¥ (ëŒ€ê¸° ì´ë²¤íŠ¸ : undo segment tx slot)
- íŠ¸ëœì­ì…˜ì˜ ë³€ê²½ì‚¬í•­ì€ Undo ë¸”ë¡ì— Undo ë ˆì½”ë“œë¡œì„œ ìˆœì°¨ì ìœ¼ë¡œ í•˜ë‚˜ì”© ê¸°ë¡ ë¨ (Last UBA[Undo Block Address] ì •ë³´ë¡œ ë§ˆì§€ë§‰ Undo ë ˆì½”ë“œ í™•ì¸
  - Undo ë ˆì½”ë“œëŠ” ì²´ì¸ í˜•íƒœë¡œ ì—°ê²° ë˜ë©°, Rollback ì‹œ ì²´ì¸ì„ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©° ì‘ì—… ìˆ˜í–‰
- `v$transaction.{used_ublk, used_urec}`
  - íŠ¸ëœì­ì…˜ì´ ì‚¬ìš©ì¤‘ì¸ Undo Block ìˆ˜, Undo ë ˆì½”ë“œ ìˆ˜ í™•ì¸ ê°€ëŠ¥

| êµ¬ë¶„ | Undo ë ˆì½”ë“œ ë‚´ìš© | `v$transaction.used_urec` ì¦ê°€(TBL) | v$transaction.used_urec ì¦ê°€(TBL+IDX) | ë¹„ê³  |
| ---- | -------------- | ------------------------------------ | ---------------------------- | ---- | 
| INSERT | ì¶”ê°€ëœ ë ˆì½”ë“œ ROWID | 1 | 2 | _ |
| UPDATE | ë³€ê²½ | ì»¬ëŸ¼ | Before Image | 1 | 3 | ì¸ë±ìŠ¤ëŠ” DELETE/INSERT ì²˜ë¦¬ |
| DELETE | ì „ì²´ | ì»¬ëŸ¼ | Before Image | 1 | 2 | _ |

> DML ë³„ Undo ë ˆì½”ë“œ ë‚´ìš©

- ì»¤ë°‹ ëœ ìˆœì„œëŒ€ë¡œ íŠ¸ëœì­ì…˜ ìŠ¬ë¡¯ ìˆœì°¨ì  ì¬ì‚¬ìš©
  - ì»¤ë°‹ ì•ˆëœ Active ìƒíƒœì˜ Undo ë¸”ë¡ ë° íŠ¸ëœì­ì…˜ ìŠ¬ë¡¯ì€ ì¬ì‚¬ìš© ì•ˆë¨
  - ì»¤ë°‹ì— ì˜í•´ íŠ¸ëœì­ì…˜ ìƒíƒœ ì •ë³´ (committed), ê·¸ ì‹œì ì˜ ì»¤ë°‹ SCNì´ ì €ì¥ëœ íŠ¸ëœì­ì…˜ ìŠ¬ë¡¯ì´ ì¬ì‚¬ìš© ë¨ 
- Undo Retention (undo_retention)
  - ì™„ë£Œëœ íŠ¸ëœì­ì…˜ì˜ Undo ë°ì´í„°ë¥¼ ì§€ì •ëœ ì‹œê°„ë§Œí¼ "ê°€ê¸‰ì " ìœ ì§€
  - ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ unexpired / expired êµ¬ë¶„ ë˜ë©° Undo Extent í•„ìš”ì‹œ expired ìƒíƒœì˜ Extent ë¨¼ì € í™œìš©, í•„ìš”ì‹œ unexpired ìƒíƒœì˜ Extent ë„ í™œìš©
  - guarantee ì˜µì…˜ : unexpired ìƒíƒœì˜ Extent í™œìš© ë¶ˆê°€
    - `alter tablespace undotbs1 retention guarantee;`
  - Automatic Undo Retention Tuning
    - ì‹œìŠ¤í…œ ìƒí™©ì— ë”°ë¼ tuned_undo_retention ê°’ ìë™ ê³„ì‚° ë° Undo Extent ê´€ë¦¬ (undo_retention ìµœì†Œê°’ì´ ë˜ë©° "ê°€ê¸‰ì " ì§€ì¼œ ì§)

### ë¸”ë¡ í—¤ë” ITL ìŠ¬ë¡¯

- í…Œì´ë¸”/ì¸ë±ìŠ¤ ë¸”ë¡ í—¤ë”ì—ëŠ” ITL(Interested Transaction List) ìŠ¬ë¡¯ ì¡´ì¬
  - ITL ìŠ¬ë¡¯ ë²ˆí˜¸
  - íŠ¸ëœì­ì…˜ ID
  - UBA (Undo Block Address)
  - ì»¤ë°‹ Flag
  - Locking ì •ë³´
  - ì»¤ë°‹ SCN (íŠ¸ëœì­ì…˜ì´ ì»¤ë°‹ ëœ ê²½ìš°)

- ë ˆì½”ë“œ ê°±ì‹  ì‹œ ë¸”ë¡ í—¤ë”ì˜ ITL ìŠ¬ë¡¯ í™•ë³´ í›„ íŠ¸ëœì­ì…˜ ID ë° íŠ¸ëœì­ì…˜ Active ìƒíƒœ ê¸°ë¡ ì„ í–‰ í•„ìš”
  - ITL ìŠ¬ë¡¯ í™•ë³´ ë  ë•Œ ê¹Œì§€ íŠ¸ëœì­ì…˜ì€ Blocking ë¨ (enq: TX - allocate ITL entry)
  - ITL ìŠ¬ë¡¯ ìˆ˜ ê´€ë ¨ íŒŒë¼ë¯¸í„° : initrans(1/2), maxtrans(255), pctfree
    - [INITRANSì™€ MAXTRANS](http://ukja.tistory.com/252)

### Lock Byte

- ë ˆì½”ë“œê°€ ì €ì¥ë˜ëŠ” ë¡œìš° í—¤ë”ì— ê´€ë ¨ íŠ¸ëœì­ì…˜ ITL ìŠ¬ë¡¯ ë²ˆí˜¸ ê¸°ë¡ í•˜ëŠ” Lock Byte í• ë‹¹
- ë¡œìš° Lock êµ¬í˜„ = ë¡œìš° ë‹¨ìœ„ Lock + íŠ¸ëœì­ì…˜ Lock ì¡°í•© (TX Lock)
- ë ˆì½”ë“œ ê°±ì‹  ì˜ˆì œ
  - ëŒ€ìƒ ë ˆì½”ë“œì˜ Lock Byte í™•ì¸ : í™œì„±í™” ìƒíƒœ
  - ITL ìŠ¬ë¡¯ ì˜ íŠ¸ëœì­ì…˜ID í™•ì¸
  - íŠ¸ëœì­ì…˜ í…Œì´ë¸” ìŠ¬ë¡¯ ì—ì„œ íŠ¸ëœì­ì…˜ ìƒíƒœ í™•ì¸ : í™œì„±í™” ìƒíƒœ
  - ëŒ€ê¸°
- Lock ë§¤ë‹ˆì €
  - ë‹¤ë¥¸ DBMS ëŠ” Lock ë§¤ë‹ˆì €ë¡œ ê°±ì‹  ì¤‘ ë ˆì½”ë“œ ì •ë³´ ê´€ë¦¬, ì˜¤ë¼í´ì€ ë³„ë„ ë¦¬ì†ŒìŠ¤ ì—†ìŒ (ë ˆì½”ë“œ ì†ì„±)
  - Lock ë§¤ë‹ˆì €ëŠ” ìœ í•œí•œ ë¦¬ì†ŒìŠ¤ ë¬¸ì œë¡œ ë¡œìš° â†’ ë¸”ëŸ­ â†’ í…Œì´ë¸” ë ˆë²¨ë¡œ Lock ì—ìŠ¤ì»¬ë ˆì´ì…˜ ë°œìƒ ê°€ëŠ¥ (ê¸‰ê²©í•œ ë™ì‹œì„± ì €í•˜)

::: tip ITL ìŠ¬ë¡¯ì˜ UBA(Undo Block Address) ì •ë³´

íŠ¸ëœì­ì…˜ì— ì˜í•œ ë³€ê²½ ì´ì „ ë°ì´í„°(Before Image)ê°€ ì €ì¥ëœ Undo ë¸”ë¡ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„° ì •ë³´ (CR Copy ìƒì„± ì‹œ ì‚¬ìš©)

:::

---

<TagLinks />

[0F]: https://www.ibm.com/developerworks/data/library/techarticle/dm-0401gupta/fig9.gif
[0G]: https://docs.oracle.com/cd/B28359_01/network.111/b28316/img/net81097.gif
[0H]: http://cfile8.uf.tistory.com/image/136E7D504F93100718AF59
[0I]: http://www.oracle.com/ocom/groups/public/%40otn/documents/digitalasset/112670.gif
[0J]: http://cfile10.uf.tistory.com/image/271A0D36539481C406A9C9
[0K]: https://docs.oracle.com/database/121/CNCPT/img/GUID-5CE65D12-8850-421F-BAB6-5EC8DE0660B7-default.gif
[0L]: https://sites.google.com/site/embtdbo/_/rsrc/1263474372157/wait-event-documentation/oracle-latch-cache-buffers-chains/buffer_cache_steps_to_get_block.PNG
[0M]: https://talebzadehmich.files.wordpress.com/2012/03/mru-lru_oracle_pre_922.gif
[0N]: http://cfile24.uf.tistory.com/image/226EF23754F9FE311F02B4
[0O]: http://blog.itpub.net/attachment/201506/23/7728585_1435048415NuN8.jpg