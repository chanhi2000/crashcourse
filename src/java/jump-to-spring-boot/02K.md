---
lang: ko-KR
title: 2-11. ë‹µë³€ ë“±ë¡
description: ğŸƒJump to Spring Boot > 2-11. ë‹µë³€ ë“±ë¡
tags: ["crashcourse", "java", "spring", "spring-boot" , "jdk", "wikidocs"]
meta:
  - name: ğŸƒJump to Spring Boot >  2ì¥ - ìŠ¤í”„ë§ë¶€íŠ¸ì˜ ê¸°ë³¸ ìš”ì†Œ ìµíˆê¸°! > 2-11. ë‹µë³€ ë“±ë¡
    content: 2-11. ë‹µë³€ ë“±ë¡
  - property: og:title
    content: 2-11. ë‹µë³€ ë“±ë¡
  - property: og:description
    content: ğŸƒJump to Spring Boot >  2ì¥ - ìŠ¤í”„ë§ë¶€íŠ¸ì˜ ê¸°ë³¸ ìš”ì†Œ ìµíˆê¸°! > 2-11. ë‹µë³€ ë“±ë¡
  - property: og:url
    content: https://chanhi2000.github.io/crashcourse/java-jump-to-spring-boot/02K.html
---

# {{ $frontmatter.title }} ê´€ë ¨

> {{ $frontmatter.description }}

[[toc]]

---

```card
title: 2-11. ë‹µë³€ ë“±ë¡
desc: ì í”„ íˆ¬ ìŠ¤í”„ë§ë¶€íŠ¸ - WikiDocs
link: https://wikidocs.net/161357
logo: https://wikidocs.net/static/img/favicon.ico
color: rgba(255, 255, 255, 0.2)
```

---

> [<FontIcon icon="iconfont icon-github"/> `pahkey/sbb3` - <FontIcon icon="iconfont icon-folder"/> `2-11`](https://github.com/pahkey/sbb3/tree/2-11)

<YouTube id="7q42eM-h1zE"/>

ì• ì ˆì—ì„œ ìš°ë¦¬ëŠ” ì§ˆë¬¸ì„ ì¡°íšŒí•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆë‹¤. ì´ë²ˆì—ëŠ” ì§ˆë¬¸ì— ë‹µë³€ì„ ë“±ë¡í•˜ê³  ë³´ì—¬ ì£¼ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ ë³´ì. ì§ˆë¬¸ ìƒì„¸ í™”ë©´ì— ë‹µë³€ì„ ì…ë ¥í•˜ê¸° ìœ„í•œ í…ìŠ¤íŠ¸ ì°½(textarea)ê³¼ <ë‹µë³€ë“±ë¡> ë²„íŠ¼ì„ ìƒì„±í•˜ê³ , ì´ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‹µë³€ì´ ì €ì¥ë˜ë„ë¡ êµ¬í˜„í•´ ë³´ì.

---

## ë‹µë³€ ë“±ë¡ ë²„íŠ¼ ë§Œë“¤ê¸°

ì§ˆë¬¸ ìƒì„¸ í…œí”Œë¦¿ì— ë‹µë³€ ì €ì¥ì„ ìœ„í•œ `form`, `textarea`, `input` ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¶”ê°€í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/resources/templates/`<FontIcon icon="iconfont icon-page"/>`question_detail.html`

```html{4-7}
<h1 th:text="${question.subject}"></h1>
<div th:text="${question.content}"></div>

<form th:action="@{|/answer/create/${question.id}|}" method="post">
    <textarea name="content" id="content" rows="15"></textarea>
    <input type="submit" value="ë‹µë³€ë“±ë¡">
</form>
```

`<ë‹µë³€ë“±ë¡>` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì „ì†¡ë˜ëŠ” formì˜ actionì€ íƒ€ì„ë¦¬í”„ì˜ "`th:action`" ì†ì„±ìœ¼ë¡œ ìƒì„±í•œë‹¤. ìœ„ì™€ ê°™ì´ ì¶”ê°€í•˜ê³  ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ì— ì ‘ì†í•´ ë³´ì.

![ë‹µë³€ì„ ì…ë ¥í•  ìˆ˜ ìˆëŠ” í…ìŠ¤íŠ¸ì°½ê³¼ `<ë‹µë³€ë“±ë¡>` ë²„íŠ¼ì´ ìƒì„±ë˜ì—ˆë‹¤.](https://wikidocs.net/images/page/161357/O_2-11_1.png)

ì´ì œ `<ë‹µë³€ë“±ë¡>` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ POST ë°©ì‹ìœ¼ë¡œ `/answer/create/<ì§ˆë¬¸id>` URLì´ í˜¸ì¶œ(`submit`)ë  ê²ƒì´ë‹¤.

![í•˜ì§€ë§Œ ì•„ì§ `/answer/create/<ì§ˆë¬¸id>` URLì— ëŒ€í•œ ë§¤í•‘ì´ ì—†ìœ¼ë¯€ë¡œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë‹¤ìŒê³¼ ê°™ì€ 404 í˜ì´ì§€ê°€ ë‚˜íƒ€ë‚œë‹¤.](https://wikidocs.net/images/page/161357/O_2-11_2.png)

ì´ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ë ¤ë©´ ë‹µë³€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ê³  í•´ë‹¹ URLì— ëŒ€í•œ ë§¤í•‘ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.

---

## ë‹µë³€ ì»¨íŠ¸ë¡¤ëŸ¬ ë§Œë“¤ê¸°

ì•ì—ì„œ ì§ˆë¬¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì—ˆë“¯ì´ ë‹µë³€ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë§Œë“¤ì–´ ë³´ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerController.java`

```java
package com.mysite.sbb.answer;

import com.mysite.sbb.question.Question;
import com.mysite.sbb.question.QuestionService;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;

@RequestMapping("/answer")
@RequiredArgsConstructor
@Controller
public class AnswerController {

    private final QuestionService questionService;

    @PostMapping("/create/{id}")
    public String createAnswer(Model model, @PathVariable("id") Integer id, @RequestParam String content) {
        Question question = this.questionService.getQuestion(id);
        // TODO: ë‹µë³€ì„ ì €ì¥í•œë‹¤. 
        return String.format("redirect:/question/detail/%s", id);
    }
}
```

ë‹µë³€ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ URL í”„ë¦¬í”½ìŠ¤ë„ `/answer`ë¡œ ê³ ì •í–ˆë‹¤. ê·¸ë¦¬ê³  `/answer/create/{id}`ì™€ ê°™ì€ URL ìš”ì²­ì‹œ `createAnswer` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë„ë¡ `@PostMapping`ìœ¼ë¡œ ë§¤í•‘í–ˆë‹¤. `@PostMapping`ì€ `@GetMapping`ê³¼ ë™ì¼í•˜ê²Œ ë§¤í•‘ì„ ë‹´ë‹¹í•˜ëŠ” ì—­í• ì„ í•˜ì§€ë§Œ POSTìš”ì²­ë§Œ ë°›ì•„ë“¤ì¼ ê²½ìš°ì— ì‚¬ìš©í•œë‹¤. ë§Œì•½ ìœ„ URLì„ GETë°©ì‹ìœ¼ë¡œ ìš”ì²­í•  ê²½ìš°ì—ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

> `@PostMapping(value="/create/{id}")` ëŒ€ì‹  `@PostMapping("/create/{id}")` ì²˜ëŸ¼ valueëŠ” ìƒëµí•´ë„ ëœë‹¤.

ê·¸ë¦¬ê³  `createAnswer` ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ì—ëŠ” `@RequestParam String content` í•­ëª©ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì´ í•­ëª©ì€ í…œí”Œë¦¿ì—ì„œ ë‹µë³€ìœ¼ë¡œ ì…ë ¥í•œ ë‚´ìš©(`content`)ì„ ì–»ê¸° ìœ„í•´ ì¶”ê°€ë˜ì—ˆë‹¤. í…œí”Œë¦¿ì˜ ë‹µë³€ ë‚´ìš©ì— í•´ë‹¹í•˜ëŠ” `textarea`ì˜ `name` ì†ì„±ëª…ì´ `content`ì´ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œë„ ë³€ìˆ˜ëª…ì„ `content`ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë§Œì•½ `content` ëŒ€ì‹  ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.

`createAnswer` ë©”ì„œë“œì˜ URL ë§¤í•‘ `/create/{id}`ì—ì„œ `{id}`ëŠ” ì§ˆë¬¸ì˜ id ì´ë¯€ë¡œ ì´ id ê°’ìœ¼ë¡œ ì§ˆë¬¸ì„ ì¡°íšŒí•˜ê³  ì—†ì„ ê²½ìš°ì—ëŠ” 404 ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì•„ì§ ë‹µë³€ì„ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³  ì¼ë‹¨ ë‹¤ìŒê³¼ ê°™ì€ ì£¼ì„ìœ¼ë¡œ ë‹µë³€ì„ ì €ì¥í•´ì•¼ í•¨ì„ ë‚˜íƒ€ë‚´ì—ˆë‹¤.

```java
// TODO: ë‹µë³€ì„ ì €ì¥í•œë‹¤. 
```

---

## ë‹µë³€ ì €ì¥í•˜ê¸°

ì´ì œ ë‹µë³€ì„ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì. ë‹µë³€ì„ ì €ì¥í•˜ë ¤ë©´ ë‹µë³€ ì„œë¹„ìŠ¤ê°€ í•„ìš”í•˜ë‹¤. `AnswerService`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerService.java`

```java
package com.mysite.sbb.answer;

import com.mysite.sbb.question.Question;
import lombok.RequiredArgsConstructor;
import org.springframework.stereotype.Service;

import java.time.LocalDateTime;

@RequiredArgsConstructor
@Service
public class AnswerService {

    private final AnswerRepository answerRepository;

    public void create(Question question, String content) {
        Answer answer = new Answer();
        answer.setContent(content);
        answer.setCreateDate(LocalDateTime.now());
        answer.setQuestion(question);
        this.answerRepository.save(answer);
    }
}
```

`AnswerService`ì—ëŠ” ë‹µë³€ ìƒì„±ì„ ìœ„í•´ `create` ë©”ì„œë“œë¥¼ ì¶”ê°€í–ˆë‹¤. `create` ë©”ì„œë“œëŠ” ì…ë ¥ìœ¼ë¡œ ë°›ì€ questionê³¼ `content`ë¥¼ ì‚¬ìš©í•˜ì—¬ `Answer` ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ì €ì¥í–ˆë‹¤.

ì´ì œ ì‘ì„±í•œ `create` ë©”ì„œë“œë¥¼ `AnswerController`ì—ì„œ ì‚¬ìš©í•´ ë³´ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerController.java`

```java{5,10}
(... ìƒëµ ...)
public class AnswerController {

    private final QuestionService questionService;
    private final AnswerService answerService;

    @PostMapping("/create/{id}")
    public String createAnswer(Model model, @PathVariable("id") Integer id, @RequestParam String content) {
        Question question = this.questionService.getQuestion(id);
        this.answerService.create(question, content);
        return String.format("redirect:/question/detail/%s", id);
    }
}
```

ì£¼ì„ë¬¸ì„ ì‚­ì œí•˜ê³  `AnswerService`ì˜ `create` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë‹µë³€ì„ ì €ì¥í• ìˆ˜ ìˆê²Œ í–ˆë‹¤.

ì´ì œ ë‹¤ì‹œ ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ì— ì ‘ì†í•˜ì—¬ í…ìŠ¤íŠ¸ ì°½ì— ì•„ë¬´ ê°’ì´ë‚˜ ì…ë ¥í•˜ê³  `<ë‹µë³€ë“±ë¡>`ì„ ëˆŒëŸ¬ ë³´ì. ë‹µë³€ì€ ì˜ ì €ì¥ë˜ì—ˆë‹¤.

í•˜ì§€ë§Œ ì—¬ì „íˆ í™”ë©´ì—ëŠ” ì•„ë¬´ëŸ° ë³€í™”ê°€ ì—†ë‹¤. ì™œ ê·¸ëŸ´ê¹Œ?

ì™œëƒí•˜ë©´ ìš°ë¦¬ëŠ” ì•„ì§ ë“±ë¡í•œ ë‹µë³€ì„ í…œí”Œë¦¿ì— í‘œì‹œí•˜ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.

---

## ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ì— ë‹µë³€ í‘œì‹œí•˜ê¸°

ì§ˆë¬¸ì— ë“±ë¡ëœ ë‹µë³€ì„ ìƒì„¸ í™”ë©´ì— í‘œì‹œí•´ ë³´ì. ë‹µë³€ì€ ë“±ë¡ëœ ì§ˆë¬¸ ë°‘ì— ë³´ì—¬ì•¼ í•˜ë¯€ë¡œ ì§ˆë¬¸ ìƒì„¸ í…œí”Œë¦¿ì— ë‹¤ìŒì˜ ì½”ë“œë¥¼ ì¶”ê°€í•˜ì.

> íŒŒì¼ëª…:<FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/resources/templates/`<FontIcon icon="iconfont icon-page"/>`question_detail.html`

```html
<h1 th:text="${question.subject}"></h1>
<div th:text="${question.content}"></div>
<h5 th:text="|${#lists.size(question.answerList)}ê°œì˜ ë‹µë³€ì´ ìˆìŠµë‹ˆë‹¤.|"></h5>
<div>
    <ul>
        <li th:each="answer : ${question.answerList}" th:text="${answer.content}"></li>
    </ul>
</div>
<form th:action="@{|/answer/create/${question.id}|}" method="post">
    <textarea name="content" id="content" rows="15"></textarea>
    <input type="submit" value="ë‹µë³€ë“±ë¡">
</form>
```

ê¸°ì¡´ ì½”ë“œì—ì„œ ë‹µë³€ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì˜ì—­ì„ ì¶”ê°€í–ˆë‹¤. `#lists.size(question.answerList)}`ëŠ” ë‹µë³€ ê°œìˆ˜ë¥¼ ì˜ë¯¸í•œë‹¤. `#lists.size(ì´í„°ëŸ¬ë¸”ê°ì²´)`ëŠ” íƒ€ì„ë¦¬í”„ê°€ ì œê³µí•˜ëŠ” ìœ í‹¸ë¦¬í‹°ë¡œ ê°ì²´ì˜ ê¸¸ì´ë¥¼ ë°˜í™˜í•œë‹¤. ë‹µë³€ì€ `question` ê°ì²´ì˜ `answerList`ë¥¼ ìˆœíšŒí•˜ì—¬ `<li>` ì—˜ë¦¬ë¨¼íŠ¸ë¡œ í‘œì‹œí–ˆë‹¤.

![ì´ì œ ì§ˆë¬¸ ìƒì„¸ í˜ì´ì§€ë¥¼ ìƒˆë¡œ ê³ ì¹¨í•˜ë©´ ë°©ê¸ˆ ë“±ë¡í•œ ë‹µë³€ë“¤ì´ ë³´ì¼ ê²ƒì´ë‹¤.](https://wikidocs.net/images/page/161357/C_2-11_3.png)

ì¶•í•˜í•œë‹¤! ì´ì œ ì—¬ëŸ¬ë¶„ì€ ë‹µë³€ì„ ì €ì¥í•˜ê³  í™•ì¸í• ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.

---

<TagLinks />