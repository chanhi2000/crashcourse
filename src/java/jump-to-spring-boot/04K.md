---
lang: ko-KR
title: 4-11. SSL
description: ğŸƒJump to Spring Boot > 4-11. SSL
tags: ["crashcourse", "java", "spring", "spring-boot" , "jdk", "wikidocs"]
meta:
  - name: ğŸƒJump to Spring Boot > 4ì¥ - ì„¸ìƒì— ì„ ë³´ì´ëŠ” SBB ì„œë¹„ìŠ¤! > 4-11. SSL
    content: 4-11. SSL
  - property: og:title
    content: 4-11. SSL
  - property: og:description
    content: ğŸƒJump to Spring Boot > 4ì¥ - ì„¸ìƒì— ì„ ë³´ì´ëŠ” SBB ì„œë¹„ìŠ¤! > 4-11. SSL
  - property: og:url
    content: https://chanhi2000.github.io/crashcourse/java-jump-to-spring-boot/04K.html
---

# {{ $frontmatter.title }} ê´€ë ¨

> {{ $frontmatter.description }}

[[toc]]

---

```card
title: 4-11. SSL
desc: ì í”„ íˆ¬ ìŠ¤í”„ë§ë¶€íŠ¸ - WikiDocs
link: https://wikidocs.net/163144
logo: https://wikidocs.net/static/img/favicon.ico
color: rgba(255, 255, 255, 0.2)
```

---

ì´ì œ ë¸Œë¼ìš°ì €ì—ì„œ ê³ ì • IP ëŒ€ì‹  ë„ë©”ì¸ì„ ì…ë ¥í•˜ì—¬ ì„œë²„ì— ì ‘ì†í• ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. 

![í•˜ì§€ë§Œ ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œì°½ì„ ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ "ì£¼ì˜ ìš”í•¨" ì´ë¼ëŠ” ê²½ê³  ë©”ì‹œì§€ê°€ í‘œì‹œëœë‹¤.](https://wikidocs.net/images/page/163144/C_4-11_1.png)

ì´ëŸ¬í•œ ê²½ê³ ë©”ì‹œì§€ê°€ ë³´ì´ëŠ” ì´ìœ ëŠ” `https://pybo.kr` ì´ ì•„ë‹Œ `http://pybo.kr` ì²˜ëŸ¼ httpsê°€ ì•„ë‹Œ http í”„ë¡œí† ì½œì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì´ë‹¤. ë¸Œë¼ìš°ì €ëŠ” __HTTPS__ ê°€ ì•„ë‹Œ __HTTP__ ì‚¬ìš©ì‹œ í•­ìƒ ì´ëŸ¬í•œ ê²½ê³  ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì¤€ë‹¤.

> httpì— ë³´ì•ˆê¸°ëŠ¥(SSL)ì„ ë”í•œ ê²ƒì´ https í”„ë¡œí† ì½œì´ë‹¤.

---

## HTTPSê°€ í•„ìš”í•œ ì´ìœ 

__HTTPS__ ê°€ ì•„ë‹Œ __HTTP__ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ë©´ ë¸Œë¼ìš°ì €(í´ë¼ì´ì–¸íŠ¸)ì™€ SBB ì„œë¹„ìŠ¤(ì„œë²„) ì‚¬ì´ì— ì£¼ê³  ë°›ëŠ” ë°ì´í„°ê°€ ì•”í˜¸í™” ë˜ì§€ ì•ŠëŠ”ë‹¤. í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ë„¤íŠ¸ì›Œí¬ ê²½ë¡œëŠ” ë§¤ìš° ë³µì¡í•œë° ì´ ê³¼ì •ì—ì„œ ëˆ„êµ°ê°€(í•´ì»¤)ê°€ ë°ì´í„°ë¥¼ í›”ì³ë³´ëŠ” ì¼ì€ ì–´ë µì§€ ì•Šë‹¤. ë”°ë¼ì„œ ë„¤íŠ¸ì›Œí¬ êµ¬ê°„ì—ì„œ ì£¼ê³ ë°›ëŠ” ë°ì´í„°ëŠ” ë°˜ë“œì‹œ ì•”í˜¸í™” í•˜ì—¬ ë°ì´í„°ê°€ ë…¸ì¶œë˜ë”ë¼ë„ ë¬´ìŠ¨ ë‚´ìš©ì¸ì§€ ì•Œìˆ˜ ì—†ê²Œ í•´ì•¼ í•œë‹¤.

ì´ëŸ¬í•œ ì—­í• ì„ í•˜ëŠ” ê²ƒì´ ë°”ë¡œ HTTPì— SSL(Secured Socket Layer) ê¸°ëŠ¥ì„ ë”í•œ HTTPS í”„ë¡œí† ì½œì´ë‹¤. ìš°ë¦¬ê°€ ë§Œë“  SBB ì„œë¹„ìŠ¤ì— HTTPS í”„ë¡œí† ì½œì„ ì œê³µí•˜ê¸° ìœ„í•´ì„œëŠ” SSL ì¸ì¦ì„œê°€ í•„ìš”í•˜ë‹¤. SSL ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì•„ Nginxì— ì ìš©í•˜ë©´ HTTPS í”„ë¡œí† ì½œë¡œ ì„œë¹„ìŠ¤ë¥¼ í• ìˆ˜ ìˆë‹¤.

> [ğŸ“šì°¸ê³  : SSL](https://wikidocs.net/125373)

---

## SSL ì¸ì¦ì„œ ë°œê¸‰

SSL ì¸ì¦ì„œëŠ” ì¸ì¦ ê¸°ê´€ì—ì„œ ì¸ì¦í•˜ëŠ” ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì•„ì•¼ í•œë‹¤. ì™œëƒí•˜ë©´ ë¸Œë¼ìš°ì €ì— ì´ë¯¸ SSL ì¸ì¦ì„ ìœ„í•œ ì¸ì¦ ê¸°ê´€ë“¤ì´ ë“±ë¡ë˜ì–´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

> ì¸ì¦ ê¸°ê´€ìœ¼ë¡œ ë“±ë¡ë˜ì§€ ì•Šì€ ê¸°ê´€ì—ì„œ ì¸ì¦í•œ ì¸ì¦ì„œëŠ” ì¸ì •ë˜ì§€ ì•ŠëŠ”ë‹¤.

ëŒ€í‘œì ì¸ ì¸ì¦ ê¸°ê´€ìœ¼ë¡œëŠ” Comodo, Thawte, GeoTrust, DigiCert ë“±ì´ ìˆë‹¤. ì´ëŸ¬í•œ ì¸ì¦ ê¸°ê´€ì—ì„œ ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì„ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ì¸ì¦ ê¸°ê´€ì˜ SSL ì¸ì¦ì„œëŠ” ìœ ë£Œì´ë‹¤. (ì¸ì¦ì„œì˜ ê°€ê²©ì€ ì¸ì¦ ê¸°ê´€ë³„ë¡œ ë‹¤ë¥´ë‹¤.)

ì´ ì±…ì—ì„œëŠ” ë¬´ë£Œë¡œ SSL ì¸ì¦ì„œë¥¼ ë°œê¸‰í•´ ì£¼ëŠ” Let's Encrypt ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•´ ë³´ì.

---

## Let's Encrypt ì¸ì¦ì„œ ì„¤ì¹˜

ì„œë²„ì— ì ‘ì†í•œí›„ ë‹¤ìŒê³¼ ê°™ì´ certbotì„ ì„¤ì¹˜í•˜ì.

```sh
sudo apt install certbot
sudo apt install python3-certbot-nginx
```

ê·¸ë¦¬ê³  ë‹¤ìŒì²˜ëŸ¼ Nginx ì›¹ì„œë²„ì— ì‚¬ìš©í•  Let's Encryptì˜ ì¸ì¦ì„œë¥¼ ë°œê¸‰í•˜ì.

```sh{1,6,15,27}
sudo certbot certonly --nginx
#
# Saving debug log to /var/log/letsencrypt/letsencrypt.log
# Plugins selected: Authenticator nginx, Installer nginx
# Enter email address (used for urgent renewal and security notices) (Enter 'c' to cancel): 
pahkey@gmail.com
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Please read the Terms of Service at
# https://letsencrypt.org/documents/LE-SA-v1.2-November-15-2017.pdf. You must
# agree in order to register with the ACME server at
# https://acme-v02.api.letsencrypt.org/directory
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# (A)gree/(C)ancel: 
a
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# Would you be willing to share your email address with the Electronic Frontier
# Foundation, a founding partner of the Let's Encrypt project and the non-profit
# organization that develops Certbot? We'd like to send you email about our work
# encrypting the web, EFF news, campaigns, and ways to support digital freedom.
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
# (Y)es/(N)o: 
y
# No names were found in your configuration files. Please enter in your domain name(s) (comma and/or space separated)  
# (Enter 'c' to cancel): 
pybo.kr
#
# Obtaining a new certificate
# Performing the following challenges:
# http-01 challenge for pybo.kr
# Using default address 80 for authentication.
# Waiting for verification...
#
# (... ìƒëµ ...)
```

ìˆœì„œëŒ€ë¡œ ì´ë©”ì¼ì£¼ì†Œ, ë™ì˜í•¨(`a`), ì˜ˆ(`y`), ë„ë©”ì¸ëª…(ì˜ˆ:`pybo.kr`)ì„ ì…ë ¥í•˜ì. ê·¸ëŸ¬ë©´ ë‹¤ìŒ ìœ„ì¹˜ì— ì¸ì¦ì„œê°€ ìƒì„±ëœë‹¤.


- .<FontIcon icon="iconfont icon-folder"/>`/etc/letsencrypt/live/pybo.kr/`<FontIcon icon="iconfont icon-file"/>`fullchain.pem`
- .<FontIcon icon="iconfont icon-folder"/>`/etc/letsencrypt/live/pybo.kr/`<FontIcon icon="iconfont icon-file"/>`privkey.pem`

ë…¸ë€ìƒ‰ìœ¼ë¡œ ë§ˆí‚¹í•œ `pybo.kr`ì€ ì—¬ëŸ¬ë¶„ì˜ ë„ë©”ì¸ëª…ìœ¼ë¡œ ëŒ€ì²´í•´ì•¼ í•¨ì— ì£¼ì˜í•˜ì.

---

## Nginx ì„¤ì •

ì´ì œ ì„¤ì¹˜í•œ SSL ì¸ì¦ì„œë¥¼ Nginxì— ì ìš©í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ sbb íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/etc/nginx/sites-available/`<FontIcon icon="iconfont icon-file"/>`sbb`

```{1-4,8,11-13}
server {
        listen 80;
        server_name pybo.kr;
        rewrite        ^ https://$server_name$request_uri? permanent;
}

server {
        listen 443 ssl;
        server_name pybo.kr;

        ssl_certificate /etc/letsencrypt/live/pybo.kr/fullchain.pem; # managed by Certbot
        ssl_certificate_key /etc/letsencrypt/live/pybo.kr/privkey.pem; # managed by Certbot
        include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot

        location / {
                proxy_pass http://localhost:8080;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_set_header Host $http_host;
        }
}
```

HTTP ìš”ì²­(80ë²ˆ í¬íŠ¸)ì€ HTTPS(443ë²ˆ í¬íŠ¸)ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•˜ë„ë¡ ì„¤ì •í–ˆë‹¤. ê·¸ë¦¬ê³  ì„¤ì¹˜í•œ SSL ì¸ì¦ì„œë¥¼ ì ìš©í•˜ê¸° ìœ„í•´ SSL ê´€ë ¨ ì„¤ì •ë“¤ì„ ì ìš©í–ˆë‹¤.

> ìœ„ ì„¤ì •ì—ì„œ ì‚¬ìš©í•œ ë„ë©”ì¸ëª… `pybo.kr`ì„ ì—¬ëŸ¬ë¶„ì˜ ë„ë©”ì¸ëª…ìœ¼ë¡œ ë°”ê¾¸ì–´ì•¼ í•¨ì— ì£¼ì˜í•˜ì.

ì´ì™€ ê°™ì´ Nginx ì„¤ì •ì„ ë°”ê¾¼í›„ì— ë‹¤ìŒê³¼ ê°™ì´ Nginxë¥¼ ì¬ì‹œì‘í•˜ì.

```sh
sudo systemctl restart nginx.service
```

---

## SSL ë°©í™”ë²½ ì„¤ì •

Nginxì— SSLì„ ì ìš©í•˜ë©´ SSLì˜ í¬íŠ¸ì¸ 443ë²ˆ í¬íŠ¸ì˜ ë°©í™”ë²½ í•´ì œê°€ í•„ìš”í•˜ë‹¤. ë‹¤ìŒì„ ì°¸ê³ í•˜ì—¬ 443ë²ˆ í¬íŠ¸ì˜ ë°©í™”ë²½ì„ í•´ì œí•˜ì.

- [https://wikidocs.net/162905#_1](https://wikidocs.net/162905#_1)

![IPv4 ë°©í™”ë²½](https://wikidocs.net/images/page/164372/C_4-16_2.png)

---

## HTTPS í™•ì¸ 

ì´ì œ ë¸Œë¼ìš°ì €ì—ì„œ `http://pybo.kr` ëŒ€ì‹  `https://pybo.kr`ë¡œ ì ‘ì†í• ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ì´ì „ì— í‘œì‹œë˜ë˜ "ì£¼ì˜ìš”í•¨" ê²½ê³ ë©”ì‹œì§€ë„ ì‚¬ë¼ì§€ê³  ì¸ì¦ì„ ì˜ë¯¸í•˜ëŠ” ìë¬¼ì‡  ëª¨ì–‘ì˜ ì•„ì´ì½˜ë„ í‘œì‹œë  ê²ƒì´ë‹¤.

---

<TagLinks />