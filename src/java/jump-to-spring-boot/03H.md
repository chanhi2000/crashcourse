---
lang: ko-KR
title: 3-08. ì—”í‹°í‹° ë³€ê²½
description: ğŸƒJump to Spring Boot > 3-08. ì—”í‹°í‹° ë³€ê²½
category:
  - â˜•ï¸Java
  - ğŸƒSpring
  - ğŸ“¦AWS
tag: 
  - crashcourse
  - java
  - jdk
  - jdk8
  - stream
  - spring
  - springframework
  - springboot
  - aws
  - aws-ec2
head:
  - - meta:
    - property: og:title
      content: ğŸƒJump to Spring Boot > 3-08. ì—”í‹°í‹° ë³€ê²½
    - property: og:description
      content: 3-08. ì—”í‹°í‹° ë³€ê²½
    - property: og:url
      content: https://chanhi2000.github.io/crashcourse/java/jump-to-spring-boot/03H.html
---

# {{ $frontmatter.title }} ê´€ë ¨

> {{ $frontmatter.description }}

[[toc]]

---

```component VPCard
{
  "title": "3-08. ì—”í‹°í‹° ë³€ê²½",
  "desc": "ì í”„ íˆ¬ ìŠ¤í”„ë§ë¶€íŠ¸ - WikiDocs",
  "link": "https://wikidocs.net/162255",
  "logo": "https://wikidocs.net/static/img/favicon.ico",
  "background": "rgba(255,255,255,0.2)"
}
```

---

> [<FontIcon icon="iconfont icon-github"/> `pahkey/sbb3` - <FontIcon icon="iconfont icon-folder"/> `3-08`](https://github.com/pahkey/sbb3/tree/3-08)

<VidStack src="youtube/Tryl1M2b9Iw"/>

ê²Œì‹œíŒì˜ ì§ˆë¬¸, ë‹µë³€ì—ëŠ” ëˆ„ê°€ ê¸€ì„ ì‘ì„±í–ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” "ê¸€ì“´ì´" í•­ëª©ì´ í•„ìš”í•˜ë‹¤. ì´ë²ˆì—ëŠ” `Question`ê³¼ `Answer` ì—”í‹°í‹°ì— "ê¸€ì“´ì´"ì— í•´ë‹¹ë˜ëŠ” `author` ì†ì„±ì„ ì¶”ê°€í•´ ë³´ì.

---

## `Question` ì†ì„± ì¶”ê°€

ë¨¼ì € `Question` ì—”í‹°í‹°ì— `author` ì†ì„±ì„ ì¶”ê°€í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/question/`<FontIcon icon="iconfont icon-java"/>`Question.java`

```java{2-3,8-9}
// (... ìƒëµ ...)
import jakarta.persistence.ManyToOne;
import com.mysite.sbb.user.SiteUser;
// (... ìƒëµ ...)
public class Question {
    // (... ìƒëµ ...)

    @ManyToOne
    private SiteUser author;
}
```

`author` ì†ì„±ì€ `SiteUser` ì—”í‹°í‹°ë¥¼ `@ManyToOne`ìœ¼ë¡œ ì ìš©í–ˆë‹¤.

> ì—¬ëŸ¬ê°œì˜ ì§ˆë¬¸ì´ í•œ ëª…ì˜ ì‚¬ìš©ìì—ê²Œ ì‘ì„±ë  ìˆ˜ ìˆìœ¼ë¯€ë¡œ `@ManyToOne` ê´€ê³„ê°€ ì„±ë¦½í•œë‹¤.

---

## `Answer` ì†ì„± ì¶”ê°€

`Question` ì—”í‹°í‹°ì™€ ê°™ì€ ë°©ë²•ìœ¼ë¡œ `Answer` ì—”í‹°í‹°ì—ë„ `author` ì†ì„±ì„ ì¶”ê°€í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`Answer.java`

```java{2,7-8}
// (... ìƒëµ ...)
import com.mysite.sbb.user.SiteUser;
// (... ìƒëµ ...)
public class Answer {
    // (... ìƒëµ ...)

    @ManyToOne
    private SiteUser author;
}
```

---

## í…Œì´ë¸” í™•ì¸

ìœ„ì™€ ê°™ì´ `Question`, `Answer` ì—”í‹°í‹°ë¥¼ ë³€ê²½í•˜ê³  H2 ì½˜ì†”ì— ì ‘ì†í•˜ì—¬ `question`, `answer` í…Œì´ë¸”ì„ í™•ì¸í•´ ë³´ì.

![`question`, `answer` í…Œì´ë¸”ì— `author_id` ì»¬ëŸ¼ì´ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ ì»¬ëŸ¼ì—ëŠ” `site_user` í…Œì´ë¸”ì˜ `id` ê°’ì´ ì €ì¥ë˜ì–´ `SiteUser` ì—”í‹°í‹°ì™€ ì—°ê²°ëœë‹¤.](https://wikidocs.net/images/page/162330/C_3-08_1.png)

---

## `author` ì €ì¥

ì´ì œ `Question`, `Answer` ì—”í‹°í‹°ì— `author` ì†ì„±ì´ ì¶”ê°€ë˜ì—ˆìœ¼ë¯€ë¡œ ì§ˆë¬¸ê³¼ ë‹µë³€ ì €ì¥ì‹œì— `author`ë„ í•¨ê»˜ ì €ì¥í•  ìˆ˜ ìˆë‹¤.

> ì§ˆë¬¸, ë‹µë³€ì— ê¸€ì“´ì´ë¥¼ ì¶”ê°€í•œë‹¤ëŠ” ëŠë‚Œìœ¼ë¡œ ì‘ì—…ì„ ì§„í–‰í•˜ì.

### ë‹µë³€ì— ì‘ì„±ì ì €ì¥í•˜ê¸°

ë¨¼ì € ë‹µë³€ì„ ì‘ì„±í•˜ëŠ” `AnswerController`ë¥¼ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerController.java`

```java{2,10}
// (... ìƒëµ ...)
import java.security.Principal;
// (... ìƒëµ ...)
public class AnswerController {

    // (... ìƒëµ ...)

    @PostMapping("/create/{id}")
    public String createAnswer(Model model, @PathVariable("id") Integer id, 
            @Valid AnswerForm answerForm, BindingResult bindingResult, Principal principal) {
        // (... ìƒëµ ...)
    }
}
```

í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œê¸° ìœ„í•´ì„œëŠ” ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ ì œê³µí•˜ëŠ” `Principal` ê°ì²´ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ìœ„ì™€ ê°™ì´ `createAnswer` ë©”ì„œë“œì— `Principal` ê°ì²´ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì§€ì •í•˜ë©´ ëœë‹¤.

> `principal.getName()`ì„ í˜¸ì¶œí•˜ë©´ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì‚¬ìš©ìëª…(ì‚¬ìš©ìID)ì„ ì•Œìˆ˜ ìˆë‹¤.

`principal` ê°ì²´ë¥¼ ì‚¬ìš©í•˜ë©´ ì´ì œ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ ì‚¬ìš©ìëª…ì„ ì•Œìˆ˜ ìˆìœ¼ë¯€ë¡œ ì‚¬ìš©ìëª…ì„ í†µí•´ `SiteUser`ê°ì²´ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤. ë¨¼ì € `User` ì„œë¹„ìŠ¤ë¥¼ í†µí•´ `SiteUser`ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” `getUser` ë©”ì„œë“œë¥¼ `UserService`ì— ì¶”ê°€í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/user/`<FontIcon icon="iconfont icon-java"/>`UserService.java`

```java{2-3,10-17}
// (... ìƒëµ ...)
import java.util.Optional;
import com.mysite.sbb.DataNotFoundException;
// (... ìƒëµ ...)
@Service
public class UserService {

    // (... ìƒëµ ...)

    public SiteUser getUser(String username) {
        Optional<SiteUser> siteUser = this.userRepository.findByusername(username);
        if (siteUser.isPresent()) {
            return siteUser.get();
        } else {
            throw new DataNotFoundException("siteuser not found");
        }
    }
}
```

`UserRepository`ì— ì´ë¯¸ `findByusername`ì„ ì„ ì–¸í–ˆìœ¼ë¯€ë¡œ ì‰½ê²Œ ë§Œë“¤ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  ë‹µë³€ ì €ì¥ì‹œ ì‘ì„±ìë¥¼ ì €ì¥í•  ìˆ˜ ìˆë„ë¡ ë‹¤ìŒê³¼ ê°™ì´ `AnswerService`ë¥¼ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerService.java`

```java{2,8,13}
// (... ìƒëµ ...)
import com.mysite.sbb.user.SiteUser;
// (... ìƒëµ ...)
public class AnswerService {

    // (... ìƒëµ ...)

    public Answer create(Question question, String content, SiteUser author) {
        Answer answer = new Answer();
        answer.setContent(content);
        answer.setCreateDate(LocalDateTime.now());
        answer.setQuestion(question);
        answer.setAuthor(author);
        this.answerRepository.save(answer);
        return answer;
    }
}
```

`create` ë©”ì„œë“œì— `SiteUser` ê°ì²´ë¥¼ ì¶”ê°€ë¡œ ì „ë‹¬ë°›ì•„ ë‹µë³€ ì €ì¥ì‹œ `author` ì†ì„±ì— ì„¸íŒ…í–ˆë‹¤. ì´ì œ ë‹µë³€ì„ ì‘ì„±í•˜ë©´ ì‘ì„±ìë„ í•¨ê»˜ ì €ì¥ë  ê²ƒì´ë‹¤.

ì´ì œ ë‹¤ìŒê³¼ ê°™ì´ `AnswerController`ì˜ `createAnswer` ë©”ì„œë“œë¥¼ ì™„ì„±í•´ ë³´ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerController.java`

```java{2-3,9,15,20}
// (... ìƒëµ ...)
import com.mysite.sbb.user.SiteUser;
import com.mysite.sbb.user.UserService;
// (... ìƒëµ ...)
public class AnswerController {

    private final QuestionService questionService;
    private final AnswerService answerService;
    private final UserService userService;

    @PostMapping("/create/{id}")
    public String createAnswer(Model model, @PathVariable("id") Integer id, 
            @Valid AnswerForm answerForm, BindingResult bindingResult, Principal principal) {
        Question question = this.questionService.getQuestion(id);
        SiteUser siteUser = this.userService.getUser(principal.getName());
        if (bindingResult.hasErrors()) {
            model.addAttribute("question", question);
            return "question_detail";
        }
        this.answerService.create(question, answerForm.getContent(), siteUser);
        return String.format("redirect:/question/detail/%s", id);
    }
}
```

`principal` ê°ì²´ë¥¼ í†µí•´ ì‚¬ìš©ìëª…ì„ ì–»ì€ í›„ì— ì‚¬ìš©ìëª…ì„ í†µí•´ `SiteUser` ê°ì²´ë¥¼ ì–»ì–´ì„œ ë‹µë³€ì„ ë“±ë¡í•˜ëŠ” `AnswerService`ì˜ `create` ë©”ì„œë“œì— ì „ë‹¬í•˜ì—¬ ë‹µë³€ì„ ì €ì¥í•˜ë„ë¡ í–ˆë‹¤.

### ì§ˆë¬¸ì— ì‘ì„±ì ì €ì¥í•˜ê¸°

ì§ˆë¬¸ë„ ë‹µë³€ê³¼ ë™ì¼í•œ ë°©ë²•ì´ë¯€ë¡œ ë¹ ë¥´ê²Œ ì‘ì„±í•´ ë³´ì. ë¨¼ì € ì‘ì„±ì ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ `QuestionService`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/question/`<FontIcon icon="iconfont icon-java"/>`QuestionService.java`

```java{2,8,13}
// (... ìƒëµ ...)
import com.mysite.sbb.user.SiteUser;
// (... ìƒëµ ...)
public class QuestionService {

    // (... ìƒëµ ...)

    public void create(String subject, String content, SiteUser user) {
        Question q = new Question();
        q.setSubject(subject);
        q.setContent(content);
        q.setCreateDate(LocalDateTime.now());
        q.setAuthor(user);
        this.questionRepository.save(q);
    }
}
```

`create` ë©”ì„œë“œì— `SiteUser` ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•˜ì—¬ `Question` ë°ì´í„°ë¥¼ ìƒì„±í–ˆë‹¤.

ì´ì–´ì„œ `QuestionController`ë„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/question/`<FontIcon icon="iconfont icon-java"/>`QuestionController.java`

```java{2-4,9,15,19-20}
// (... ìƒëµ ...)
import java.security.Principal;
import com.mysite.sbb.user.SiteUser;
import com.mysite.sbb.user.UserService;
// (... ìƒëµ ...)
public class QuestionController {

    private final QuestionService questionService;
    private final UserService userService;

    // (... ìƒëµ ...)

    @PostMapping("/create")
    public String questionCreate(@Valid QuestionForm questionForm, 
            BindingResult bindingResult, Principal principal) {
        if (bindingResult.hasErrors()) {
            return "question_form";
        }
        SiteUser siteUser = this.userService.getUser(principal.getName());
        this.questionService.create(questionForm.getSubject(), questionForm.getContent(), siteUser);
        return "redirect:/question/list";
    }
}
```

ì´ì œ ë‹¤ì‹œ ë¡œì»¬ ì„œë²„ë¥¼ ì‹œì‘í•˜ê³  ë¡œê·¸ì¸í•œ ë‹¤ìŒ ì§ˆë¬¸ Â· ë‹µë³€ ë“±ë¡ì„ í…ŒìŠ¤íŠ¸í•´ë³´ì. ì˜ ë  ê²ƒì´ë‹¤.

::: info SbbApplicationTests.java

`QuestionService`ì˜ `create` ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ë¡œ `SiteUser`ê°€ ì¶”ê°€ë˜ì—ˆê¸° ë•Œë¬¸ì— ì´ì „ì— ì‘ì„±í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ê²ƒì´ë‹¤. í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì˜¤ë¥˜ë¥¼ ì„ì‹œ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

```java{10}
package com.mysite.sbb;

//(... ìƒëµ ...)

    @Test
    void testJpa() {
        for (int i = 1; i <= 300; i++) {
            String subject = String.format("í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…ë‹ˆë‹¤:[%03d]", i);
            String content = "ë‚´ìš©ë¬´";
            this.questionService.create(subject, content, null);
        }
    }
}
```

:::

## ë¡œê·¸ì¸ì´ í•„ìš”í•œ ë©”ì„œë“œ

í•˜ì§€ë§Œ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œ ì§ˆë¬¸ ë˜ëŠ” ë‹µë³€ì„ ë“±ë¡í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì„œë²„ì˜¤ë¥˜(500 ì˜¤ë¥˜)ê°€ ë°œìƒí•œë‹¤.

![ì´ ì˜¤ë¥˜ëŠ” principal ê°ì²´ê°€ ë„(`null`)ê°’ì´ë¼ì„œ ë°œìƒí•œ ì˜¤ë¥˜ì´ë‹¤. `principal` ê°ì²´ëŠ” ë¡œê·¸ì¸ì„ í•´ì•¼ë§Œ ìƒì„±ë˜ëŠ” ê°ì²´ì´ê¸° ë•Œë¬¸ì´ë‹¤.](https://wikidocs.net/images/page/162330/C_3-08_2.png)

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ `principal` ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œì— `@PreAuthorize("isAuthenticated()")` ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤.`@PreAuthorize("isAuthenticated()")` ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œëŠ” ë¡œê·¸ì¸ì´ í•„ìš”í•œ ë©”ì„œë“œë¥¼ ì˜ë¯¸í•œë‹¤. ë§Œì•½ `@PreAuthorize("isAuthenticated()")` ì• ë„ˆí…Œì´ì…˜ì´ ì ìš©ëœ ë©”ì„œë“œê°€ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œ í˜¸ì¶œë˜ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ëœë‹¤.

`QuestionController`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/question/`<FontIcon icon="iconfont icon-java"/>`QuestionController.java`

```java{4,10,16}
package com.mysite.sbb.question;

// (... ìƒëµ ...)
import org.springframework.security.access.prepost.PreAuthorize;
// (... ìƒëµ ...)
public class QuestionController {

    // (... ìƒëµ ...)

    @PreAuthorize("isAuthenticated()")
    @GetMapping("/create")
    public String questionCreate(QuestionForm questionForm) {
        return "question_form";
    }

    @PreAuthorize("isAuthenticated()")
    @PostMapping("/create")
    public String questionCreate(@Valid QuestionForm questionForm, 
            BindingResult bindingResult, Principal principal) {
        // (... ìƒëµ ...)
    }
}
```

ë¡œê·¸ì¸ì´ í•„ìš”í•œ ë©”ì„œë“œë“¤ì— `@PreAuthorize("isAuthenticated()")` ì• ë„ˆí…Œì´ì…˜ì„ ì ìš©í–ˆë‹¤.

`AnswerController`ë„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/answer/`<FontIcon icon="iconfont icon-java"/>`AnswerController.java`

```java{2,8}
// (... ìƒëµ ...)
import org.springframework.security.access.prepost.PreAuthorize;
// (... ìƒëµ ...)
public class AnswerController {

    // (... ìƒëµ ...)

    @PreAuthorize("isAuthenticated()")
    @PostMapping("/create/{id}")
    public String createAnswer(Model model, @PathVariable("id") Integer id, @Valid AnswerForm answerForm,
            BindingResult bindingResult, Principal principal) {
        // (... ìƒëµ ...)
    }
}
```

ê·¸ë¦¬ê³  `@PreAuthorize` ì• ë„ˆí…Œì´ì…˜ì´ ë™ì‘í•  ìˆ˜ ìˆë„ë¡ `SecurityConfig`ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•´ì•¼ í•œë‹¤.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/java/com/mysite/sbb/SecurityConfig.`<FontIcon icon="iconfont icon-java"/>`java`

```java{2,7}
// (... ìƒëµ ...)
import org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;
// (... ìƒëµ ...)

@Configuration
@EnableWebSecurity
@EnableMethodSecurity(prePostEnabled = true)
public class SecurityConfig {
    // (... ìƒëµ ...)
}
```

`SecurityConfig`ì— ì ìš©í•œ `@EnableMethodSecurity` ì• ë„ˆí…Œì´ì…˜ì˜ `prePostEnabled = true` ì„¤ì •ì€ `QuestionController`ì™€ `AnswerController`ì—ì„œ ë¡œê·¸ì¸ ì—¬ë¶€ë¥¼ íŒë³„í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆë˜ `@PreAuthorize` ì• ë„ˆí…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ë°˜ë“œì‹œ í•„ìš”í•˜ë‹¤.

ì´ë ‡ê²Œ ìˆ˜ì •í•œí›„ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œ ì§ˆë¬¸ì„ ë“±ë¡í•˜ê±°ë‚˜ ë‹µë³€ì„ ë“±ë¡í•˜ë©´ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

> ë¡œê·¸ì¸ í•˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ "ì§ˆë¬¸ ë“±ë¡" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ "ë¡œê·¸ì¸" í™”ë©´ìœ¼ë¡œ ì´ë™í•œë‹¤. ê·¸ë¦¬ê³  ë¡œê·¸ì¸ì„ ì§„í–‰í•˜ë©´ ì›ë˜ í•˜ë ¤ê³  í–ˆë˜ "ì§ˆë¬¸ ë“±ë¡" í™”ë©´ìœ¼ë¡œ ì´ë™í•œë‹¤. ì´ê²ƒì€ ë¡œê·¸ì¸ í›„ì— ì›ë˜ í•˜ë ¤ê³  í–ˆë˜ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œí‚¤ëŠ” ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ì˜ ê¸°ëŠ¥ì´ë‹¤.

## disabled

í•œê°€ì§€ ë” ìƒê°í•´ ë´ì•¼ í•  ê²ƒì´ ìˆë‹¤. í˜„ì¬ ì§ˆë¬¸ ë“±ë¡ì€ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œëŠ” ì•„ì˜ˆ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ì—†ì–´ì„œ ë§Œì¡±ìŠ¤ëŸ½ë‹¤. í•˜ì§€ë§Œ ë‹µë³€ ë“±ë¡ì€ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œë„ ê¸€ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ë‹µë³€ ì‘ì„± í›„ <FontIcon icon="iconfont icon-select"/>`[ì €ì¥í•˜ê¸°]`ë¥¼ ëˆ„ë¥´ë©´ ìë™ìœ¼ë¡œ ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ì´ë™ë˜ë¯€ë¡œ í° ë¬¸ì œëŠ” ì•„ë‹ˆì§€ë§Œ ì‘ì„±í•œ ë‹µë³€ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œê°€ ìˆë‹¤.

ì‘ì„±í•œ ê¸€ì´ ì‚¬ë¼ì§€ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œëŠ” ì•„ì˜ˆ ë‹µë³€ ì‘ì„±ì„ ëª»í•˜ê²Œ ë§‰ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒì´ë‹¤.

.<FontIcon icon="iconfont icon-page"/>`question_detail.html` íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•˜ì.

> íŒŒì¼ëª…: <FontIcon icon="iconfont icon-folder"/>`/sbb/src/main/resources/templates/`<FontIcon icon="iconfont icon-page"/>`question_detail.html`

```html{7,8}
<html layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">
    <!-- (... ìƒëµ ...) -->
    <!-- ë‹µë³€ ì‘ì„± -->
    <form th:action="@{|/answer/create/${question.id}|}" th:object="${answerForm}" method="post" class="my-3">
        <div th:replace="~{form_errors :: formErrorsFragment}"></div>
        <textarea sec:authorize="isAnonymous()" disabled th:field="*{content}" class="form-control" rows="10"></textarea>
        <textarea sec:authorize="isAuthenticated()" th:field="*{content}" class="form-control" rows="10"></textarea>
        <input type="submit" value="ë‹µë³€ë“±ë¡" class="btn btn-primary my-2">
    </form>
</div>
</html>
```

ë¡œê·¸ì¸ ìƒíƒœê°€ ì•„ë‹Œ ê²½ìš° `textarea` íƒœê·¸ì— `disabled` ì†ì„±ì„ ì ìš©í•˜ì—¬ ì…ë ¥ì„ ëª»í•˜ê²Œ ë§Œë“¤ì—ˆë‹¤. `sec:authorize="isAnonymous()"`, `sec:authorize="isAuthenticated()"` ì†ì„±ì€ í˜„ì¬ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” ì†ì„±ì´ë‹¤.

- `sec:authorize="isAnonymous()"` - í˜„ì¬ ë¡œê·¸ì•„ì›ƒ ìƒíƒœ
- `sec:authorize="isAuthenticated()"` - í˜„ì¬ ë¡œê·¸ì¸ ìƒíƒœ

![ë‹¤ìŒì€ ë¡œê·¸ì•„ì›ƒ ìƒíƒœì—ì„œ disabledê°€ ì ìš©ëœ í™”ë©´ì´ë‹¤.](https://wikidocs.net/images/page/162330/C_3-08_3.png)

---

<TagLinks />